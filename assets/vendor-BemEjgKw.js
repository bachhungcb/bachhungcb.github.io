function Pm(T){return T&&T.__esModule&&Object.prototype.hasOwnProperty.call(T,"default")?T.default:T}var Ud={exports:{}},nf={};var _m;function wy(){if(_m)return nf;_m=1;var T=Symbol.for("react.transitional.element"),P=Symbol.for("react.fragment");function q(I,$,rt){var h=null;if(rt!==void 0&&(h=""+rt),$.key!==void 0&&(h=""+$.key),"key"in $){rt={};for(var xt in $)xt!=="key"&&(rt[xt]=$[xt])}else rt=$;return $=rt.ref,{$$typeof:T,type:I,key:h,ref:$!==void 0?$:null,props:rt}}return nf.Fragment=P,nf.jsx=q,nf.jsxs=q,nf}var xm;function Sy(){return xm||(xm=1,Ud.exports=wy()),Ud.exports}var y_=Sy(),Pd={exports:{}},si={};var bm;function Ey(){if(bm)return si;bm=1;var T=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),rt=Symbol.for("react.consumer"),h=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),it=Symbol.for("react.memo"),yt=Symbol.for("react.lazy"),bt=Symbol.for("react.activity"),Xt=Symbol.iterator;function ce(lt){return lt===null||typeof lt!="object"?null:(lt=Xt&&lt[Xt]||lt["@@iterator"],typeof lt=="function"?lt:null)}var pe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ee=Object.assign,ne={};function ve(lt,Pt,he){this.props=lt,this.context=Pt,this.refs=ne,this.updater=he||pe}ve.prototype.isReactComponent={},ve.prototype.setState=function(lt,Pt){if(typeof lt!="object"&&typeof lt!="function"&&lt!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,lt,Pt,"setState")},ve.prototype.forceUpdate=function(lt){this.updater.enqueueForceUpdate(this,lt,"forceUpdate")};function be(){}be.prototype=ve.prototype;function me(lt,Pt,he){this.props=lt,this.context=Pt,this.refs=ne,this.updater=he||pe}var Ei=me.prototype=new be;Ei.constructor=me,Ee(Ei,ve.prototype),Ei.isPureReactComponent=!0;var Oi=Array.isArray;function tn(){}var Ge={H:null,A:null,T:null,S:null},yn=Object.prototype.hasOwnProperty;function ni(lt,Pt,he){var ge=he.ref;return{$$typeof:T,type:lt,key:Pt,ref:ge!==void 0?ge:null,props:he}}function Qn(lt,Pt){return ni(lt.type,Pt,lt.props)}function zi(lt){return typeof lt=="object"&&lt!==null&&lt.$$typeof===T}function vn(lt){var Pt={"=":"=0",":":"=2"};return"$"+lt.replace(/[=:]/g,function(he){return Pt[he]})}var ca=/\/+/g;function jn(lt,Pt){return typeof lt=="object"&&lt!==null&&lt.key!=null?vn(""+lt.key):Pt.toString(36)}function sr(lt){switch(lt.status){case"fulfilled":return lt.value;case"rejected":throw lt.reason;default:switch(typeof lt.status=="string"?lt.then(tn,tn):(lt.status="pending",lt.then(function(Pt){lt.status==="pending"&&(lt.status="fulfilled",lt.value=Pt)},function(Pt){lt.status==="pending"&&(lt.status="rejected",lt.reason=Pt)})),lt.status){case"fulfilled":return lt.value;case"rejected":throw lt.reason}}throw lt}function It(lt,Pt,he,ge,je){var Je=typeof lt;(Je==="undefined"||Je==="boolean")&&(lt=null);var He=!1;if(lt===null)He=!0;else switch(Je){case"bigint":case"string":case"number":He=!0;break;case"object":switch(lt.$$typeof){case T:case P:He=!0;break;case yt:return He=lt._init,It(He(lt._payload),Pt,he,ge,je)}}if(He)return je=je(lt),He=ge===""?"."+jn(lt,0):ge,Oi(je)?(he="",He!=null&&(he=He.replace(ca,"$&/")+"/"),It(je,Pt,he,"",function(wr){return wr})):je!=null&&(zi(je)&&(je=Qn(je,he+(je.key==null||lt&&lt.key===je.key?"":(""+je.key).replace(ca,"$&/")+"/")+He)),Pt.push(je)),1;He=0;var Ln=ge===""?".":ge+":";if(Oi(lt))for(var fi=0;fi<lt.length;fi++)ge=lt[fi],Je=Ln+jn(ge,fi),He+=It(ge,Pt,he,Je,je);else if(fi=ce(lt),typeof fi=="function")for(lt=fi.call(lt),fi=0;!(ge=lt.next()).done;)ge=ge.value,Je=Ln+jn(ge,fi++),He+=It(ge,Pt,he,Je,je);else if(Je==="object"){if(typeof lt.then=="function")return It(sr(lt),Pt,he,ge,je);throw Pt=String(lt),Error("Objects are not valid as a React child (found: "+(Pt==="[object Object]"?"object with keys {"+Object.keys(lt).join(", ")+"}":Pt)+"). If you meant to render a collection of children, use an array instead.")}return He}function re(lt,Pt,he){if(lt==null)return lt;var ge=[],je=0;return It(lt,ge,"","",function(Je){return Pt.call(he,Je,je++)}),ge}function Be(lt){if(lt._status===-1){var Pt=lt._result;Pt=Pt(),Pt.then(function(he){(lt._status===0||lt._status===-1)&&(lt._status=1,lt._result=he)},function(he){(lt._status===0||lt._status===-1)&&(lt._status=2,lt._result=he)}),lt._status===-1&&(lt._status=0,lt._result=Pt)}if(lt._status===1)return lt._result.default;throw lt._result}var Ti=typeof reportError=="function"?reportError:function(lt){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Pt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof lt=="object"&&lt!==null&&typeof lt.message=="string"?String(lt.message):String(lt),error:lt});if(!window.dispatchEvent(Pt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",lt);return}console.error(lt)},Li={map:re,forEach:function(lt,Pt,he){re(lt,function(){Pt.apply(this,arguments)},he)},count:function(lt){var Pt=0;return re(lt,function(){Pt++}),Pt},toArray:function(lt){return re(lt,function(Pt){return Pt})||[]},only:function(lt){if(!zi(lt))throw Error("React.Children.only expected to receive a single React element child.");return lt}};return si.Activity=bt,si.Children=Li,si.Component=ve,si.Fragment=q,si.Profiler=$,si.PureComponent=me,si.StrictMode=I,si.Suspense=G,si.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ge,si.__COMPILER_RUNTIME={__proto__:null,c:function(lt){return Ge.H.useMemoCache(lt)}},si.cache=function(lt){return function(){return lt.apply(null,arguments)}},si.cacheSignal=function(){return null},si.cloneElement=function(lt,Pt,he){if(lt==null)throw Error("The argument must be a React element, but you passed "+lt+".");var ge=Ee({},lt.props),je=lt.key;if(Pt!=null)for(Je in Pt.key!==void 0&&(je=""+Pt.key),Pt)!yn.call(Pt,Je)||Je==="key"||Je==="__self"||Je==="__source"||Je==="ref"&&Pt.ref===void 0||(ge[Je]=Pt[Je]);var Je=arguments.length-2;if(Je===1)ge.children=he;else if(1<Je){for(var He=Array(Je),Ln=0;Ln<Je;Ln++)He[Ln]=arguments[Ln+2];ge.children=He}return ni(lt.type,je,ge)},si.createContext=function(lt){return lt={$$typeof:h,_currentValue:lt,_currentValue2:lt,_threadCount:0,Provider:null,Consumer:null},lt.Provider=lt,lt.Consumer={$$typeof:rt,_context:lt},lt},si.createElement=function(lt,Pt,he){var ge,je={},Je=null;if(Pt!=null)for(ge in Pt.key!==void 0&&(Je=""+Pt.key),Pt)yn.call(Pt,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(je[ge]=Pt[ge]);var He=arguments.length-2;if(He===1)je.children=he;else if(1<He){for(var Ln=Array(He),fi=0;fi<He;fi++)Ln[fi]=arguments[fi+2];je.children=Ln}if(lt&&lt.defaultProps)for(ge in He=lt.defaultProps,He)je[ge]===void 0&&(je[ge]=He[ge]);return ni(lt,Je,je)},si.createRef=function(){return{current:null}},si.forwardRef=function(lt){return{$$typeof:xt,render:lt}},si.isValidElement=zi,si.lazy=function(lt){return{$$typeof:yt,_payload:{_status:-1,_result:lt},_init:Be}},si.memo=function(lt,Pt){return{$$typeof:it,type:lt,compare:Pt===void 0?null:Pt}},si.startTransition=function(lt){var Pt=Ge.T,he={};Ge.T=he;try{var ge=lt(),je=Ge.S;je!==null&&je(he,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(tn,Ti)}catch(Je){Ti(Je)}finally{Pt!==null&&he.types!==null&&(Pt.types=he.types),Ge.T=Pt}},si.unstable_useCacheRefresh=function(){return Ge.H.useCacheRefresh()},si.use=function(lt){return Ge.H.use(lt)},si.useActionState=function(lt,Pt,he){return Ge.H.useActionState(lt,Pt,he)},si.useCallback=function(lt,Pt){return Ge.H.useCallback(lt,Pt)},si.useContext=function(lt){return Ge.H.useContext(lt)},si.useDebugValue=function(){},si.useDeferredValue=function(lt,Pt){return Ge.H.useDeferredValue(lt,Pt)},si.useEffect=function(lt,Pt){return Ge.H.useEffect(lt,Pt)},si.useEffectEvent=function(lt){return Ge.H.useEffectEvent(lt)},si.useId=function(){return Ge.H.useId()},si.useImperativeHandle=function(lt,Pt,he){return Ge.H.useImperativeHandle(lt,Pt,he)},si.useInsertionEffect=function(lt,Pt){return Ge.H.useInsertionEffect(lt,Pt)},si.useLayoutEffect=function(lt,Pt){return Ge.H.useLayoutEffect(lt,Pt)},si.useMemo=function(lt,Pt){return Ge.H.useMemo(lt,Pt)},si.useOptimistic=function(lt,Pt){return Ge.H.useOptimistic(lt,Pt)},si.useReducer=function(lt,Pt,he){return Ge.H.useReducer(lt,Pt,he)},si.useRef=function(lt){return Ge.H.useRef(lt)},si.useState=function(lt){return Ge.H.useState(lt)},si.useSyncExternalStore=function(lt,Pt,he){return Ge.H.useSyncExternalStore(lt,Pt,he)},si.useTransition=function(){return Ge.H.useTransition()},si.version="19.2.0",si}var wm;function Jd(){return wm||(wm=1,Pd.exports=Ey()),Pd.exports}var Tt=Jd();const v_=Pm(Tt);var Nd={exports:{}},rf={},Fd={exports:{}},Vd={};var Sm;function Ty(){return Sm||(Sm=1,(function(T){function P(It,re){var Be=It.length;It.push(re);t:for(;0<Be;){var Ti=Be-1>>>1,Li=It[Ti];if(0<$(Li,re))It[Ti]=re,It[Be]=Li,Be=Ti;else break t}}function q(It){return It.length===0?null:It[0]}function I(It){if(It.length===0)return null;var re=It[0],Be=It.pop();if(Be!==re){It[0]=Be;t:for(var Ti=0,Li=It.length,lt=Li>>>1;Ti<lt;){var Pt=2*(Ti+1)-1,he=It[Pt],ge=Pt+1,je=It[ge];if(0>$(he,Be))ge<Li&&0>$(je,he)?(It[Ti]=je,It[ge]=Be,Ti=ge):(It[Ti]=he,It[Pt]=Be,Ti=Pt);else if(ge<Li&&0>$(je,Be))It[Ti]=je,It[ge]=Be,Ti=ge;else break t}}return re}function $(It,re){var Be=It.sortIndex-re.sortIndex;return Be!==0?Be:It.id-re.id}if(T.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var rt=performance;T.unstable_now=function(){return rt.now()}}else{var h=Date,xt=h.now();T.unstable_now=function(){return h.now()-xt}}var G=[],it=[],yt=1,bt=null,Xt=3,ce=!1,pe=!1,Ee=!1,ne=!1,ve=typeof setTimeout=="function"?setTimeout:null,be=typeof clearTimeout=="function"?clearTimeout:null,me=typeof setImmediate<"u"?setImmediate:null;function Ei(It){for(var re=q(it);re!==null;){if(re.callback===null)I(it);else if(re.startTime<=It)I(it),re.sortIndex=re.expirationTime,P(G,re);else break;re=q(it)}}function Oi(It){if(Ee=!1,Ei(It),!pe)if(q(G)!==null)pe=!0,tn||(tn=!0,vn());else{var re=q(it);re!==null&&sr(Oi,re.startTime-It)}}var tn=!1,Ge=-1,yn=5,ni=-1;function Qn(){return ne?!0:!(T.unstable_now()-ni<yn)}function zi(){if(ne=!1,tn){var It=T.unstable_now();ni=It;var re=!0;try{t:{pe=!1,Ee&&(Ee=!1,be(Ge),Ge=-1),ce=!0;var Be=Xt;try{e:{for(Ei(It),bt=q(G);bt!==null&&!(bt.expirationTime>It&&Qn());){var Ti=bt.callback;if(typeof Ti=="function"){bt.callback=null,Xt=bt.priorityLevel;var Li=Ti(bt.expirationTime<=It);if(It=T.unstable_now(),typeof Li=="function"){bt.callback=Li,Ei(It),re=!0;break e}bt===q(G)&&I(G),Ei(It)}else I(G);bt=q(G)}if(bt!==null)re=!0;else{var lt=q(it);lt!==null&&sr(Oi,lt.startTime-It),re=!1}}break t}finally{bt=null,Xt=Be,ce=!1}re=void 0}}finally{re?vn():tn=!1}}}var vn;if(typeof me=="function")vn=function(){me(zi)};else if(typeof MessageChannel<"u"){var ca=new MessageChannel,jn=ca.port2;ca.port1.onmessage=zi,vn=function(){jn.postMessage(null)}}else vn=function(){ve(zi,0)};function sr(It,re){Ge=ve(function(){It(T.unstable_now())},re)}T.unstable_IdlePriority=5,T.unstable_ImmediatePriority=1,T.unstable_LowPriority=4,T.unstable_NormalPriority=3,T.unstable_Profiling=null,T.unstable_UserBlockingPriority=2,T.unstable_cancelCallback=function(It){It.callback=null},T.unstable_forceFrameRate=function(It){0>It||125<It?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):yn=0<It?Math.floor(1e3/It):5},T.unstable_getCurrentPriorityLevel=function(){return Xt},T.unstable_next=function(It){switch(Xt){case 1:case 2:case 3:var re=3;break;default:re=Xt}var Be=Xt;Xt=re;try{return It()}finally{Xt=Be}},T.unstable_requestPaint=function(){ne=!0},T.unstable_runWithPriority=function(It,re){switch(It){case 1:case 2:case 3:case 4:case 5:break;default:It=3}var Be=Xt;Xt=It;try{return re()}finally{Xt=Be}},T.unstable_scheduleCallback=function(It,re,Be){var Ti=T.unstable_now();switch(typeof Be=="object"&&Be!==null?(Be=Be.delay,Be=typeof Be=="number"&&0<Be?Ti+Be:Ti):Be=Ti,It){case 1:var Li=-1;break;case 2:Li=250;break;case 5:Li=1073741823;break;case 4:Li=1e4;break;default:Li=5e3}return Li=Be+Li,It={id:yt++,callback:re,priorityLevel:It,startTime:Be,expirationTime:Li,sortIndex:-1},Be>Ti?(It.sortIndex=Be,P(it,It),q(G)===null&&It===q(it)&&(Ee?(be(Ge),Ge=-1):Ee=!0,sr(Oi,Be-Ti))):(It.sortIndex=Li,P(G,It),pe||ce||(pe=!0,tn||(tn=!0,vn()))),It},T.unstable_shouldYield=Qn,T.unstable_wrapCallback=function(It){var re=Xt;return function(){var Be=Xt;Xt=re;try{return It.apply(this,arguments)}finally{Xt=Be}}}})(Vd)),Vd}var Em;function Ay(){return Em||(Em=1,Fd.exports=Ty()),Fd.exports}var qd={exports:{}},Ea={};var Tm;function zy(){if(Tm)return Ea;Tm=1;var T=Jd();function P(G){var it="https://react.dev/errors/"+G;if(1<arguments.length){it+="?args[]="+encodeURIComponent(arguments[1]);for(var yt=2;yt<arguments.length;yt++)it+="&args[]="+encodeURIComponent(arguments[yt])}return"Minified React error #"+G+"; visit "+it+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function q(){}var I={d:{f:q,r:function(){throw Error(P(522))},D:q,C:q,L:q,m:q,X:q,S:q,M:q},p:0,findDOMNode:null},$=Symbol.for("react.portal");function rt(G,it,yt){var bt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:bt==null?null:""+bt,children:G,containerInfo:it,implementation:yt}}var h=T.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function xt(G,it){if(G==="font")return"";if(typeof it=="string")return it==="use-credentials"?it:""}return Ea.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ea.createPortal=function(G,it){var yt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!it||it.nodeType!==1&&it.nodeType!==9&&it.nodeType!==11)throw Error(P(299));return rt(G,it,null,yt)},Ea.flushSync=function(G){var it=h.T,yt=I.p;try{if(h.T=null,I.p=2,G)return G()}finally{h.T=it,I.p=yt,I.d.f()}},Ea.preconnect=function(G,it){typeof G=="string"&&(it?(it=it.crossOrigin,it=typeof it=="string"?it==="use-credentials"?it:"":void 0):it=null,I.d.C(G,it))},Ea.prefetchDNS=function(G){typeof G=="string"&&I.d.D(G)},Ea.preinit=function(G,it){if(typeof G=="string"&&it&&typeof it.as=="string"){var yt=it.as,bt=xt(yt,it.crossOrigin),Xt=typeof it.integrity=="string"?it.integrity:void 0,ce=typeof it.fetchPriority=="string"?it.fetchPriority:void 0;yt==="style"?I.d.S(G,typeof it.precedence=="string"?it.precedence:void 0,{crossOrigin:bt,integrity:Xt,fetchPriority:ce}):yt==="script"&&I.d.X(G,{crossOrigin:bt,integrity:Xt,fetchPriority:ce,nonce:typeof it.nonce=="string"?it.nonce:void 0})}},Ea.preinitModule=function(G,it){if(typeof G=="string")if(typeof it=="object"&&it!==null){if(it.as==null||it.as==="script"){var yt=xt(it.as,it.crossOrigin);I.d.M(G,{crossOrigin:yt,integrity:typeof it.integrity=="string"?it.integrity:void 0,nonce:typeof it.nonce=="string"?it.nonce:void 0})}}else it==null&&I.d.M(G)},Ea.preload=function(G,it){if(typeof G=="string"&&typeof it=="object"&&it!==null&&typeof it.as=="string"){var yt=it.as,bt=xt(yt,it.crossOrigin);I.d.L(G,yt,{crossOrigin:bt,integrity:typeof it.integrity=="string"?it.integrity:void 0,nonce:typeof it.nonce=="string"?it.nonce:void 0,type:typeof it.type=="string"?it.type:void 0,fetchPriority:typeof it.fetchPriority=="string"?it.fetchPriority:void 0,referrerPolicy:typeof it.referrerPolicy=="string"?it.referrerPolicy:void 0,imageSrcSet:typeof it.imageSrcSet=="string"?it.imageSrcSet:void 0,imageSizes:typeof it.imageSizes=="string"?it.imageSizes:void 0,media:typeof it.media=="string"?it.media:void 0})}},Ea.preloadModule=function(G,it){if(typeof G=="string")if(it){var yt=xt(it.as,it.crossOrigin);I.d.m(G,{as:typeof it.as=="string"&&it.as!=="script"?it.as:void 0,crossOrigin:yt,integrity:typeof it.integrity=="string"?it.integrity:void 0})}else I.d.m(G)},Ea.requestFormReset=function(G){I.d.r(G)},Ea.unstable_batchedUpdates=function(G,it){return G(it)},Ea.useFormState=function(G,it,yt){return h.H.useFormState(G,it,yt)},Ea.useFormStatus=function(){return h.H.useHostTransitionStatus()},Ea.version="19.2.0",Ea}var Am;function Nm(){if(Am)return qd.exports;Am=1;function T(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(T)}catch(P){console.error(P)}}return T(),qd.exports=zy(),qd.exports}var zm;function Cy(){if(zm)return rf;zm=1;var T=Ay(),P=Jd(),q=Nm();function I(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function $(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function rt(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function xt(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function G(e){if(rt(e)!==e)throw Error(I(188))}function it(e){var n=e.alternate;if(!n){if(n=rt(e),n===null)throw Error(I(188));return n!==e?null:e}for(var o=e,p=n;;){var v=o.return;if(v===null)break;var _=v.alternate;if(_===null){if(p=v.return,p!==null){o=p;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===o)return G(v),e;if(_===p)return G(v),n;_=_.sibling}throw Error(I(188))}if(o.return!==p.return)o=v,p=_;else{for(var C=!1,j=v.child;j;){if(j===o){C=!0,o=v,p=_;break}if(j===p){C=!0,p=v,o=_;break}j=j.sibling}if(!C){for(j=_.child;j;){if(j===o){C=!0,o=_,p=v;break}if(j===p){C=!0,p=_,o=v;break}j=j.sibling}if(!C)throw Error(I(189))}}if(o.alternate!==p)throw Error(I(190))}if(o.tag!==3)throw Error(I(188));return o.stateNode.current===o?e:n}function yt(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=yt(e),n!==null)return n;e=e.sibling}return null}var bt=Object.assign,Xt=Symbol.for("react.element"),ce=Symbol.for("react.transitional.element"),pe=Symbol.for("react.portal"),Ee=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),ve=Symbol.for("react.profiler"),be=Symbol.for("react.consumer"),me=Symbol.for("react.context"),Ei=Symbol.for("react.forward_ref"),Oi=Symbol.for("react.suspense"),tn=Symbol.for("react.suspense_list"),Ge=Symbol.for("react.memo"),yn=Symbol.for("react.lazy"),ni=Symbol.for("react.activity"),Qn=Symbol.for("react.memo_cache_sentinel"),zi=Symbol.iterator;function vn(e){return e===null||typeof e!="object"?null:(e=zi&&e[zi]||e["@@iterator"],typeof e=="function"?e:null)}var ca=Symbol.for("react.client.reference");function jn(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ca?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ee:return"Fragment";case ve:return"Profiler";case ne:return"StrictMode";case Oi:return"Suspense";case tn:return"SuspenseList";case ni:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case pe:return"Portal";case me:return e.displayName||"Context";case be:return(e._context.displayName||"Context")+".Consumer";case Ei:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ge:return n=e.displayName||null,n!==null?n:jn(e.type)||"Memo";case yn:n=e._payload,e=e._init;try{return jn(e(n))}catch{}}return null}var sr=Array.isArray,It=P.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=q.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Be={pending:!1,data:null,method:null,action:null},Ti=[],Li=-1;function lt(e){return{current:e}}function Pt(e){0>Li||(e.current=Ti[Li],Ti[Li]=null,Li--)}function he(e,n){Li++,Ti[Li]=e.current,e.current=n}var ge=lt(null),je=lt(null),Je=lt(null),He=lt(null);function Ln(e,n){switch(he(Je,n),he(je,e),he(ge,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?lu(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=lu(n),e=ro(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Pt(ge),he(ge,e)}function fi(){Pt(ge),Pt(je),Pt(Je)}function wr(e){e.memoizedState!==null&&he(He,e);var n=ge.current,o=ro(n,e.type);n!==o&&(he(je,e),he(ge,o))}function oo(e){je.current===e&&(Pt(ge),Pt(je)),He.current===e&&(Pt(He),Wh._currentValue=Be)}var Ta,Fe;function lr(e){if(Ta===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);Ta=n&&n[1]||"",Fe=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ta+e+Fe}var To=!1;function Na(e,n){if(!e||To)return"";To=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(n){var qt=function(){throw Error()};if(Object.defineProperty(qt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(qt,[])}catch(Rt){var Ct=Rt}Reflect.construct(e,[],qt)}else{try{qt.call()}catch(Rt){Ct=Rt}e.call(qt.prototype)}}else{try{throw Error()}catch(Rt){Ct=Rt}(qt=e())&&typeof qt.catch=="function"&&qt.catch(function(){})}}catch(Rt){if(Rt&&Ct&&typeof Rt.stack=="string")return[Rt.stack,Ct.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=p.DetermineComponentFrameRoot(),C=_[0],j=_[1];if(C&&j){var st=C.split(`
`),Et=j.split(`
`);for(v=p=0;p<st.length&&!st[p].includes("DetermineComponentFrameRoot");)p++;for(;v<Et.length&&!Et[v].includes("DetermineComponentFrameRoot");)v++;if(p===st.length||v===Et.length)for(p=st.length-1,v=Et.length-1;1<=p&&0<=v&&st[p]!==Et[v];)v--;for(;1<=p&&0<=v;p--,v--)if(st[p]!==Et[v]){if(p!==1||v!==1)do if(p--,v--,0>v||st[p]!==Et[v]){var Ut=`
`+st[p].replace(" at new "," at ");return e.displayName&&Ut.includes("<anonymous>")&&(Ut=Ut.replace("<anonymous>",e.displayName)),Ut}while(1<=p&&0<=v);break}}}finally{To=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?lr(o):""}function mc(e,n){switch(e.tag){case 26:case 27:case 5:return lr(e.type);case 16:return lr("Lazy");case 13:return e.child!==n&&n!==null?lr("Suspense Fallback"):lr("Suspense");case 19:return lr("SuspenseList");case 0:case 15:return Na(e.type,!1);case 11:return Na(e.type.render,!1);case 1:return Na(e.type,!0);case 31:return lr("Activity");default:return""}}function Zr(e){try{var n="",o=null;do n+=mc(e,o),o=e,e=e.return;while(e);return n}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var On=Object.prototype.hasOwnProperty,ks=T.unstable_scheduleCallback,pa=T.unstable_cancelCallback,ha=T.unstable_shouldYield,$o=T.unstable_requestPaint,Wn=T.unstable_now,ts=T.unstable_getCurrentPriorityLevel,Ao=T.unstable_ImmediatePriority,Is=T.unstable_UserBlockingPriority,es=T.unstable_NormalPriority,yu=T.unstable_LowPriority,so=T.unstable_IdlePriority,zo=T.log,Bs=T.unstable_setDisableYieldValue,lo=null,ur=null;function Rr(e){if(typeof zo=="function"&&Bs(e),ur&&typeof ur.setStrictMode=="function")try{ur.setStrictMode(lo,e)}catch{}}var cr=Math.clz32?Math.clz32:vu,xl=Math.log,fa=Math.LN2;function vu(e){return e>>>=0,e===0?32:31-(xl(e)/fa|0)|0}var uo=256,is=262144,Fa=4194304;function Gr(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function co(e,n,o){var p=e.pendingLanes;if(p===0)return 0;var v=0,_=e.suspendedLanes,C=e.pingedLanes;e=e.warmLanes;var j=p&134217727;return j!==0?(p=j&~_,p!==0?v=Gr(p):(C&=j,C!==0?v=Gr(C):o||(o=j&~e,o!==0&&(v=Gr(o))))):(j=p&~_,j!==0?v=Gr(j):C!==0?v=Gr(C):o||(o=p&~e,o!==0&&(v=Gr(o)))),v===0?0:n!==0&&n!==v&&(n&_)===0&&(_=v&-v,o=n&-n,_>=o||_===32&&(o&4194048)!==0)?n:v}function da(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function bl(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ns(){var e=Fa;return Fa<<=1,(Fa&62914560)===0&&(Fa=4194304),e}function po(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function oi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function gn(e,n,o,p,v,_){var C=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var j=e.entanglements,st=e.expirationTimes,Et=e.hiddenUpdates;for(o=C&~o;0<o;){var Ut=31-cr(o),qt=1<<Ut;j[Ut]=0,st[Ut]=-1;var Ct=Et[Ut];if(Ct!==null)for(Et[Ut]=null,Ut=0;Ut<Ct.length;Ut++){var Rt=Ct[Ut];Rt!==null&&(Rt.lane&=-536870913)}o&=~qt}p!==0&&Xi(e,p,0),_!==0&&v===0&&e.tag!==0&&(e.suspendedLanes|=_&~(C&~n))}function Xi(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var p=31-cr(n);e.entangledLanes|=n,e.entanglements[p]=e.entanglements[p]|1073741824|o&261930}function zt(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var p=31-cr(o),v=1<<p;v&n|e[p]&n&&(e[p]|=n),o&=~v}}function Jt(e,n){var o=n&-n;return o=(o&42)!==0?1:ma(o),(o&(e.suspendedLanes|n))!==0?0:o}function ma(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Aa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function pn(){var e=re.p;return e!==0?e:(e=window.event,e===void 0?32:hm(e.type))}function Vi(e,n){var o=re.p;try{return re.p=e,n()}finally{re.p=o}}var z=Math.random().toString(36).slice(2),D="__reactFiber$"+z,k="__reactProps$"+z,O="__reactContainer$"+z,K="__reactEvents$"+z,Q="__reactListeners$"+z,ut="__reactHandles$"+z,ot="__reactResources$"+z,nt="__reactMarker$"+z;function dt(e){delete e[D],delete e[k],delete e[K],delete e[Q],delete e[ut]}function Dt(e){var n=e[D];if(n)return n;for(var o=e.parentNode;o;){if(n=o[O]||o[D]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=cu(e);e!==null;){if(o=e[D])return o;e=cu(e)}return n}e=o,o=e.parentNode}return null}function Nt(e){if(e=e[D]||e[O]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function At(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(I(33))}function Ft(e){var n=e[ot];return n||(n=e[ot]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function jt(e){e[nt]=!0}var ae=new Set,de={};function Ht(e,n){De(e,n),De(e+"Capture",n)}function De(e,n){for(de[e]=n,e=0;e<n.length;e++)ae.add(n[e])}var We=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Le={},Me={};function Ri(e){return On.call(Me,e)?!0:On.call(Le,e)?!1:We.test(e)?Me[e]=!0:(Le[e]=!0,!1)}function Re(e,n,o){if(Ri(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var p=n.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function vi(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function di(e,n,o,p){if(p===null)e.removeAttribute(o);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+p)}}function Ve(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $n(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ri(e,n,o){var p=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var v=p.get,_=p.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return v.call(this)},set:function(C){o=""+C,_.call(this,C)}}),Object.defineProperty(e,n,{enumerable:p.enumerable}),{getValue:function(){return o},setValue:function(C){o=""+C},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function en(e){if(!e._valueTracker){var n=$n(e)?"checked":"value";e._valueTracker=ri(e,n,""+e[n])}}function Qe(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),p="";return e&&(p=$n(e)?e.checked?"true":"false":e.value),e=p,e!==o?(n.setValue(e),!0):!1}function Un(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Zn=/[\n"\\]/g;function Sn(e){return e.replace(Zn,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Va(e,n,o,p,v,_,C,j){e.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.type=C:e.removeAttribute("type"),n!=null?C==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ve(n)):e.value!==""+Ve(n)&&(e.value=""+Ve(n)):C!=="submit"&&C!=="reset"||e.removeAttribute("value"),n!=null?za(e,C,Ve(n)):o!=null?za(e,C,Ve(o)):p!=null&&e.removeAttribute("value"),v==null&&_!=null&&(e.defaultChecked=!!_),v!=null&&(e.checked=v&&typeof v!="function"&&typeof v!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?e.name=""+Ve(j):e.removeAttribute("name")}function Gn(e,n,o,p,v,_,C,j){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.type=_),n!=null||o!=null){if(!(_!=="submit"&&_!=="reset"||n!=null)){en(e);return}o=o!=null?""+Ve(o):"",n=n!=null?""+Ve(n):o,j||n===e.value||(e.value=n),e.defaultValue=n}p=p??v,p=typeof p!="function"&&typeof p!="symbol"&&!!p,e.checked=j?e.checked:!!p,e.defaultChecked=!!p,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(e.name=C),en(e)}function za(e,n,o){n==="number"&&Un(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function Ca(e,n,o,p){if(e=e.options,n){n={};for(var v=0;v<o.length;v++)n["$"+o[v]]=!0;for(o=0;o<e.length;o++)v=n.hasOwnProperty("$"+e[o].value),e[o].selected!==v&&(e[o].selected=v),v&&p&&(e[o].defaultSelected=!0)}else{for(o=""+Ve(o),n=null,v=0;v<e.length;v++){if(e[v].value===o){e[v].selected=!0,p&&(e[v].defaultSelected=!0);return}n!==null||e[v].disabled||(n=e[v])}n!==null&&(n.selected=!0)}}function Hn(e,n,o){if(n!=null&&(n=""+Ve(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+Ve(o):""}function ho(e,n,o,p){if(n==null){if(p!=null){if(o!=null)throw Error(I(92));if(sr(p)){if(1<p.length)throw Error(I(93));p=p[0]}o=p}o==null&&(o=""),n=o}o=Ve(n),e.defaultValue=o,p=e.textContent,p===o&&p!==""&&p!==null&&(e.value=p),en(e)}function Hr(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var Co=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wl(e,n,o){var p=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?p?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":p?e.setProperty(n,o):typeof o!="number"||o===0||Co.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function fo(e,n,o){if(n!=null&&typeof n!="object")throw Error(I(62));if(e=e.style,o!=null){for(var p in o)!o.hasOwnProperty(p)||n!=null&&n.hasOwnProperty(p)||(p.indexOf("--")===0?e.setProperty(p,""):p==="float"?e.cssFloat="":e[p]="");for(var v in n)p=n[v],n.hasOwnProperty(v)&&o[v]!==p&&wl(e,v,p)}else for(var _ in n)n.hasOwnProperty(_)&&wl(e,_,n[_])}function Mn(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Os(e){return yc.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ya(){}var _u=null;function Mo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Do=null,qa=null;function Sl(e){var n=Nt(e);if(n&&(e=n.stateNode)){var o=e[k]||null;t:switch(e=n.stateNode,n.type){case"input":if(Va(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Sn(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var p=o[n];if(p!==e&&p.form===e.form){var v=p[k]||null;if(!v)throw Error(I(90));Va(p,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(n=0;n<o.length;n++)p=o[n],p.form===e.form&&Qe(p)}break t;case"textarea":Hn(e,o.value,o.defaultValue);break t;case"select":n=o.value,n!=null&&Ca(e,!!o.multiple,n,!1)}}}var Lo=!1;function Us(e,n,o){if(Lo)return e(n,o);Lo=!0;try{var p=e(n);return p}finally{if(Lo=!1,(Do!==null||qa!==null)&&(xi(),Do&&(n=Do,e=qa,qa=Do=null,Sl(n),e)))for(n=0;n<e.length;n++)Sl(e[n])}}function Ro(e,n){var o=e.stateNode;if(o===null)return null;var p=o[k]||null;if(p===null)return null;o=p[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(e=e.type,p=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!p;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(I(231,n,typeof o));return o}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rs=!1;if(Xr)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){rs=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{rs=!1}var Ui=null,ko=null,Yr=null;function mo(){if(Yr)return Yr;var e,n=ko,o=n.length,p,v="value"in Ui?Ui.value:Ui.textContent,_=v.length;for(e=0;e<o&&n[e]===v[e];e++);var C=o-e;for(p=1;p<=C&&n[o-p]===v[_-p];p++);return Yr=v.slice(e,1<p?1-p:void 0)}function ja(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Za(){return!0}function Io(){return!1}function Pn(e){function n(o,p,v,_,C){this._reactName=o,this._targetInst=v,this.type=p,this.nativeEvent=_,this.target=C,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(o=e[j],this[j]=o?o(_):_[j]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Za:Io,this.isPropagationStopped=Io,this}return bt(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Za)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Za)},persist:function(){},isPersistent:Za}),n}var Bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},El=Pn(Bo),Ga=bt({},Bo,{view:0,detail:0}),rh=Pn(Ga),vc,gc,Tl,xu=bt({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tl&&(Tl&&e.type==="mousemove"?(vc=e.screenX-Tl.screenX,gc=e.screenY-Tl.screenY):gc=vc=0,Tl=e),vc)},movementY:function(e){return"movementY"in e?e.movementY:gc}}),$c=Pn(xu),as=bt({},xu,{dataTransfer:0}),os=Pn(as),Ns=bt({},Ga,{relatedTarget:0}),bu=Pn(Ns),tp=bt({},Bo,{animationName:0,elapsedTime:0,pseudoElement:0}),_c=Pn(tp),ss=bt({},Bo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xc=Pn(ss),Fs=bt({},Bo,{data:0}),ls=Pn(Fs),ep={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ki={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function us(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ki[e])?!!n[e]:!1}function wu(){return us}var Vs=bt({},Ga,{key:function(e){if(e.key){var n=ep[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ja(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yi[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wu,charCode:function(e){return e.type==="keypress"?ja(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ja(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ip=Pn(Vs),ah=bt({},xu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Su=Pn(ah),np=bt({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wu}),Al=Pn(np),Eu=bt({},Bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tu=Pn(Eu),qs=bt({},xu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),js=Pn(qs),Au=bt({},Bo,{newState:0,oldState:0}),Zs=Pn(Au),Ma=[9,13,27,32],zu=Xr&&"CompositionEvent"in window,Oo=null;Xr&&"documentMode"in document&&(Oo=document.documentMode);var rp=Xr&&"TextEvent"in window&&!Oo,cs=Xr&&(!zu||Oo&&8<Oo&&11>=Oo),zl=" ",Cl=!1;function bc(e,n){switch(e){case"keyup":return Ma.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ml(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gs=!1;function Dl(e,n){switch(e){case"compositionend":return Ml(n);case"keypress":return n.which!==32?null:(Cl=!0,zl);case"textInput":return e=n.data,e===zl&&Cl?null:e;default:return null}}function Cu(e,n){if(Gs)return e==="compositionend"||!zu&&bc(e,n)?(e=mo(),Yr=ko=Ui=null,Gs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return cs&&n.locale!=="ko"?null:n.data;default:return null}}var ap={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ap[e.type]:n==="textarea"}function Ll(e,n,o,p){Do?qa?qa.push(p):qa=[p]:Do=p,n=Ko(n,"onChange"),0<n.length&&(o=new El("onChange","change",null,o,p),e.push({event:o,listeners:n}))}var ps=null,hs=null;function Sc(e){iu(e,0)}function Rl(e){var n=At(e);if(Qe(n))return e}function Ec(e,n){if(e==="change")return n}var fs=!1;if(Xr){var Mu;if(Xr){var kl="oninput"in document;if(!kl){var Du=document.createElement("div");Du.setAttribute("oninput","return;"),kl=typeof Du.oninput=="function"}Mu=kl}else Mu=!1;fs=Mu&&(!document.documentMode||9<document.documentMode)}function Lu(){ps&&(ps.detachEvent("onpropertychange",kr),hs=ps=null)}function kr(e){if(e.propertyName==="value"&&Rl(hs)){var n=[];Ll(n,hs,e,Mo(e)),Us(Sc,n)}}function oh(e,n,o){e==="focusin"?(Lu(),ps=n,hs=o,ps.attachEvent("onpropertychange",kr)):e==="focusout"&&Lu()}function ds(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rl(hs)}function op(e,n){if(e==="click")return Rl(n)}function Hs(e,n){if(e==="input"||e==="change")return Rl(n)}function Il(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ir=typeof Object.is=="function"?Object.is:Il;function qi(e,n){if(Ir(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),p=Object.keys(n);if(o.length!==p.length)return!1;for(p=0;p<o.length;p++){var v=o[p];if(!On.call(n,v)||!Ir(e[v],n[v]))return!1}return!0}function Ru(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ku(e,n){var o=Ru(e);e=0;for(var p;o;){if(o.nodeType===3){if(p=e+o.textContent.length,e<=n&&p>=n)return{node:o,offset:n-e};e=p}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Ru(o)}}function Uo(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Uo(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function li(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Un(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=Un(e.document)}return n}function ji(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Po=Xr&&"documentMode"in document&&11>=document.documentMode,Rn=null,ue=null,ms=null,vr=!1;function Kr(e,n,o){var p=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;vr||Rn==null||Rn!==Un(p)||(p=Rn,"selectionStart"in p&&ji(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ms&&qi(ms,p)||(ms=p,p=Ko(ue,"onSelect"),0<p.length&&(n=new El("onSelect","select",null,n,o),e.push({event:n,listeners:p}),n.target=Rn)))}function va(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var sn={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionrun:va("Transition","TransitionRun"),transitionstart:va("Transition","TransitionStart"),transitioncancel:va("Transition","TransitionCancel"),transitionend:va("Transition","TransitionEnd")},Xs={},Zt={};Xr&&(Zt=document.createElement("div").style,"AnimationEvent"in window||(delete sn.animationend.animation,delete sn.animationiteration.animation,delete sn.animationstart.animation),"TransitionEvent"in window||delete sn.transitionend.transition);function Jr(e){if(Xs[e])return Xs[e];if(!sn[e])return e;var n=sn[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in Zt)return Xs[e]=n[o];return e}var sp=Jr("animationend"),Qr=Jr("animationiteration"),Tc=Jr("animationstart"),Br=Jr("transitionrun"),lp=Jr("transitionstart"),sh=Jr("transitioncancel"),ga=Jr("transitionend"),Ha=new Map,yo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yo.push("scrollEnd");function Wr(e,n){Ha.set(e,n),Ht(n,[e])}var tr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Xn=[],_a=0,Bl=0;function Ys(){for(var e=_a,n=Bl=_a=0;n<e;){var o=Xn[n];Xn[n++]=null;var p=Xn[n];Xn[n++]=null;var v=Xn[n];Xn[n++]=null;var _=Xn[n];if(Xn[n++]=null,p!==null&&v!==null){var C=p.pending;C===null?v.next=v:(v.next=C.next,C.next=v),p.pending=v}_!==0&&Pi(o,v,_)}}function No(e,n,o,p){Xn[_a++]=e,Xn[_a++]=n,Xn[_a++]=o,Xn[_a++]=p,Bl|=p,e.lanes|=p,e=e.alternate,e!==null&&(e.lanes|=p)}function Iu(e,n,o,p){return No(e,n,o,p),Da(e)}function hn(e,n){return No(e,null,null,n),Da(e)}function Pi(e,n,o){e.lanes|=o;var p=e.alternate;p!==null&&(p.lanes|=o);for(var v=!1,_=e.return;_!==null;)_.childLanes|=o,p=_.alternate,p!==null&&(p.childLanes|=o),_.tag===22&&(e=_.stateNode,e===null||e._visibility&1||(v=!0)),e=_,_=_.return;return e.tag===3?(_=e.stateNode,v&&n!==null&&(v=31-cr(o),e=_.hiddenUpdates,p=e[v],p===null?e[v]=[n]:p.push(n),n.lane=o|536870912),_):null}function Da(e){if(50<kt)throw kt=0,Wt=null,Error(I(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var La={};function Or(e,n,o,p){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(e,n,o,p){return new Or(e,n,o,p)}function Ks(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $r(e,n){var o=e.alternate;return o===null?(o=gr(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Sr(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ra(e,n,o,p,v,_){var C=0;if(p=e,typeof e=="function")Ks(e)&&(C=1);else if(typeof e=="string")C=cy(e,o,ge.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case ni:return e=gr(31,o,n,v),e.elementType=ni,e.lanes=_,e;case Ee:return fe(o.children,v,_,n);case ne:C=8,v|=24;break;case ve:return e=gr(12,o,n,v|2),e.elementType=ve,e.lanes=_,e;case Oi:return e=gr(13,o,n,v),e.elementType=Oi,e.lanes=_,e;case tn:return e=gr(19,o,n,v),e.elementType=tn,e.lanes=_,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case me:C=10;break t;case be:C=9;break t;case Ei:C=11;break t;case Ge:C=14;break t;case yn:C=16,p=null;break t}C=29,o=Error(I(130,e===null?"null":typeof e,"")),p=null}return n=gr(C,o,n,v),n.elementType=e,n.type=p,n.lanes=_,n}function fe(e,n,o,p){return e=gr(7,e,p,n),e.lanes=o,e}function _e(e,n,o){return e=gr(6,e,null,n),e.lanes=o,e}function Ur(e){var n=gr(18,null,null,0);return n.stateNode=e,n}function Fo(e,n,o){return n=gr(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Js=new WeakMap;function fn(e,n){if(typeof e=="object"&&e!==null){var o=Js.get(e);return o!==void 0?o:(n={value:e,source:n,stack:Zr(n)},Js.set(e,n),n)}return{value:e,source:n,stack:Zr(n)}}var _r=[],a=0,l=null,s=0,c=[],m=0,g=null,b=1,w="";function E(e,n){_r[a++]=s,_r[a++]=l,l=e,s=n}function L(e,n,o){c[m++]=b,c[m++]=w,c[m++]=g,g=e;var p=b;e=w;var v=32-cr(p)-1;p&=~(1<<v),o+=1;var _=32-cr(n)+v;if(30<_){var C=v-v%5;_=(p&(1<<C)-1).toString(32),p>>=C,v-=C,b=1<<32-cr(n)+v|o<<v|p,w=_+e}else b=1<<_|o<<v|p,w=e}function R(e){e.return!==null&&(E(e,1),L(e,1,0))}function N(e){for(;e===l;)l=_r[--a],_r[a]=null,s=_r[--a],_r[a]=null;for(;e===g;)g=c[--m],c[m]=null,w=c[--m],c[m]=null,b=c[--m],c[m]=null}function Y(e,n){c[m++]=b,c[m++]=w,c[m++]=g,b=n.id,w=n.overflow,g=e}var H=null,X=null,Z=!1,at=null,tt=!1,ht=Error(I(519));function ct(e){var n=Error(I(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kt(fn(n,e)),ht}function ft(e){var n=e.stateNode,o=e.type,p=e.memoizedProps;switch(n[D]=e,n[k]=p,o){case"dialog":hi("cancel",n),hi("close",n);break;case"iframe":case"object":case"embed":hi("load",n);break;case"video":case"audio":for(o=0;o<dl.length;o++)hi(dl[o],n);break;case"source":hi("error",n);break;case"img":case"image":case"link":hi("error",n),hi("load",n);break;case"details":hi("toggle",n);break;case"input":hi("invalid",n),Gn(n,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":hi("invalid",n);break;case"textarea":hi("invalid",n),ho(n,p.value,p.defaultValue,p.children)}o=p.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||p.suppressHydrationWarning===!0||Hp(n.textContent,o)?(p.popover!=null&&(hi("beforetoggle",n),hi("toggle",n)),p.onScroll!=null&&hi("scroll",n),p.onScrollEnd!=null&&hi("scrollend",n),p.onClick!=null&&(n.onclick=ya),n=!0):n=!1,n||ct(e,!0)}function wt(e){for(H=e.return;H;)switch(H.tag){case 5:case 31:case 13:tt=!1;return;case 27:case 3:tt=!0;return;default:H=H.return}}function Mt(e){if(e!==H)return!1;if(!Z)return wt(e),Z=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Mr(e.type,e.memoizedProps)),o=!o),o&&X&&ct(e),wt(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));X=ic(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));X=ic(e)}else n===27?(n=X,Ds(e.type)?(e=uu,uu=null,X=e):X=n):X=H?jr(e.stateNode.nextSibling):null;return!0}function Bt(){X=H=null,Z=!1}function ee(){var e=at;return e!==null&&(A===null?A=e:A.push.apply(A,e),at=null),e}function Kt(e){at===null?at=[e]:at.push(e)}var le=lt(null),Yt=null,ye=null;function Qt(e,n,o){he(le,n._currentValue),n._currentValue=o}function we(e){e._currentValue=le.current,Pt(le)}function ke(e,n,o){for(;e!==null;){var p=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,p!==null&&(p.childLanes|=n)):p!==null&&(p.childLanes&n)!==n&&(p.childLanes|=n),e===o)break;e=e.return}}function ze(e,n,o,p){var v=e.child;for(v!==null&&(v.return=e);v!==null;){var _=v.dependencies;if(_!==null){var C=v.child;_=_.firstContext;t:for(;_!==null;){var j=_;_=v;for(var st=0;st<n.length;st++)if(j.context===n[st]){_.lanes|=o,j=_.alternate,j!==null&&(j.lanes|=o),ke(_.return,o,e),p||(C=null);break t}_=j.next}}else if(v.tag===18){if(C=v.return,C===null)throw Error(I(341));C.lanes|=o,_=C.alternate,_!==null&&(_.lanes|=o),ke(C,o,e),C=null}else C=v.child;if(C!==null)C.return=v;else for(C=v;C!==null;){if(C===e){C=null;break}if(v=C.sibling,v!==null){v.return=C.return,C=v;break}C=C.return}v=C}}function Te(e,n,o,p){e=null;for(var v=n,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var C=v.alternate;if(C===null)throw Error(I(387));if(C=C.memoizedProps,C!==null){var j=v.type;Ir(v.pendingProps.value,C.value)||(e!==null?e.push(j):e=[j])}}else if(v===He.current){if(C=v.alternate,C===null)throw Error(I(387));C.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(e!==null?e.push(Wh):e=[Wh])}v=v.return}e!==null&&ze(n,e,o,p),n.flags|=262144}function gi(e){for(e=e.firstContext;e!==null;){if(!Ir(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ie(e){Yt=e,ye=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function xe(e){return pi(Yt,e)}function nn(e,n){return Yt===null&&Ie(e),pi(e,n)}function pi(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},ye===null){if(e===null)throw Error(I(308));ye=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ye=ye.next=n;return o}var qe=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,p){e.push(p)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},Nn=T.unstable_scheduleCallback,En=T.unstable_NormalPriority,Zi={$$typeof:me,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xr(){return{controller:new qe,data:new Map,refCount:0}}function ta(e){e.refCount--,e.refCount===0&&Nn(En,function(){e.controller.abort()})}var ka=null,kn=0,Xa=0,xa=null;function Vo(e,n){if(ka===null){var o=ka=[];kn=0,Xa=Cs(),xa={status:"pending",value:void 0,then:function(p){o.push(p)}}}return kn++,n.then(Pr,Pr),n}function Pr(){if(--kn===0&&ka!==null){xa!==null&&(xa.status="fulfilled");var e=ka;ka=null,Xa=0,xa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Bu(e,n){var o=[],p={status:"pending",value:null,reason:null,then:function(v){o.push(v)}};return e.then(function(){p.status="fulfilled",p.value=n;for(var v=0;v<o.length;v++)(0,o[v])(n)},function(v){for(p.status="rejected",p.reason=v,v=0;v<o.length;v++)(0,o[v])(void 0)}),p}var Ya=It.S;It.S=function(e,n){F=Wn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Vo(e,n),Ya!==null&&Ya(e,n)};var ba=lt(null);function Qs(){var e=ba.current;return e!==null?e:Ni.pooledCache}function vo(e,n){n===null?he(ba,ba.current):he(ba,n.pool)}function qo(){var e=Qs();return e===null?null:{parent:Zi._currentValue,pool:e}}var Ka=Error(I(460)),Gi=Error(I(474)),mi=Error(I(542)),wi={then:function(){}};function pr(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Er(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(ya,ya),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ea(e),e;default:if(typeof n.status=="string")n.then(ya,ya);else{if(e=Ni,e!==null&&100<e.shellSuspendCounter)throw Error(I(482));e=n,e.status="pending",e.then(function(p){if(n.status==="pending"){var v=n;v.status="fulfilled",v.value=p}},function(p){if(n.status==="pending"){var v=n;v.status="rejected",v.reason=p}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ea(e),e}throw hr=n,Ka}}function Yn(e){try{var n=e._init;return n(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(hr=o,Ka):o}}var hr=null;function Kn(){if(hr===null)throw Error(I(459));var e=hr;return hr=null,e}function ea(e){if(e===Ka||e===mi)throw Error(I(483))}var go=null,ys=0;function Ws(e){var n=ys;return ys+=1,go===null&&(go=[]),Er(go,e,n)}function Nr(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function vs(e,n){throw n.$$typeof===Xt?Error(I(525)):(e=Object.prototype.toString.call(n),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Ac(e){function n(_t,pt){if(e){var St=_t.deletions;St===null?(_t.deletions=[pt],_t.flags|=16):St.push(pt)}}function o(_t,pt){if(!e)return null;for(;pt!==null;)n(_t,pt),pt=pt.sibling;return null}function p(_t){for(var pt=new Map;_t!==null;)_t.key!==null?pt.set(_t.key,_t):pt.set(_t.index,_t),_t=_t.sibling;return pt}function v(_t,pt){return _t=$r(_t,pt),_t.index=0,_t.sibling=null,_t}function _(_t,pt,St){return _t.index=St,e?(St=_t.alternate,St!==null?(St=St.index,St<pt?(_t.flags|=67108866,pt):St):(_t.flags|=67108866,pt)):(_t.flags|=1048576,pt)}function C(_t){return e&&_t.alternate===null&&(_t.flags|=67108866),_t}function j(_t,pt,St,Vt){return pt===null||pt.tag!==6?(pt=_e(St,_t.mode,Vt),pt.return=_t,pt):(pt=v(pt,St),pt.return=_t,pt)}function st(_t,pt,St,Vt){var Ne=St.type;return Ne===Ee?Ut(_t,pt,St.props.children,Vt,St.key):pt!==null&&(pt.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===yn&&Yn(Ne)===pt.type)?(pt=v(pt,St.props),Nr(pt,St),pt.return=_t,pt):(pt=Ra(St.type,St.key,St.props,null,_t.mode,Vt),Nr(pt,St),pt.return=_t,pt)}function Et(_t,pt,St,Vt){return pt===null||pt.tag!==4||pt.stateNode.containerInfo!==St.containerInfo||pt.stateNode.implementation!==St.implementation?(pt=Fo(St,_t.mode,Vt),pt.return=_t,pt):(pt=v(pt,St.children||[]),pt.return=_t,pt)}function Ut(_t,pt,St,Vt,Ne){return pt===null||pt.tag!==7?(pt=fe(St,_t.mode,Vt,Ne),pt.return=_t,pt):(pt=v(pt,St),pt.return=_t,pt)}function qt(_t,pt,St){if(typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint")return pt=_e(""+pt,_t.mode,St),pt.return=_t,pt;if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case ce:return St=Ra(pt.type,pt.key,pt.props,null,_t.mode,St),Nr(St,pt),St.return=_t,St;case pe:return pt=Fo(pt,_t.mode,St),pt.return=_t,pt;case yn:return pt=Yn(pt),qt(_t,pt,St)}if(sr(pt)||vn(pt))return pt=fe(pt,_t.mode,St,null),pt.return=_t,pt;if(typeof pt.then=="function")return qt(_t,Ws(pt),St);if(pt.$$typeof===me)return qt(_t,nn(_t,pt),St);vs(_t,pt)}return null}function Ct(_t,pt,St,Vt){var Ne=pt!==null?pt.key:null;if(typeof St=="string"&&St!==""||typeof St=="number"||typeof St=="bigint")return Ne!==null?null:j(_t,pt,""+St,Vt);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case ce:return St.key===Ne?st(_t,pt,St,Vt):null;case pe:return St.key===Ne?Et(_t,pt,St,Vt):null;case yn:return St=Yn(St),Ct(_t,pt,St,Vt)}if(sr(St)||vn(St))return Ne!==null?null:Ut(_t,pt,St,Vt,null);if(typeof St.then=="function")return Ct(_t,pt,Ws(St),Vt);if(St.$$typeof===me)return Ct(_t,pt,nn(_t,St),Vt);vs(_t,St)}return null}function Rt(_t,pt,St,Vt,Ne){if(typeof Vt=="string"&&Vt!==""||typeof Vt=="number"||typeof Vt=="bigint")return _t=_t.get(St)||null,j(pt,_t,""+Vt,Ne);if(typeof Vt=="object"&&Vt!==null){switch(Vt.$$typeof){case ce:return _t=_t.get(Vt.key===null?St:Vt.key)||null,st(pt,_t,Vt,Ne);case pe:return _t=_t.get(Vt.key===null?St:Vt.key)||null,Et(pt,_t,Vt,Ne);case yn:return Vt=Yn(Vt),Rt(_t,pt,St,Vt,Ne)}if(sr(Vt)||vn(Vt))return _t=_t.get(St)||null,Ut(pt,_t,Vt,Ne,null);if(typeof Vt.then=="function")return Rt(_t,pt,St,Ws(Vt),Ne);if(Vt.$$typeof===me)return Rt(_t,pt,St,nn(pt,Vt),Ne);vs(pt,Vt)}return null}function Se(_t,pt,St,Vt){for(var Ne=null,Wi=null,Ce=pt,yi=pt=0,Di=null;Ce!==null&&yi<St.length;yi++){Ce.index>yi?(Di=Ce,Ce=null):Di=Ce.sibling;var $i=Ct(_t,Ce,St[yi],Vt);if($i===null){Ce===null&&(Ce=Di);break}e&&Ce&&$i.alternate===null&&n(_t,Ce),pt=_($i,pt,yi),Wi===null?Ne=$i:Wi.sibling=$i,Wi=$i,Ce=Di}if(yi===St.length)return o(_t,Ce),Z&&E(_t,yi),Ne;if(Ce===null){for(;yi<St.length;yi++)Ce=qt(_t,St[yi],Vt),Ce!==null&&(pt=_(Ce,pt,yi),Wi===null?Ne=Ce:Wi.sibling=Ce,Wi=Ce);return Z&&E(_t,yi),Ne}for(Ce=p(Ce);yi<St.length;yi++)Di=Rt(Ce,_t,yi,St[yi],Vt),Di!==null&&(e&&Di.alternate!==null&&Ce.delete(Di.key===null?yi:Di.key),pt=_(Di,pt,yi),Wi===null?Ne=Di:Wi.sibling=Di,Wi=Di);return e&&Ce.forEach(function(pc){return n(_t,pc)}),Z&&E(_t,yi),Ne}function Xe(_t,pt,St,Vt){if(St==null)throw Error(I(151));for(var Ne=null,Wi=null,Ce=pt,yi=pt=0,Di=null,$i=St.next();Ce!==null&&!$i.done;yi++,$i=St.next()){Ce.index>yi?(Di=Ce,Ce=null):Di=Ce.sibling;var pc=Ct(_t,Ce,$i.value,Vt);if(pc===null){Ce===null&&(Ce=Di);break}e&&Ce&&pc.alternate===null&&n(_t,Ce),pt=_(pc,pt,yi),Wi===null?Ne=pc:Wi.sibling=pc,Wi=pc,Ce=Di}if($i.done)return o(_t,Ce),Z&&E(_t,yi),Ne;if(Ce===null){for(;!$i.done;yi++,$i=St.next())$i=qt(_t,$i.value,Vt),$i!==null&&(pt=_($i,pt,yi),Wi===null?Ne=$i:Wi.sibling=$i,Wi=$i);return Z&&E(_t,yi),Ne}for(Ce=p(Ce);!$i.done;yi++,$i=St.next())$i=Rt(Ce,_t,yi,$i.value,Vt),$i!==null&&(e&&$i.alternate!==null&&Ce.delete($i.key===null?yi:$i.key),pt=_($i,pt,yi),Wi===null?Ne=$i:Wi.sibling=$i,Wi=$i);return e&&Ce.forEach(function(by){return n(_t,by)}),Z&&E(_t,yi),Ne}function wn(_t,pt,St,Vt){if(typeof St=="object"&&St!==null&&St.type===Ee&&St.key===null&&(St=St.props.children),typeof St=="object"&&St!==null){switch(St.$$typeof){case ce:t:{for(var Ne=St.key;pt!==null;){if(pt.key===Ne){if(Ne=St.type,Ne===Ee){if(pt.tag===7){o(_t,pt.sibling),Vt=v(pt,St.props.children),Vt.return=_t,_t=Vt;break t}}else if(pt.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===yn&&Yn(Ne)===pt.type){o(_t,pt.sibling),Vt=v(pt,St.props),Nr(Vt,St),Vt.return=_t,_t=Vt;break t}o(_t,pt);break}else n(_t,pt);pt=pt.sibling}St.type===Ee?(Vt=fe(St.props.children,_t.mode,Vt,St.key),Vt.return=_t,_t=Vt):(Vt=Ra(St.type,St.key,St.props,null,_t.mode,Vt),Nr(Vt,St),Vt.return=_t,_t=Vt)}return C(_t);case pe:t:{for(Ne=St.key;pt!==null;){if(pt.key===Ne)if(pt.tag===4&&pt.stateNode.containerInfo===St.containerInfo&&pt.stateNode.implementation===St.implementation){o(_t,pt.sibling),Vt=v(pt,St.children||[]),Vt.return=_t,_t=Vt;break t}else{o(_t,pt);break}else n(_t,pt);pt=pt.sibling}Vt=Fo(St,_t.mode,Vt),Vt.return=_t,_t=Vt}return C(_t);case yn:return St=Yn(St),wn(_t,pt,St,Vt)}if(sr(St))return Se(_t,pt,St,Vt);if(vn(St)){if(Ne=vn(St),typeof Ne!="function")throw Error(I(150));return St=Ne.call(St),Xe(_t,pt,St,Vt)}if(typeof St.then=="function")return wn(_t,pt,Ws(St),Vt);if(St.$$typeof===me)return wn(_t,pt,nn(_t,St),Vt);vs(_t,St)}return typeof St=="string"&&St!==""||typeof St=="number"||typeof St=="bigint"?(St=""+St,pt!==null&&pt.tag===6?(o(_t,pt.sibling),Vt=v(pt,St),Vt.return=_t,_t=Vt):(o(_t,pt),Vt=_e(St,_t.mode,Vt),Vt.return=_t,_t=Vt),C(_t)):o(_t,pt)}return function(_t,pt,St,Vt){try{ys=0;var Ne=wn(_t,pt,St,Vt);return go=null,Ne}catch(Ce){if(Ce===Ka||Ce===mi)throw Ce;var Wi=gr(29,Ce,null,_t.mode);return Wi.lanes=Vt,Wi.return=_t,Wi}finally{}}}var Fr=Ac(!0),lh=Ac(!1),$s=!1;function up(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function jo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function tl(e,n,o){var p=e.updateQueue;if(p===null)return null;if(p=p.shared,(Ii&2)!==0){var v=p.pending;return v===null?n.next=n:(n.next=v.next,v.next=n),p.pending=n,n=Da(e),Pi(e,null,o),n}return No(e,p,n,o),Da(e)}function Ol(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var p=n.lanes;p&=e.pendingLanes,o|=p,n.lanes=o,zt(e,o)}}function cp(e,n){var o=e.updateQueue,p=e.alternate;if(p!==null&&(p=p.updateQueue,o===p)){var v=null,_=null;if(o=o.firstBaseUpdate,o!==null){do{var C={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};_===null?v=_=C:_=_.next=C,o=o.next}while(o!==null);_===null?v=_=n:_=_.next=n}else v=_=n;o={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:p.shared,callbacks:p.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var pp=!1;function Zo(){if(pp){var e=xa;if(e!==null)throw e}}function zc(e,n,o,p){pp=!1;var v=e.updateQueue;$s=!1;var _=v.firstBaseUpdate,C=v.lastBaseUpdate,j=v.shared.pending;if(j!==null){v.shared.pending=null;var st=j,Et=st.next;st.next=null,C===null?_=Et:C.next=Et,C=st;var Ut=e.alternate;Ut!==null&&(Ut=Ut.updateQueue,j=Ut.lastBaseUpdate,j!==C&&(j===null?Ut.firstBaseUpdate=Et:j.next=Et,Ut.lastBaseUpdate=st))}if(_!==null){var qt=v.baseState;C=0,Ut=Et=st=null,j=_;do{var Ct=j.lane&-536870913,Rt=Ct!==j.lane;if(Rt?(_i&Ct)===Ct:(p&Ct)===Ct){Ct!==0&&Ct===Xa&&(pp=!0),Ut!==null&&(Ut=Ut.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});t:{var Se=e,Xe=j;Ct=n;var wn=o;switch(Xe.tag){case 1:if(Se=Xe.payload,typeof Se=="function"){qt=Se.call(wn,qt,Ct);break t}qt=Se;break t;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Xe.payload,Ct=typeof Se=="function"?Se.call(wn,qt,Ct):Se,Ct==null)break t;qt=bt({},qt,Ct);break t;case 2:$s=!0}}Ct=j.callback,Ct!==null&&(e.flags|=64,Rt&&(e.flags|=8192),Rt=v.callbacks,Rt===null?v.callbacks=[Ct]:Rt.push(Ct))}else Rt={lane:Ct,tag:j.tag,payload:j.payload,callback:j.callback,next:null},Ut===null?(Et=Ut=Rt,st=qt):Ut=Ut.next=Rt,C|=Ct;if(j=j.next,j===null){if(j=v.shared.pending,j===null)break;Rt=j,j=Rt.next,Rt.next=null,v.lastBaseUpdate=Rt,v.shared.pending=null}}while(!0);Ut===null&&(st=qt),v.baseState=st,v.firstBaseUpdate=Et,v.lastBaseUpdate=Ut,_===null&&(v.shared.lanes=0),u|=C,e.lanes=C,e.memoizedState=qt}}function Ou(e,n){if(typeof e!="function")throw Error(I(191,e));e.call(n)}function Cc(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)Ou(o[e],n)}var gs=lt(null),hp=lt(0);function cf(e,n){e=i,he(hp,e),he(gs,n),i=e|n.baseLanes}function Ia(){he(hp,i),he(gs,gs.current)}function Uu(){i=hp.current,Pt(gs),Pt(hp)}var Vr=lt(null),Ja=null;function _s(e){var n=e.alternate;he(dn,dn.current&1),he(Vr,e),Ja===null&&(n===null||gs.current!==null||n.memoizedState!==null)&&(Ja=e)}function fp(e){he(dn,dn.current),he(Vr,e),Ja===null&&(Ja=e)}function dp(e){e.tag===22?(he(dn,dn.current),he(Vr,e),Ja===null&&(Ja=e)):xs()}function xs(){he(dn,dn.current),he(Vr,Vr.current)}function ia(e){Pt(Vr),Ja===e&&(Ja=null),Pt(dn)}var dn=lt(0);function fr(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Jp(o)||Qc(o)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var bs=0,ai=null,ln=null,er=null,mp=!1,Ul=!1,ws=!1,yp=0,el=0,Pl=null,il=0;function _n(){throw Error(I(321))}function ch(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!Ir(e[o],n[o]))return!1;return!0}function ph(e,n,o,p,v,_){return bs=_,ai=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,It.H=e===null||e.memoizedState===null?Dc:ki,ws=!1,_=o(p,v),ws=!1,Ul&&(_=hf(n,o,p,v)),pf(e),_}function pf(e){It.H=Zu;var n=ln!==null&&ln.next!==null;if(bs=0,er=ln=ai=null,mp=!1,el=0,Pl=null,n)throw Error(I(300));e===null||ir||(e=e.dependencies,e!==null&&gi(e)&&(ir=!0))}function hf(e,n,o,p){ai=e;var v=0;do{if(Ul&&(Pl=null),el=0,Ul=!1,25<=v)throw Error(I(301));if(v+=1,er=ln=null,e.updateQueue!=null){var _=e.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}It.H=Ch,_=n(o,p)}while(Ul);return _}function Sd(){var e=It.H,n=e.useState()[0];return n=typeof n.then=="function"?mn(n):n,e=e.useState()[0],(ln!==null?ln.memoizedState:null)!==e&&(ai.flags|=1024),n}function hh(){var e=yp!==0;return yp=0,e}function fh(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function Mc(e){if(mp){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}mp=!1}bs=0,er=ln=ai=null,Ul=!1,el=yp=0,Pl=null}function na(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return er===null?ai.memoizedState=er=e:er=er.next=e,er}function xn(){if(ln===null){var e=ai.alternate;e=e!==null?e.memoizedState:null}else e=ln.next;var n=er===null?ai.memoizedState:er.next;if(n!==null)er=n,ln=e;else{if(e===null)throw ai.alternate===null?Error(I(467)):Error(I(310));ln=e,e={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},er===null?ai.memoizedState=er=e:er=er.next=e}return er}function vp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mn(e){var n=el;return el+=1,Pl===null&&(Pl=[]),e=Er(Pl,e,n),n=ai,(er===null?n.memoizedState:er.next)===null&&(n=n.alternate,It.H=n===null||n.memoizedState===null?Dc:ki),e}function Nl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return mn(e);if(e.$$typeof===me)return xe(e)}throw Error(I(438,String(e)))}function gp(e){var n=null,o=ai.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var p=ai.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(n={data:p.data.map(function(v){return v.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=vp(),ai.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),p=0;p<e;p++)o[p]=Qn;return n.index++,o}function Qa(e,n){return typeof n=="function"?n(e):n}function Fl(e){var n=xn();return Vl(n,ln,e)}function Vl(e,n,o){var p=e.queue;if(p===null)throw Error(I(311));p.lastRenderedReducer=o;var v=e.baseQueue,_=p.pending;if(_!==null){if(v!==null){var C=v.next;v.next=_.next,_.next=C}n.baseQueue=v=_,p.pending=null}if(_=e.baseState,v===null)e.memoizedState=_;else{n=v.next;var j=C=null,st=null,Et=n,Ut=!1;do{var qt=Et.lane&-536870913;if(qt!==Et.lane?(_i&qt)===qt:(bs&qt)===qt){var Ct=Et.revertLane;if(Ct===0)st!==null&&(st=st.next={lane:0,revertLane:0,gesture:null,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null}),qt===Xa&&(Ut=!0);else if((bs&Ct)===Ct){Et=Et.next,Ct===Xa&&(Ut=!0);continue}else qt={lane:0,revertLane:Et.revertLane,gesture:null,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null},st===null?(j=st=qt,C=_):st=st.next=qt,ai.lanes|=Ct,u|=Ct;qt=Et.action,ws&&o(_,qt),_=Et.hasEagerState?Et.eagerState:o(_,qt)}else Ct={lane:qt,revertLane:Et.revertLane,gesture:Et.gesture,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null},st===null?(j=st=Ct,C=_):st=st.next=Ct,ai.lanes|=qt,u|=qt;Et=Et.next}while(Et!==null&&Et!==n);if(st===null?C=_:st.next=j,!Ir(_,e.memoizedState)&&(ir=!0,Ut&&(o=xa,o!==null)))throw o;e.memoizedState=_,e.baseState=C,e.baseQueue=st,p.lastRenderedState=_}return v===null&&(p.lanes=0),[e.memoizedState,p.dispatch]}function _p(e){var n=xn(),o=n.queue;if(o===null)throw Error(I(311));o.lastRenderedReducer=e;var p=o.dispatch,v=o.pending,_=n.memoizedState;if(v!==null){o.pending=null;var C=v=v.next;do _=e(_,C.action),C=C.next;while(C!==v);Ir(_,n.memoizedState)||(ir=!0),n.memoizedState=_,n.baseQueue===null&&(n.baseState=_),o.lastRenderedState=_}return[_,p]}function dh(e,n,o){var p=ai,v=xn(),_=Z;if(_){if(o===void 0)throw Error(I(407));o=o()}else o=n();var C=!Ir((ln||v).memoizedState,o);if(C&&(v.memoizedState=o,ir=!0),v=v.queue,xh(bp.bind(null,p,v,e),[e]),v.getSnapshot!==n||C||er!==null&&er.memoizedState.tag&1){if(p.flags|=2048,jl(9,{destroy:void 0},xp.bind(null,p,v,o,n),null),Ni===null)throw Error(I(349));_||(bs&127)!==0||Pu(p,n,o)}return o}function Pu(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=ai.updateQueue,n===null?(n=vp(),ai.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function xp(e,n,o,p){n.value=o,n.getSnapshot=p,ff(n)&&Nu(e)}function bp(e,n,o){return o(function(){ff(n)&&Nu(e)})}function ff(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!Ir(e,o)}catch{return!0}}function Nu(e){var n=hn(e,2);n!==null&&ie(n,e,2)}function mh(e){var n=na();if(typeof e=="function"){var o=e;if(e=o(),ws){Rr(!0);try{o()}finally{Rr(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:e},n}function wp(e,n,o,p){return e.baseState=o,Vl(e,ln,typeof p=="function"?p:Qa)}function Ed(e,n,o,p,v){if(Dp(e))throw Error(I(485));if(e=n.action,e!==null){var _={payload:v,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){_.listeners.push(C)}};It.T!==null?o(!0):_.isTransition=!1,p(_),o=n.pending,o===null?(_.next=n.pending=_,Sp(n,_)):(_.next=o.next,n.pending=o.next=_)}}function Sp(e,n){var o=n.action,p=n.payload,v=e.state;if(n.isTransition){var _=It.T,C={};It.T=C;try{var j=o(v,p),st=It.S;st!==null&&st(C,j),Ep(e,n,j)}catch(Et){yh(e,n,Et)}finally{_!==null&&C.types!==null&&(_.types=C.types),It.T=_}}else try{_=o(v,p),Ep(e,n,_)}catch(Et){yh(e,n,Et)}}function Ep(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(p){Wa(e,n,p)},function(p){return yh(e,n,p)}):Wa(e,n,o)}function Wa(e,n,o){n.status="fulfilled",n.value=o,df(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,Sp(e,o)))}function yh(e,n,o){var p=e.pending;if(e.pending=null,p!==null){p=p.next;do n.status="rejected",n.reason=o,df(n),n=n.next;while(n!==p)}e.action=null}function df(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function mf(e,n){return n}function vh(e,n){if(Z){var o=Ni.formState;if(o!==null){t:{var p=ai;if(Z){if(X){e:{for(var v=X,_=tt;v.nodeType!==8;){if(!_){v=null;break e}if(v=jr(v.nextSibling),v===null){v=null;break e}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){X=jr(v.nextSibling),p=v.data==="F!";break t}}ct(p)}p=!1}p&&(n=o[0])}}return o=na(),o.memoizedState=o.baseState=n,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mf,lastRenderedState:n},o.queue=p,o=Tf.bind(null,ai,p),p.dispatch=o,p=mh(!1),_=Mp.bind(null,ai,!1,p.queue),p=na(),v={state:n,dispatch:null,action:e,pending:null},p.queue=v,o=Ed.bind(null,ai,v,_,o),v.dispatch=o,p.memoizedState=e,[n,o,!1]}function gh(e){var n=xn();return ql(n,ln,e)}function ql(e,n,o){if(n=Vl(e,n,mf)[0],e=Fl(Qa)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var p=mn(n)}catch(C){throw C===Ka?mi:C}else p=n;n=xn();var v=n.queue,_=v.dispatch;return o!==n.memoizedState&&(ai.flags|=2048,jl(9,{destroy:void 0},Td.bind(null,v,o),null)),[p,_,e]}function Td(e,n){e.action=n}function yf(e){var n=xn(),o=ln;if(o!==null)return ql(n,o,e);xn(),n=n.memoizedState,o=xn();var p=o.queue.dispatch;return o.memoizedState=e,[n,p,!1]}function jl(e,n,o,p){return e={tag:e,create:o,deps:p,inst:n,next:null},n=ai.updateQueue,n===null&&(n=vp(),ai.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(p=o.next,o.next=e,e.next=p,n.lastEffect=e),e}function _h(){return xn().memoizedState}function Tp(e,n,o,p){var v=na();ai.flags|=e,v.memoizedState=jl(1|n,{destroy:void 0},o,p===void 0?null:p)}function Ap(e,n,o,p){var v=xn();p=p===void 0?null:p;var _=v.memoizedState.inst;ln!==null&&p!==null&&ch(p,ln.memoizedState.deps)?v.memoizedState=jl(n,_,o,p):(ai.flags|=e,v.memoizedState=jl(1|n,_,o,p))}function Zl(e,n){Tp(8390656,8,e,n)}function xh(e,n){Ap(2048,8,e,n)}function bh(e){ai.flags|=4;var n=ai.updateQueue;if(n===null)n=vp(),ai.updateQueue=n,n.events=[e];else{var o=n.events;o===null?n.events=[e]:o.push(e)}}function Fu(e){var n=xn().memoizedState;return bh({ref:n,nextImpl:e}),function(){if((Ii&2)!==0)throw Error(I(440));return n.impl.apply(void 0,arguments)}}function $a(e,n){return Ap(4,2,e,n)}function vf(e,n){return Ap(4,4,e,n)}function gf(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function _f(e,n,o){o=o!=null?o.concat([e]):null,Ap(4,4,gf.bind(null,n,e),o)}function wh(){}function Vu(e,n){var o=xn();n=n===void 0?null:n;var p=o.memoizedState;return n!==null&&ch(n,p[1])?p[0]:(o.memoizedState=[e,n],e)}function Sh(e,n){var o=xn();n=n===void 0?null:n;var p=o.memoizedState;if(n!==null&&ch(n,p[1]))return p[0];if(p=e(),ws){Rr(!0);try{e()}finally{Rr(!1)}}return o.memoizedState=[p,n],p}function zp(e,n,o){return o===void 0||(bs&1073741824)!==0&&(_i&261930)===0?e.memoizedState=n:(e.memoizedState=o,e=oe(),ai.lanes|=e,u|=e,o)}function xf(e,n,o,p){return Ir(o,n)?o:gs.current!==null?(e=zp(e,o,p),Ir(e,n)||(ir=!0),e):(bs&42)===0||(bs&1073741824)!==0&&(_i&261930)===0?(ir=!0,e.memoizedState=o):(e=oe(),ai.lanes|=e,u|=e,n)}function bf(e,n,o,p,v){var _=re.p;re.p=_!==0&&8>_?_:8;var C=It.T,j={};It.T=j,Mp(e,!1,n,o);try{var st=v(),Et=It.S;if(Et!==null&&Et(j,st),st!==null&&typeof st=="object"&&typeof st.then=="function"){var Ut=Bu(st,p);qu(e,n,Ut,$t(e))}else qu(e,n,p,$t(e))}catch(qt){qu(e,n,{then:function(){},status:"rejected",reason:qt},$t())}finally{re.p=_,C!==null&&j.types!==null&&(C.types=j.types),It.T=C}}function wf(){}function Tr(e,n,o,p){if(e.tag!==5)throw Error(I(476));var v=Sf(e).queue;bf(e,v,n,Be,o===null?wf:function(){return Eh(e),o(p)})}function Sf(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Be,baseState:Be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:Be},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Eh(e){var n=Sf(e);n.next===null&&(n=e.alternate.memoizedState),qu(e,n.next.queue,{},$t())}function Cp(){return xe(Wh)}function Ef(){return xn().memoizedState}function Th(){return xn().memoizedState}function Ah(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=$t();e=jo(o);var p=tl(n,e,o);p!==null&&(ie(p,n,o),Ol(p,n,o)),n={cache:xr()},e.payload=n;return}n=n.return}}function Ad(e,n,o){var p=$t();o={lane:p,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Dp(e)?ju(n,o):(o=Iu(e,n,o,p),o!==null&&(ie(o,e,p),zh(o,n,p)))}function Tf(e,n,o){var p=$t();qu(e,n,o,p)}function qu(e,n,o,p){var v={lane:p,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Dp(e))ju(n,v);else{var _=e.alternate;if(e.lanes===0&&(_===null||_.lanes===0)&&(_=n.lastRenderedReducer,_!==null))try{var C=n.lastRenderedState,j=_(C,o);if(v.hasEagerState=!0,v.eagerState=j,Ir(j,C))return No(e,n,v,0),Ni===null&&Ys(),!1}catch{}finally{}if(o=Iu(e,n,v,p),o!==null)return ie(o,e,p),zh(o,n,p),!0}return!1}function Mp(e,n,o,p){if(p={lane:2,revertLane:Cs(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Dp(e)){if(n)throw Error(I(479))}else n=Iu(e,o,p,2),n!==null&&ie(n,e,2)}function Dp(e){var n=e.alternate;return e===ai||n!==null&&n===ai}function ju(e,n){Ul=mp=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function zh(e,n,o){if((o&4194048)!==0){var p=n.lanes;p&=e.pendingLanes,o|=p,n.lanes=o,zt(e,o)}}var Zu={readContext:xe,use:Nl,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useLayoutEffect:_n,useInsertionEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useSyncExternalStore:_n,useId:_n,useHostTransitionStatus:_n,useFormState:_n,useActionState:_n,useOptimistic:_n,useMemoCache:_n,useCacheRefresh:_n};Zu.useEffectEvent=_n;var Dc={readContext:xe,use:Nl,useCallback:function(e,n){return na().memoizedState=[e,n===void 0?null:n],e},useContext:xe,useEffect:Zl,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,Tp(4194308,4,gf.bind(null,n,e),o)},useLayoutEffect:function(e,n){return Tp(4194308,4,e,n)},useInsertionEffect:function(e,n){Tp(4,2,e,n)},useMemo:function(e,n){var o=na();n=n===void 0?null:n;var p=e();if(ws){Rr(!0);try{e()}finally{Rr(!1)}}return o.memoizedState=[p,n],p},useReducer:function(e,n,o){var p=na();if(o!==void 0){var v=o(n);if(ws){Rr(!0);try{o(n)}finally{Rr(!1)}}}else v=n;return p.memoizedState=p.baseState=v,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:v},p.queue=e,e=e.dispatch=Ad.bind(null,ai,e),[p.memoizedState,e]},useRef:function(e){var n=na();return e={current:e},n.memoizedState=e},useState:function(e){e=mh(e);var n=e.queue,o=Tf.bind(null,ai,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:wh,useDeferredValue:function(e,n){var o=na();return zp(o,e,n)},useTransition:function(){var e=mh(!1);return e=bf.bind(null,ai,e.queue,!0,!1),na().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var p=ai,v=na();if(Z){if(o===void 0)throw Error(I(407));o=o()}else{if(o=n(),Ni===null)throw Error(I(349));(_i&127)!==0||Pu(p,n,o)}v.memoizedState=o;var _={value:o,getSnapshot:n};return v.queue=_,Zl(bp.bind(null,p,_,e),[e]),p.flags|=2048,jl(9,{destroy:void 0},xp.bind(null,p,_,o,n),null),o},useId:function(){var e=na(),n=Ni.identifierPrefix;if(Z){var o=w,p=b;o=(p&~(1<<32-cr(p)-1)).toString(32)+o,n="_"+n+"R_"+o,o=yp++,0<o&&(n+="H"+o.toString(32)),n+="_"}else o=il++,n="_"+n+"r_"+o.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Cp,useFormState:vh,useActionState:vh,useOptimistic:function(e){var n=na();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=Mp.bind(null,ai,!0,o),o.dispatch=n,[e,n]},useMemoCache:gp,useCacheRefresh:function(){return na().memoizedState=Ah.bind(null,ai)},useEffectEvent:function(e){var n=na(),o={impl:e};return n.memoizedState=o,function(){if((Ii&2)!==0)throw Error(I(440));return o.impl.apply(void 0,arguments)}}},ki={readContext:xe,use:Nl,useCallback:Vu,useContext:xe,useEffect:xh,useImperativeHandle:_f,useInsertionEffect:$a,useLayoutEffect:vf,useMemo:Sh,useReducer:Fl,useRef:_h,useState:function(){return Fl(Qa)},useDebugValue:wh,useDeferredValue:function(e,n){var o=xn();return xf(o,ln.memoizedState,e,n)},useTransition:function(){var e=Fl(Qa)[0],n=xn().memoizedState;return[typeof e=="boolean"?e:mn(e),n]},useSyncExternalStore:dh,useId:Ef,useHostTransitionStatus:Cp,useFormState:gh,useActionState:gh,useOptimistic:function(e,n){var o=xn();return wp(o,ln,e,n)},useMemoCache:gp,useCacheRefresh:Th};ki.useEffectEvent=Fu;var Ch={readContext:xe,use:Nl,useCallback:Vu,useContext:xe,useEffect:xh,useImperativeHandle:_f,useInsertionEffect:$a,useLayoutEffect:vf,useMemo:Sh,useReducer:_p,useRef:_h,useState:function(){return _p(Qa)},useDebugValue:wh,useDeferredValue:function(e,n){var o=xn();return ln===null?zp(o,e,n):xf(o,ln.memoizedState,e,n)},useTransition:function(){var e=_p(Qa)[0],n=xn().memoizedState;return[typeof e=="boolean"?e:mn(e),n]},useSyncExternalStore:dh,useId:Ef,useHostTransitionStatus:Cp,useFormState:yf,useActionState:yf,useOptimistic:function(e,n){var o=xn();return ln!==null?wp(o,ln,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:gp,useCacheRefresh:Th};Ch.useEffectEvent=Fu;function _o(e,n,o,p){n=e.memoizedState,o=o(p,n),o=o==null?n:bt({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var nl={enqueueSetState:function(e,n,o){e=e._reactInternals;var p=$t(),v=jo(p);v.payload=n,o!=null&&(v.callback=o),n=tl(e,v,p),n!==null&&(ie(n,e,p),Ol(n,e,p))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var p=$t(),v=jo(p);v.tag=1,v.payload=n,o!=null&&(v.callback=o),n=tl(e,v,p),n!==null&&(ie(n,e,p),Ol(n,e,p))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=$t(),p=jo(o);p.tag=2,n!=null&&(p.callback=n),n=tl(e,p,o),n!==null&&(ie(n,e,o),Ol(n,e,o))}};function Mh(e,n,o,p,v,_,C){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(p,_,C):n.prototype&&n.prototype.isPureReactComponent?!qi(o,p)||!qi(v,_):!0}function Af(e,n,o,p){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,p),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,p),n.state!==e&&nl.enqueueReplaceState(n,n.state,null)}function Gl(e,n){var o=n;if("ref"in n){o={};for(var p in n)p!=="ref"&&(o[p]=n[p])}if(e=e.defaultProps){o===n&&(o=bt({},o));for(var v in e)o[v]===void 0&&(o[v]=e[v])}return o}function zf(e){tr(e)}function Cf(e){console.error(e)}function Mf(e){tr(e)}function Lp(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(p){setTimeout(function(){throw p})}}function Df(e,n,o){try{var p=e.onCaughtError;p(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Dh(e,n,o){return o=jo(o),o.tag=3,o.payload={element:null},o.callback=function(){Lp(e,n)},o}function Lf(e){return e=jo(e),e.tag=3,e}function Lc(e,n,o,p){var v=o.type.getDerivedStateFromError;if(typeof v=="function"){var _=p.value;e.payload=function(){return v(_)},e.callback=function(){Df(n,o,p)}}var C=o.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(e.callback=function(){Df(n,o,p),typeof v!="function"&&(J===null?J=new Set([this]):J.add(this));var j=p.stack;this.componentDidCatch(p.value,{componentStack:j!==null?j:""})})}function Gu(e,n,o,p,v){if(o.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(n=o.alternate,n!==null&&Te(n,o,v,!0),o=Vr.current,o!==null){switch(o.tag){case 31:case 13:return Ja===null?ci():o.alternate===null&&r===0&&(r=3),o.flags&=-257,o.flags|=65536,o.lanes=v,p===wi?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([p]):n.add(p),an(e,p,v)),!1;case 22:return o.flags|=65536,p===wi?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([p])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([p]):o.add(p)),an(e,p,v)),!1}throw Error(I(435,o.tag))}return an(e,p,v),ci(),!1}if(Z)return n=Vr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=v,p!==ht&&(e=Error(I(422),{cause:p}),Kt(fn(e,o)))):(p!==ht&&(n=Error(I(423),{cause:p}),Kt(fn(n,o))),e=e.current.alternate,e.flags|=65536,v&=-v,e.lanes|=v,p=fn(p,o),v=Dh(e.stateNode,p,v),cp(e,v),r!==4&&(r=2)),!1;var _=Error(I(520),{cause:p});if(_=fn(_,o),S===null?S=[_]:S.push(_),r!==4&&(r=2),n===null)return!0;p=fn(p,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=v&-v,o.lanes|=e,e=Dh(o.stateNode,p,e),cp(o,e),!1;case 1:if(n=o.type,_=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(J===null||!J.has(_))))return o.flags|=65536,v&=-v,o.lanes|=v,v=Lf(v),Lc(v,e,o,p),cp(o,v),!1}o=o.return}while(o!==null);return!1}var Rp=Error(I(461)),ir=!1;function Ar(e,n,o,p){n.child=e===null?lh(n,null,o,p):Fr(n,e.child,o,p)}function Rf(e,n,o,p,v){o=o.render;var _=n.ref;if("ref"in p){var C={};for(var j in p)j!=="ref"&&(C[j]=p[j])}else C=p;return Ie(n),p=ph(e,n,o,C,_,v),j=hh(),e!==null&&!ir?(fh(e,n,v),Go(e,n,v)):(Z&&j&&R(n),n.flags|=1,Ar(e,n,p,v),n.child)}function Lh(e,n,o,p,v){if(e===null){var _=o.type;return typeof _=="function"&&!Ks(_)&&_.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=_,Rc(e,n,_,p,v)):(e=Ra(o.type,null,p,n,n.mode,v),e.ref=n.ref,e.return=n,n.child=e)}if(_=e.child,!Up(e,v)){var C=_.memoizedProps;if(o=o.compare,o=o!==null?o:qi,o(C,p)&&e.ref===n.ref)return Go(e,n,v)}return n.flags|=1,e=$r(_,p),e.ref=n.ref,e.return=n,n.child=e}function Rc(e,n,o,p,v){if(e!==null){var _=e.memoizedProps;if(qi(_,p)&&e.ref===n.ref)if(ir=!1,n.pendingProps=p=_,Up(e,v))(e.flags&131072)!==0&&(ir=!0);else return n.lanes=e.lanes,Go(e,n,v)}return zr(e,n,o,p,v)}function Hu(e,n,o,p){var v=p.children,_=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((n.flags&128)!==0){if(_=_!==null?_.baseLanes|o:o,e!==null){for(p=n.child=e.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;p=v&~_}else p=0,n.child=null;return ra(e,n,_,o,p)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&vo(n,_!==null?_.cachePool:null),_!==null?cf(n,_):Ia(),dp(n);else return p=n.lanes=536870912,ra(e,n,_!==null?_.baseLanes|o:o,o,p)}else _!==null?(vo(n,_.cachePool),cf(n,_),xs(),n.memoizedState=null):(e!==null&&vo(n,null),Ia(),xs());return Ar(e,n,v,o),n.child}function Ss(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ra(e,n,o,p,v){var _=Qs();return _=_===null?null:{parent:Zi._currentValue,pool:_},n.memoizedState={baseLanes:o,cachePool:_},e!==null&&vo(n,null),Ia(),dp(n),e!==null&&Te(e,n,p,!0),n.childLanes=v,null}function Es(e,n){return n=Ts({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function dr(e,n,o){return Fr(n,e.child,null,o),e=Es(n,n.pendingProps),e.flags|=2,ia(n),n.memoizedState=null,e}function kp(e,n,o){var p=n.pendingProps,v=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Z){if(p.mode==="hidden")return e=Es(n,p),n.lanes=536870912,Ss(null,e);if(fp(n),(e=X)?(e=Jc(e,tt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:g!==null?{id:b,overflow:w}:null,retryLane:536870912,hydrationErrors:null},o=Ur(e),o.return=n,n.child=o,H=n,X=null)):e=null,e===null)throw ct(n);return n.lanes=536870912,null}return Es(n,p)}var _=e.memoizedState;if(_!==null){var C=_.dehydrated;if(fp(n),v)if(n.flags&256)n.flags&=-257,n=dr(e,n,o);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(I(558));else if(ir||Te(e,n,o,!1),v=(o&e.childLanes)!==0,ir||v){if(p=Ni,p!==null&&(C=Jt(p,o),C!==0&&C!==_.retryLane))throw _.retryLane=C,hn(e,C),ie(p,e,C),Rp;ci(),n=dr(e,n,o)}else e=_.treeContext,X=jr(C.nextSibling),H=n,Z=!0,at=null,tt=!1,e!==null&&Y(n,e),n=Es(n,p),n.flags|=4096;return n}return e=$r(e.child,{mode:p.mode,children:p.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Hl(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(I(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function zr(e,n,o,p,v){return Ie(n),o=ph(e,n,o,p,void 0,v),p=hh(),e!==null&&!ir?(fh(e,n,v),Go(e,n,v)):(Z&&p&&R(n),n.flags|=1,Ar(e,n,o,v),n.child)}function Rh(e,n,o,p,v,_){return Ie(n),n.updateQueue=null,o=hf(n,p,o,v),pf(e),p=hh(),e!==null&&!ir?(fh(e,n,_),Go(e,n,_)):(Z&&p&&R(n),n.flags|=1,Ar(e,n,o,_),n.child)}function kh(e,n,o,p,v){if(Ie(n),n.stateNode===null){var _=La,C=o.contextType;typeof C=="object"&&C!==null&&(_=xe(C)),_=new o(p,_),n.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=nl,n.stateNode=_,_._reactInternals=n,_=n.stateNode,_.props=p,_.state=n.memoizedState,_.refs={},up(n),C=o.contextType,_.context=typeof C=="object"&&C!==null?xe(C):La,_.state=n.memoizedState,C=o.getDerivedStateFromProps,typeof C=="function"&&(_o(n,o,C,p),_.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(C=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),C!==_.state&&nl.enqueueReplaceState(_,_.state,null),zc(n,p,_,v),Zo(),_.state=n.memoizedState),typeof _.componentDidMount=="function"&&(n.flags|=4194308),p=!0}else if(e===null){_=n.stateNode;var j=n.memoizedProps,st=Gl(o,j);_.props=st;var Et=_.context,Ut=o.contextType;C=La,typeof Ut=="object"&&Ut!==null&&(C=xe(Ut));var qt=o.getDerivedStateFromProps;Ut=typeof qt=="function"||typeof _.getSnapshotBeforeUpdate=="function",j=n.pendingProps!==j,Ut||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(j||Et!==C)&&Af(n,_,p,C),$s=!1;var Ct=n.memoizedState;_.state=Ct,zc(n,p,_,v),Zo(),Et=n.memoizedState,j||Ct!==Et||$s?(typeof qt=="function"&&(_o(n,o,qt,p),Et=n.memoizedState),(st=$s||Mh(n,o,st,p,Ct,Et,C))?(Ut||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(n.flags|=4194308)):(typeof _.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=p,n.memoizedState=Et),_.props=p,_.state=Et,_.context=C,p=st):(typeof _.componentDidMount=="function"&&(n.flags|=4194308),p=!1)}else{_=n.stateNode,uh(e,n),C=n.memoizedProps,Ut=Gl(o,C),_.props=Ut,qt=n.pendingProps,Ct=_.context,Et=o.contextType,st=La,typeof Et=="object"&&Et!==null&&(st=xe(Et)),j=o.getDerivedStateFromProps,(Et=typeof j=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==qt||Ct!==st)&&Af(n,_,p,st),$s=!1,Ct=n.memoizedState,_.state=Ct,zc(n,p,_,v),Zo();var Rt=n.memoizedState;C!==qt||Ct!==Rt||$s||e!==null&&e.dependencies!==null&&gi(e.dependencies)?(typeof j=="function"&&(_o(n,o,j,p),Rt=n.memoizedState),(Ut=$s||Mh(n,o,Ut,p,Ct,Rt,st)||e!==null&&e.dependencies!==null&&gi(e.dependencies))?(Et||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(p,Rt,st),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(p,Rt,st)),typeof _.componentDidUpdate=="function"&&(n.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof _.componentDidUpdate!="function"||C===e.memoizedProps&&Ct===e.memoizedState||(n.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&Ct===e.memoizedState||(n.flags|=1024),n.memoizedProps=p,n.memoizedState=Rt),_.props=p,_.state=Rt,_.context=st,p=Ut):(typeof _.componentDidUpdate!="function"||C===e.memoizedProps&&Ct===e.memoizedState||(n.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&Ct===e.memoizedState||(n.flags|=1024),p=!1)}return _=p,Hl(e,n),p=(n.flags&128)!==0,_||p?(_=n.stateNode,o=p&&typeof o.getDerivedStateFromError!="function"?null:_.render(),n.flags|=1,e!==null&&p?(n.child=Fr(n,e.child,null,v),n.child=Fr(n,null,o,v)):Ar(e,n,o,v),n.memoizedState=_.state,e=n.child):e=Go(e,n,v),e}function kf(e,n,o,p){return Bt(),n.flags|=256,Ar(e,n,o,p),n.child}var Ip={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kc(e){return{baseLanes:e,cachePool:qo()}}function Ic(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=y),e}function If(e,n,o){var p=n.pendingProps,v=!1,_=(n.flags&128)!==0,C;if((C=_)||(C=e!==null&&e.memoizedState===null?!1:(dn.current&2)!==0),C&&(v=!0,n.flags&=-129),C=(n.flags&32)!==0,n.flags&=-33,e===null){if(Z){if(v?_s(n):xs(),(e=X)?(e=Jc(e,tt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:g!==null?{id:b,overflow:w}:null,retryLane:536870912,hydrationErrors:null},o=Ur(e),o.return=n,n.child=o,H=n,X=null)):e=null,e===null)throw ct(n);return Qc(e)?n.lanes=32:n.lanes=536870912,null}var j=p.children;return p=p.fallback,v?(xs(),v=n.mode,j=Ts({mode:"hidden",children:j},v),p=fe(p,v,o,null),j.return=n,p.return=n,j.sibling=p,n.child=j,p=n.child,p.memoizedState=kc(o),p.childLanes=Ic(e,C,o),n.memoizedState=Ip,Ss(null,p)):(_s(n),Bp(n,j))}var st=e.memoizedState;if(st!==null&&(j=st.dehydrated,j!==null)){if(_)n.flags&256?(_s(n),n.flags&=-257,n=Bc(e,n,o)):n.memoizedState!==null?(xs(),n.child=e.child,n.flags|=128,n=null):(xs(),j=p.fallback,v=n.mode,p=Ts({mode:"visible",children:p.children},v),j=fe(j,v,o,null),j.flags|=2,p.return=n,j.return=n,p.sibling=j,n.child=p,Fr(n,e.child,null,o),p=n.child,p.memoizedState=kc(o),p.childLanes=Ic(e,C,o),n.memoizedState=Ip,n=Ss(null,p));else if(_s(n),Qc(j)){if(C=j.nextSibling&&j.nextSibling.dataset,C)var Et=C.dgst;C=Et,p=Error(I(419)),p.stack="",p.digest=C,Kt({value:p,source:null,stack:null}),n=Bc(e,n,o)}else if(ir||Te(e,n,o,!1),C=(o&e.childLanes)!==0,ir||C){if(C=Ni,C!==null&&(p=Jt(C,o),p!==0&&p!==st.retryLane))throw st.retryLane=p,hn(e,p),ie(C,e,p),Rp;Jp(j)||ci(),n=Bc(e,n,o)}else Jp(j)?(n.flags|=192,n.child=e.child,n=null):(e=st.treeContext,X=jr(j.nextSibling),H=n,Z=!0,at=null,tt=!1,e!==null&&Y(n,e),n=Bp(n,p.children),n.flags|=4096);return n}return v?(xs(),j=p.fallback,v=n.mode,st=e.child,Et=st.sibling,p=$r(st,{mode:"hidden",children:p.children}),p.subtreeFlags=st.subtreeFlags&65011712,Et!==null?j=$r(Et,j):(j=fe(j,v,o,null),j.flags|=2),j.return=n,p.return=n,p.sibling=j,n.child=p,Ss(null,p),p=n.child,j=e.child.memoizedState,j===null?j=kc(o):(v=j.cachePool,v!==null?(st=Zi._currentValue,v=v.parent!==st?{parent:st,pool:st}:v):v=qo(),j={baseLanes:j.baseLanes|o,cachePool:v}),p.memoizedState=j,p.childLanes=Ic(e,C,o),n.memoizedState=Ip,Ss(e.child,p)):(_s(n),o=e.child,e=o.sibling,o=$r(o,{mode:"visible",children:p.children}),o.return=n,o.sibling=null,e!==null&&(C=n.deletions,C===null?(n.deletions=[e],n.flags|=16):C.push(e)),n.child=o,n.memoizedState=null,o)}function Bp(e,n){return n=Ts({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ts(e,n){return e=gr(22,e,null,n),e.lanes=0,e}function Bc(e,n,o){return Fr(n,e.child,null,o),e=Bp(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ih(e,n,o){e.lanes|=n;var p=e.alternate;p!==null&&(p.lanes|=n),ke(e.return,n,o)}function Op(e,n,o,p,v,_){var C=e.memoizedState;C===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:p,tail:o,tailMode:v,treeForkCount:_}:(C.isBackwards=n,C.rendering=null,C.renderingStartTime=0,C.last=p,C.tail=o,C.tailMode=v,C.treeForkCount=_)}function Bf(e,n,o){var p=n.pendingProps,v=p.revealOrder,_=p.tail;p=p.children;var C=dn.current,j=(C&2)!==0;if(j?(C=C&1|2,n.flags|=128):C&=1,he(dn,C),Ar(e,n,p,o),p=Z?s:0,!j&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ih(e,o,n);else if(e.tag===19)Ih(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(v){case"forwards":for(o=n.child,v=null;o!==null;)e=o.alternate,e!==null&&fr(e)===null&&(v=o),o=o.sibling;o=v,o===null?(v=n.child,n.child=null):(v=o.sibling,o.sibling=null),Op(n,!1,v,o,_,p);break;case"backwards":case"unstable_legacy-backwards":for(o=null,v=n.child,n.child=null;v!==null;){if(e=v.alternate,e!==null&&fr(e)===null){n.child=v;break}e=v.sibling,v.sibling=o,o=v,v=e}Op(n,!0,o,null,_,p);break;case"together":Op(n,!1,null,null,void 0,p);break;default:n.memoizedState=null}return n.child}function Go(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),u|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(Te(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(I(153));if(n.child!==null){for(e=n.child,o=$r(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=$r(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function Up(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&gi(e)))}function Of(e,n,o){switch(n.tag){case 3:Ln(n,n.stateNode.containerInfo),Qt(n,Zi,e.memoizedState.cache),Bt();break;case 27:case 5:wr(n);break;case 4:Ln(n,n.stateNode.containerInfo);break;case 10:Qt(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,fp(n),null;break;case 13:var p=n.memoizedState;if(p!==null)return p.dehydrated!==null?(_s(n),n.flags|=128,null):(o&n.child.childLanes)!==0?If(e,n,o):(_s(n),e=Go(e,n,o),e!==null?e.sibling:null);_s(n);break;case 19:var v=(e.flags&128)!==0;if(p=(o&n.childLanes)!==0,p||(Te(e,n,o,!1),p=(o&n.childLanes)!==0),v){if(p)return Bf(e,n,o);n.flags|=128}if(v=n.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),he(dn,dn.current),p)break;return null;case 22:return n.lanes=0,Hu(e,n,o,n.pendingProps);case 24:Qt(n,Zi,e.memoizedState.cache)}return Go(e,n,o)}function Bh(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)ir=!0;else{if(!Up(e,o)&&(n.flags&128)===0)return ir=!1,Of(e,n,o);ir=(e.flags&131072)!==0}else ir=!1,Z&&(n.flags&1048576)!==0&&L(n,s,n.index);switch(n.lanes=0,n.tag){case 16:t:{var p=n.pendingProps;if(e=Yn(n.elementType),n.type=e,typeof e=="function")Ks(e)?(p=Gl(e,p),n.tag=1,n=kh(null,n,e,p,o)):(n.tag=0,n=zr(null,n,e,p,o));else{if(e!=null){var v=e.$$typeof;if(v===Ei){n.tag=11,n=Rf(null,n,e,p,o);break t}else if(v===Ge){n.tag=14,n=Lh(null,n,e,p,o);break t}}throw n=jn(e)||e,Error(I(306,n,""))}}return n;case 0:return zr(e,n,n.type,n.pendingProps,o);case 1:return p=n.type,v=Gl(p,n.pendingProps),kh(e,n,p,v,o);case 3:t:{if(Ln(n,n.stateNode.containerInfo),e===null)throw Error(I(387));p=n.pendingProps;var _=n.memoizedState;v=_.element,uh(e,n),zc(n,p,null,o);var C=n.memoizedState;if(p=C.cache,Qt(n,Zi,p),p!==_.cache&&ze(n,[Zi],o,!0),Zo(),p=C.element,_.isDehydrated)if(_={element:p,isDehydrated:!1,cache:C.cache},n.updateQueue.baseState=_,n.memoizedState=_,n.flags&256){n=kf(e,n,p,o);break t}else if(p!==v){v=fn(Error(I(424)),n),Kt(v),n=kf(e,n,p,o);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(X=jr(e.firstChild),H=n,Z=!0,at=null,tt=!0,o=lh(n,null,p,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Bt(),p===v){n=Go(e,n,o);break t}Ar(e,n,p,o)}n=n.child}return n;case 26:return Hl(e,n),e===null?(o=ac(n.type,null,n.pendingProps,null))?n.memoizedState=o:Z||(o=n.type,e=n.pendingProps,p=Jo(Je.current).createElement(o),p[D]=n,p[k]=e,ar(p,o,e),jt(p),n.stateNode=p):n.memoizedState=ac(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return wr(n),e===null&&Z&&(p=n.stateNode=Hh(n.type,n.pendingProps,Je.current),H=n,tt=!0,v=X,Ds(n.type)?(uu=v,X=jr(p.firstChild)):X=v),Ar(e,n,n.pendingProps.children,o),Hl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Z&&((v=p=X)&&(p=Zf(p,n.type,n.pendingProps,tt),p!==null?(n.stateNode=p,H=n,X=jr(p.firstChild),tt=!1,v=!0):v=!1),v||ct(n)),wr(n),v=n.type,_=n.pendingProps,C=e!==null?e.memoizedProps:null,p=_.children,Mr(v,_)?p=null:C!==null&&Mr(v,C)&&(n.flags|=32),n.memoizedState!==null&&(v=ph(e,n,Sd,null,null,o),Wh._currentValue=v),Hl(e,n),Ar(e,n,p,o),n.child;case 6:return e===null&&Z&&((e=o=X)&&(o=ao(o,n.pendingProps,tt),o!==null?(n.stateNode=o,H=n,X=null,e=!0):e=!1),e||ct(n)),null;case 13:return If(e,n,o);case 4:return Ln(n,n.stateNode.containerInfo),p=n.pendingProps,e===null?n.child=Fr(n,null,p,o):Ar(e,n,p,o),n.child;case 11:return Rf(e,n,n.type,n.pendingProps,o);case 7:return Ar(e,n,n.pendingProps,o),n.child;case 8:return Ar(e,n,n.pendingProps.children,o),n.child;case 12:return Ar(e,n,n.pendingProps.children,o),n.child;case 10:return p=n.pendingProps,Qt(n,n.type,p.value),Ar(e,n,p.children,o),n.child;case 9:return v=n.type._context,p=n.pendingProps.children,Ie(n),v=xe(v),p=p(v),n.flags|=1,Ar(e,n,p,o),n.child;case 14:return Lh(e,n,n.type,n.pendingProps,o);case 15:return Rc(e,n,n.type,n.pendingProps,o);case 19:return Bf(e,n,o);case 31:return kp(e,n,o);case 22:return Hu(e,n,o,n.pendingProps);case 24:return Ie(n),p=xe(Zi),e===null?(v=Qs(),v===null&&(v=Ni,_=xr(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=o),v=_),n.memoizedState={parent:p,cache:v},up(n),Qt(n,Zi,v)):((e.lanes&o)!==0&&(uh(e,n),zc(n,null,null,o),Zo()),v=e.memoizedState,_=n.memoizedState,v.parent!==p?(v={parent:p,cache:p},n.memoizedState=v,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=v),Qt(n,Zi,p)):(p=_.cache,Qt(n,Zi,p),p!==v.cache&&ze(n,[Zi],o,!0))),Ar(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(I(156,n.tag))}function As(e){e.flags|=4}function Oh(e,n,o,p,v){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(v&335544128)===v)if(e.stateNode.complete)e.flags|=8192;else if(ei())e.flags|=8192;else throw hr=wi,Gi}else e.flags&=-16777217}function Uh(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!am(n))if(ei())e.flags|=8192;else throw hr=wi,Gi}function Xl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ns():536870912,e.lanes|=n,x|=n)}function Xu(e,n){if(!Z)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var p=null;o!==null;)o.alternate!==null&&(p=o),o=o.sibling;p===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:p.sibling=null}}function un(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,p=0;if(n)for(var v=e.child;v!==null;)o|=v.lanes|v.childLanes,p|=v.subtreeFlags&65011712,p|=v.flags&65011712,v.return=e,v=v.sibling;else for(v=e.child;v!==null;)o|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=e,v=v.sibling;return e.subtreeFlags|=p,e.childLanes=o,n}function Pp(e,n,o){var p=n.pendingProps;switch(N(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(n),null;case 1:return un(n),null;case 3:return o=n.stateNode,p=null,e!==null&&(p=e.memoizedState.cache),n.memoizedState.cache!==p&&(n.flags|=2048),we(Zi),fi(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Mt(n)?As(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ee())),un(n),null;case 26:var v=n.type,_=n.memoizedState;return e===null?(As(n),_!==null?(un(n),Uh(n,_)):(un(n),Oh(n,v,null,p,o))):_?_!==e.memoizedState?(As(n),un(n),Uh(n,_)):(un(n),n.flags&=-16777217):(e=e.memoizedProps,e!==p&&As(n),un(n),Oh(n,v,e,p,o)),null;case 27:if(oo(n),o=Je.current,v=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==p&&As(n);else{if(!p){if(n.stateNode===null)throw Error(I(166));return un(n),null}e=ge.current,Mt(n)?ft(n):(e=Hh(v,p,o),n.stateNode=e,As(n))}return un(n),null;case 5:if(oo(n),v=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==p&&As(n);else{if(!p){if(n.stateNode===null)throw Error(I(166));return un(n),null}if(_=ge.current,Mt(n))ft(n);else{var C=Jo(Je.current);switch(_){case 1:_=C.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:_=C.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":_=C.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":_=C.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":_=C.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof p.is=="string"?C.createElement("select",{is:p.is}):C.createElement("select"),p.multiple?_.multiple=!0:p.size&&(_.size=p.size);break;default:_=typeof p.is=="string"?C.createElement(v,{is:p.is}):C.createElement(v)}}_[D]=n,_[k]=p;t:for(C=n.child;C!==null;){if(C.tag===5||C.tag===6)_.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===n)break t;for(;C.sibling===null;){if(C.return===null||C.return===n)break t;C=C.return}C.sibling.return=C.return,C=C.sibling}n.stateNode=_;t:switch(ar(_,v,p),v){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break t;case"img":p=!0;break t;default:p=!1}p&&As(n)}}return un(n),Oh(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,o),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==p&&As(n);else{if(typeof p!="string"&&n.stateNode===null)throw Error(I(166));if(e=Je.current,Mt(n)){if(e=n.stateNode,o=n.memoizedProps,p=null,v=H,v!==null)switch(v.tag){case 27:case 5:p=v.memoizedProps}e[D]=n,e=!!(e.nodeValue===o||p!==null&&p.suppressHydrationWarning===!0||Hp(e.nodeValue,o)),e||ct(n,!0)}else e=Jo(e).createTextNode(p),e[D]=n,n.stateNode=e}return un(n),null;case 31:if(o=n.memoizedState,e===null||e.memoizedState!==null){if(p=Mt(n),o!==null){if(e===null){if(!p)throw Error(I(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(557));e[D]=n}else Bt(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;un(n),e=!1}else o=ee(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return n.flags&256?(ia(n),n):(ia(n),null);if((n.flags&128)!==0)throw Error(I(558))}return un(n),null;case 13:if(p=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(v=Mt(n),p!==null&&p.dehydrated!==null){if(e===null){if(!v)throw Error(I(318));if(v=n.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(I(317));v[D]=n}else Bt(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;un(n),v=!1}else v=ee(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=v),v=!0;if(!v)return n.flags&256?(ia(n),n):(ia(n),null)}return ia(n),(n.flags&128)!==0?(n.lanes=o,n):(o=p!==null,e=e!==null&&e.memoizedState!==null,o&&(p=n.child,v=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(v=p.alternate.memoizedState.cachePool.pool),_=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(_=p.memoizedState.cachePool.pool),_!==v&&(p.flags|=2048)),o!==e&&o&&(n.child.flags|=8192),Xl(n,n.updateQueue),un(n),null);case 4:return fi(),e===null&&ml(n.stateNode.containerInfo),un(n),null;case 10:return we(n.type),un(n),null;case 19:if(Pt(dn),p=n.memoizedState,p===null)return un(n),null;if(v=(n.flags&128)!==0,_=p.rendering,_===null)if(v)Xu(p,!1);else{if(r!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(_=fr(e),_!==null){for(n.flags|=128,Xu(p,!1),e=_.updateQueue,n.updateQueue=e,Xl(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)Sr(o,e),o=o.sibling;return he(dn,dn.current&1|2),Z&&E(n,p.treeForkCount),n.child}e=e.sibling}p.tail!==null&&Wn()>U&&(n.flags|=128,v=!0,Xu(p,!1),n.lanes=4194304)}else{if(!v)if(e=fr(_),e!==null){if(n.flags|=128,v=!0,e=e.updateQueue,n.updateQueue=e,Xl(n,e),Xu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Z)return un(n),null}else 2*Wn()-p.renderingStartTime>U&&o!==536870912&&(n.flags|=128,v=!0,Xu(p,!1),n.lanes=4194304);p.isBackwards?(_.sibling=n.child,n.child=_):(e=p.last,e!==null?e.sibling=_:n.child=_,p.last=_)}return p.tail!==null?(e=p.tail,p.rendering=e,p.tail=e.sibling,p.renderingStartTime=Wn(),e.sibling=null,o=dn.current,he(dn,v?o&1|2:o&1),Z&&E(n,p.treeForkCount),e):(un(n),null);case 22:case 23:return ia(n),Uu(),p=n.memoizedState!==null,e!==null?e.memoizedState!==null!==p&&(n.flags|=8192):p&&(n.flags|=8192),p?(o&536870912)!==0&&(n.flags&128)===0&&(un(n),n.subtreeFlags&6&&(n.flags|=8192)):un(n),o=n.updateQueue,o!==null&&Xl(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),p=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(p=n.memoizedState.cachePool.pool),p!==o&&(n.flags|=2048),e!==null&&Pt(ba),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),we(Zi),un(n),null;case 25:return null;case 30:return null}throw Error(I(156,n.tag))}function Oc(e,n){switch(N(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return we(Zi),fi(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return oo(n),null;case 31:if(n.memoizedState!==null){if(ia(n),n.alternate===null)throw Error(I(340));Bt()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(ia(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(I(340));Bt()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Pt(dn),null;case 4:return fi(),null;case 10:return we(n.type),null;case 22:case 23:return ia(n),Uu(),e!==null&&Pt(ba),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return we(Zi),null;case 25:return null;default:return null}}function Yl(e,n){switch(N(n),n.tag){case 3:we(Zi),fi();break;case 26:case 27:case 5:oo(n);break;case 4:fi();break;case 31:n.memoizedState!==null&&ia(n);break;case 13:ia(n);break;case 19:Pt(dn);break;case 10:we(n.type);break;case 22:case 23:ia(n),Uu(),e!==null&&Pt(ba);break;case 24:we(Zi)}}function Uc(e,n){try{var o=n.updateQueue,p=o!==null?o.lastEffect:null;if(p!==null){var v=p.next;o=v;do{if((o.tag&e)===e){p=void 0;var _=o.create,C=o.inst;p=_(),C.destroy=p}o=o.next}while(o!==v)}}catch(j){Ke(n,n.return,j)}}function rl(e,n,o){try{var p=n.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var _=v.next;p=_;do{if((p.tag&e)===e){var C=p.inst,j=C.destroy;if(j!==void 0){C.destroy=void 0,v=n;var st=o,Et=j;try{Et()}catch(Ut){Ke(v,st,Ut)}}}p=p.next}while(p!==_)}}catch(Ut){Ke(n,n.return,Ut)}}function Uf(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{Cc(n,o)}catch(p){Ke(e,e.return,p)}}}function Kl(e,n,o){o.props=Gl(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(p){Ke(e,n,p)}}function Jl(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var p=e.stateNode;break;case 30:p=e.stateNode;break;default:p=e.stateNode}typeof o=="function"?e.refCleanup=o(p):o.current=p}}catch(v){Ke(e,n,v)}}function xo(e,n){var o=e.ref,p=e.refCleanup;if(o!==null)if(typeof p=="function")try{p()}catch(v){Ke(e,n,v)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(v){Ke(e,n,v)}else o.current=null}function Np(e){var n=e.type,o=e.memoizedProps,p=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&p.focus();break t;case"img":o.src?p.src=o.src:o.srcSet&&(p.srcset=o.srcSet)}}catch(v){Ke(e,e.return,v)}}function Fp(e,n,o){try{var p=e.stateNode;Sa(p,e.type,o,n),p[k]=n}catch(v){Ke(e,e.return,v)}}function Ph(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ds(e.type)||e.tag===4}function Nh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ph(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ds(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fh(e,n,o){var p=e.tag;if(p===5||p===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=ya));else if(p!==4&&(p===27&&Ds(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(Fh(e,n,o),e=e.sibling;e!==null;)Fh(e,n,o),e=e.sibling}function Vp(e,n,o){var p=e.tag;if(p===5||p===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(p!==4&&(p===27&&Ds(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Vp(e,n,o),e=e.sibling;e!==null;)Vp(e,n,o),e=e.sibling}function Pc(e){var n=e.stateNode,o=e.memoizedProps;try{for(var p=e.type,v=n.attributes;v.length;)n.removeAttributeNode(v[0]);ar(n,p,o),n[D]=e,n[k]=o}catch(_){Ke(e,e.return,_)}}var bo=!1,nr=!1,Ql=!1,al=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function zd(e,n){if(e=e.containerInfo,qr=rd,e=li(e),ji(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var p=o.getSelection&&o.getSelection();if(p&&p.rangeCount!==0){o=p.anchorNode;var v=p.anchorOffset,_=p.focusNode;p=p.focusOffset;try{o.nodeType,_.nodeType}catch{o=null;break t}var C=0,j=-1,st=-1,Et=0,Ut=0,qt=e,Ct=null;e:for(;;){for(var Rt;qt!==o||v!==0&&qt.nodeType!==3||(j=C+v),qt!==_||p!==0&&qt.nodeType!==3||(st=C+p),qt.nodeType===3&&(C+=qt.nodeValue.length),(Rt=qt.firstChild)!==null;)Ct=qt,qt=Rt;for(;;){if(qt===e)break e;if(Ct===o&&++Et===v&&(j=C),Ct===_&&++Ut===p&&(st=C),(Rt=qt.nextSibling)!==null)break;qt=Ct,Ct=qt.parentNode}qt=Rt}o=j===-1||st===-1?null:{start:j,end:st}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ua={focusedElem:e,selectionRange:o},rd=!1,Ze=n;Ze!==null;)if(n=Ze,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ze=e;else for(;Ze!==null;){switch(n=Ze,_=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)v=e[o],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&_!==null){e=void 0,o=n,v=_.memoizedProps,_=_.memoizedState,p=o.stateNode;try{var Se=Gl(o.type,v);e=p.getSnapshotBeforeUpdate(Se,_),p.__reactInternalSnapshotBeforeUpdate=e}catch(Xe){Ke(o,o.return,Xe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)Kp(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Kp(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(I(163))}if(e=n.sibling,e!==null){e.return=n.return,Ze=e;break}Ze=n.return}}function Nc(e,n,o){var p=o.flags;switch(o.tag){case 0:case 11:case 15:wo(e,o),p&4&&Uc(5,o);break;case 1:if(wo(e,o),p&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(C){Ke(o,o.return,C)}else{var v=Gl(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(v,n,e.__reactInternalSnapshotBeforeUpdate)}catch(C){Ke(o,o.return,C)}}p&64&&Uf(o),p&512&&Jl(o,o.return);break;case 3:if(wo(e,o),p&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{Cc(e,n)}catch(C){Ke(o,o.return,C)}}break;case 27:n===null&&p&4&&Pc(o);case 26:case 5:wo(e,o),n===null&&p&4&&Np(o),p&512&&Jl(o,o.return);break;case 12:wo(e,o);break;case 31:wo(e,o),p&4&&Nf(e,o);break;case 13:wo(e,o),p&4&&Ff(e,o),p&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=br.bind(null,o),ec(e,o))));break;case 22:if(p=o.memoizedState!==null||bo,!p){n=n!==null&&n.memoizedState!==null||nr,v=bo;var _=nr;bo=p,(nr=n)&&!_?Ho(e,o,(o.subtreeFlags&8772)!==0):wo(e,o),bo=v,nr=_}break;case 30:break;default:wo(e,o)}}function Wl(e){var n=e.alternate;n!==null&&(e.alternate=null,Wl(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&dt(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tn=null,wa=!1;function zs(e,n,o){for(o=o.child;o!==null;)Pf(e,n,o),o=o.sibling}function Pf(e,n,o){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(lo,o)}catch{}switch(o.tag){case 26:nr||xo(o,n),zs(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:nr||xo(o,n);var p=Tn,v=wa;Ds(o.type)&&(Tn=o.stateNode,wa=!1),zs(e,n,o),nc(o.stateNode),Tn=p,wa=v;break;case 5:nr||xo(o,n);case 6:if(p=Tn,v=wa,Tn=null,zs(e,n,o),Tn=p,wa=v,Tn!==null)if(wa)try{(Tn.nodeType===9?Tn.body:Tn.nodeName==="HTML"?Tn.ownerDocument.body:Tn).removeChild(o.stateNode)}catch(_){Ke(o,n,_)}else try{Tn.removeChild(o.stateNode)}catch(_){Ke(o,n,_)}break;case 18:Tn!==null&&(wa?(e=Tn,Zh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),th(e)):Zh(Tn,o.stateNode));break;case 4:p=Tn,v=wa,Tn=o.stateNode.containerInfo,wa=!0,zs(e,n,o),Tn=p,wa=v;break;case 0:case 11:case 14:case 15:rl(2,o,n),nr||rl(4,o,n),zs(e,n,o);break;case 1:nr||(xo(o,n),p=o.stateNode,typeof p.componentWillUnmount=="function"&&Kl(o,n,p)),zs(e,n,o);break;case 21:zs(e,n,o);break;case 22:nr=(p=nr)||o.memoizedState!==null,zs(e,n,o),nr=p;break;default:zs(e,n,o)}}function Nf(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{th(e)}catch(o){Ke(n,n.return,o)}}}function Ff(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{th(e)}catch(o){Ke(n,n.return,o)}}function Cd(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new al),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new al),n;default:throw Error(I(435,e.tag))}}function Fc(e,n){var o=Cd(e);n.forEach(function(p){if(!o.has(p)){o.add(p);var v=Ba.bind(null,e,p);p.then(v,v)}})}function aa(e,n){var o=n.deletions;if(o!==null)for(var p=0;p<o.length;p++){var v=o[p],_=e,C=n,j=C;t:for(;j!==null;){switch(j.tag){case 27:if(Ds(j.type)){Tn=j.stateNode,wa=!1;break t}break;case 5:Tn=j.stateNode,wa=!1;break t;case 3:case 4:Tn=j.stateNode.containerInfo,wa=!0;break t}j=j.return}if(Tn===null)throw Error(I(160));Pf(_,C,v),Tn=null,wa=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Vh(n,e),n=n.sibling}var to=null;function Vh(e,n){var o=e.alternate,p=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:aa(n,e),Cr(e),p&4&&(rl(3,e,e.return),Uc(3,e),rl(5,e,e.return));break;case 1:aa(n,e),Cr(e),p&512&&(nr||o===null||xo(o,o.return)),p&64&&bo&&(e=e.updateQueue,e!==null&&(p=e.callbacks,p!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?p:o.concat(p))));break;case 26:var v=to;if(aa(n,e),Cr(e),p&512&&(nr||o===null||xo(o,o.return)),p&4){var _=o!==null?o.memoizedState:null;if(p=e.memoizedState,o===null)if(p===null)if(e.stateNode===null){t:{p=e.type,o=e.memoizedProps,v=v.ownerDocument||v;e:switch(p){case"title":_=v.getElementsByTagName("title")[0],(!_||_[nt]||_[D]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(p),v.head.insertBefore(_,v.querySelector("head > title"))),ar(_,p,o),_[D]=e,jt(_),p=_;break t;case"link":var C=$f("link","href",v).get(p+(o.href||""));if(C){for(var j=0;j<C.length;j++)if(_=C[j],_.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&_.getAttribute("rel")===(o.rel==null?null:o.rel)&&_.getAttribute("title")===(o.title==null?null:o.title)&&_.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){C.splice(j,1);break e}}_=v.createElement(p),ar(_,p,o),v.head.appendChild(_);break;case"meta":if(C=$f("meta","content",v).get(p+(o.content||""))){for(j=0;j<C.length;j++)if(_=C[j],_.getAttribute("content")===(o.content==null?null:""+o.content)&&_.getAttribute("name")===(o.name==null?null:o.name)&&_.getAttribute("property")===(o.property==null?null:o.property)&&_.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&_.getAttribute("charset")===(o.charSet==null?null:o.charSet)){C.splice(j,1);break e}}_=v.createElement(p),ar(_,p,o),v.head.appendChild(_);break;default:throw Error(I(468,p))}_[D]=e,jt(_),p=_}e.stateNode=p}else td(v,e.type,e.stateNode);else e.stateNode=Wf(v,p,e.memoizedProps);else _!==p?(_===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):_.count--,p===null?td(v,e.type,e.stateNode):Wf(v,p,e.memoizedProps)):p===null&&e.stateNode!==null&&Fp(e,e.memoizedProps,o.memoizedProps)}break;case 27:aa(n,e),Cr(e),p&512&&(nr||o===null||xo(o,o.return)),o!==null&&p&4&&Fp(e,e.memoizedProps,o.memoizedProps);break;case 5:if(aa(n,e),Cr(e),p&512&&(nr||o===null||xo(o,o.return)),e.flags&32){v=e.stateNode;try{Hr(v,"")}catch(Se){Ke(e,e.return,Se)}}p&4&&e.stateNode!=null&&(v=e.memoizedProps,Fp(e,v,o!==null?o.memoizedProps:v)),p&1024&&(Ql=!0);break;case 6:if(aa(n,e),Cr(e),p&4){if(e.stateNode===null)throw Error(I(162));p=e.memoizedProps,o=e.stateNode;try{o.nodeValue=p}catch(Se){Ke(e,e.return,Se)}}break;case 3:if($p=null,v=to,to=rc(n.containerInfo),aa(n,e),to=v,Cr(e),p&4&&o!==null&&o.memoizedState.isDehydrated)try{th(n.containerInfo)}catch(Se){Ke(e,e.return,Se)}Ql&&(Ql=!1,ol(e));break;case 4:p=to,to=rc(e.stateNode.containerInfo),aa(n,e),Cr(e),to=p;break;case 12:aa(n,e),Cr(e);break;case 31:aa(n,e),Cr(e),p&4&&(p=e.updateQueue,p!==null&&(e.updateQueue=null,Fc(e,p)));break;case 13:aa(n,e),Cr(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(B=Wn()),p&4&&(p=e.updateQueue,p!==null&&(e.updateQueue=null,Fc(e,p)));break;case 22:v=e.memoizedState!==null;var st=o!==null&&o.memoizedState!==null,Et=bo,Ut=nr;if(bo=Et||v,nr=Ut||st,aa(n,e),nr=Ut,bo=Et,Cr(e),p&8192)t:for(n=e.stateNode,n._visibility=v?n._visibility&-2:n._visibility|1,v&&(o===null||st||bo||nr||eo(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){st=o=n;try{if(_=st.stateNode,v)C=_.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{j=st.stateNode;var qt=st.memoizedProps.style,Ct=qt!=null&&qt.hasOwnProperty("display")?qt.display:null;j.style.display=Ct==null||typeof Ct=="boolean"?"":(""+Ct).trim()}}catch(Se){Ke(st,st.return,Se)}}}else if(n.tag===6){if(o===null){st=n;try{st.stateNode.nodeValue=v?"":st.memoizedProps}catch(Se){Ke(st,st.return,Se)}}}else if(n.tag===18){if(o===null){st=n;try{var Rt=st.stateNode;v?Gh(Rt,!0):Gh(st.stateNode,!1)}catch(Se){Ke(st,st.return,Se)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}p&4&&(p=e.updateQueue,p!==null&&(o=p.retryQueue,o!==null&&(p.retryQueue=null,Fc(e,o))));break;case 19:aa(n,e),Cr(e),p&4&&(p=e.updateQueue,p!==null&&(e.updateQueue=null,Fc(e,p)));break;case 30:break;case 21:break;default:aa(n,e),Cr(e)}}function Cr(e){var n=e.flags;if(n&2){try{for(var o,p=e.return;p!==null;){if(Ph(p)){o=p;break}p=p.return}if(o==null)throw Error(I(160));switch(o.tag){case 27:var v=o.stateNode,_=Nh(e);Vp(e,_,v);break;case 5:var C=o.stateNode;o.flags&32&&(Hr(C,""),o.flags&=-33);var j=Nh(e);Vp(e,j,C);break;case 3:case 4:var st=o.stateNode.containerInfo,Et=Nh(e);Fh(e,Et,st);break;default:throw Error(I(161))}}catch(Ut){Ke(e,e.return,Ut)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ol(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ol(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function wo(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Nc(e,n.alternate,n),n=n.sibling}function eo(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:rl(4,n,n.return),eo(n);break;case 1:xo(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&Kl(n,n.return,o),eo(n);break;case 27:nc(n.stateNode);case 26:case 5:xo(n,n.return),eo(n);break;case 22:n.memoizedState===null&&eo(n);break;case 30:eo(n);break;default:eo(n)}e=e.sibling}}function Ho(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var p=n.alternate,v=e,_=n,C=_.flags;switch(_.tag){case 0:case 11:case 15:Ho(v,_,o),Uc(4,_);break;case 1:if(Ho(v,_,o),p=_,v=p.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Et){Ke(p,p.return,Et)}if(p=_,v=p.updateQueue,v!==null){var j=p.stateNode;try{var st=v.shared.hiddenCallbacks;if(st!==null)for(v.shared.hiddenCallbacks=null,v=0;v<st.length;v++)Ou(st[v],j)}catch(Et){Ke(p,p.return,Et)}}o&&C&64&&Uf(_),Jl(_,_.return);break;case 27:Pc(_);case 26:case 5:Ho(v,_,o),o&&p===null&&C&4&&Np(_),Jl(_,_.return);break;case 12:Ho(v,_,o);break;case 31:Ho(v,_,o),o&&C&4&&Nf(v,_);break;case 13:Ho(v,_,o),o&&C&4&&Ff(v,_);break;case 22:_.memoizedState===null&&Ho(v,_,o),Jl(_,_.return);break;case 30:break;default:Ho(v,_,o)}n=n.sibling}}function An(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&ta(o))}function Ji(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ta(e))}function io(e,n,o,p){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)qh(e,n,o,p),n=n.sibling}function qh(e,n,o,p){var v=n.flags;switch(n.tag){case 0:case 11:case 15:io(e,n,o,p),v&2048&&Uc(9,n);break;case 1:io(e,n,o,p);break;case 3:io(e,n,o,p),v&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ta(e)));break;case 12:if(v&2048){io(e,n,o,p),e=n.stateNode;try{var _=n.memoizedProps,C=_.id,j=_.onPostCommit;typeof j=="function"&&j(C,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(st){Ke(n,n.return,st)}}else io(e,n,o,p);break;case 31:io(e,n,o,p);break;case 13:io(e,n,o,p);break;case 23:break;case 22:_=n.stateNode,C=n.alternate,n.memoizedState!==null?_._visibility&2?io(e,n,o,p):Yu(e,n):_._visibility&2?io(e,n,o,p):(_._visibility|=2,$l(e,n,o,p,(n.subtreeFlags&10256)!==0||!1)),v&2048&&An(C,n);break;case 24:io(e,n,o,p),v&2048&&Ji(n.alternate,n);break;default:io(e,n,o,p)}}function $l(e,n,o,p,v){for(v=v&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var _=e,C=n,j=o,st=p,Et=C.flags;switch(C.tag){case 0:case 11:case 15:$l(_,C,j,st,v),Uc(8,C);break;case 23:break;case 22:var Ut=C.stateNode;C.memoizedState!==null?Ut._visibility&2?$l(_,C,j,st,v):Yu(_,C):(Ut._visibility|=2,$l(_,C,j,st,v)),v&&Et&2048&&An(C.alternate,C);break;case 24:$l(_,C,j,st,v),v&&Et&2048&&Ji(C.alternate,C);break;default:$l(_,C,j,st,v)}n=n.sibling}}function Yu(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,p=n,v=p.flags;switch(p.tag){case 22:Yu(o,p),v&2048&&An(p.alternate,p);break;case 24:Yu(o,p),v&2048&&Ji(p.alternate,p);break;default:Yu(o,p)}n=n.sibling}}var Ku=8192;function sl(e,n,o){if(e.subtreeFlags&Ku)for(e=e.child;e!==null;)ll(e,n,o),e=e.sibling}function ll(e,n,o){switch(e.tag){case 26:sl(e,n,o),e.flags&Ku&&e.memoizedState!==null&&py(o,to,e.memoizedState,e.memoizedProps);break;case 5:sl(e,n,o);break;case 3:case 4:var p=to;to=rc(e.stateNode.containerInfo),sl(e,n,o),to=p;break;case 22:e.memoizedState===null&&(p=e.alternate,p!==null&&p.memoizedState!==null?(p=Ku,Ku=16777216,sl(e,n,o),Ku=p):sl(e,n,o));break;default:sl(e,n,o)}}function ul(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ju(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var p=n[o];Ze=p,Xo(p,e)}ul(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Dn(e),e=e.sibling}function Dn(e){switch(e.tag){case 0:case 11:case 15:Ju(e),e.flags&2048&&rl(9,e,e.return);break;case 3:Ju(e);break;case 12:Ju(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,cl(e)):Ju(e);break;default:Ju(e)}}function cl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var p=n[o];Ze=p,Xo(p,e)}ul(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:rl(8,n,n.return),cl(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,cl(n));break;default:cl(n)}e=e.sibling}}function Xo(e,n){for(;Ze!==null;){var o=Ze;switch(o.tag){case 0:case 11:case 15:rl(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var p=o.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:ta(o.memoizedState.cache)}if(p=o.child,p!==null)p.return=o,Ze=p;else t:for(o=e;Ze!==null;){p=Ze;var v=p.sibling,_=p.return;if(Wl(p),p===o){Ze=null;break t}if(v!==null){v.return=_,Ze=v;break t}Ze=_}}}var qp={getCacheForType:function(e){var n=xe(Zi),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o},cacheSignal:function(){return xe(Zi).controller.signal}},jp=typeof WeakMap=="function"?WeakMap:Map,Ii=0,Ni=null,ti=null,_i=0,rn=0,Bi=null,oa=!1,tu=!1,t=!1,i=0,r=0,u=0,f=0,d=0,y=0,x=0,S=null,A=null,M=!1,B=0,F=0,U=1/0,V=null,J=null,W=0,et=null,mt=null,vt=0,gt=0,Lt=null,Ot=null,kt=0,Wt=null;function $t(){return(Ii&2)!==0&&_i!==0?_i&-_i:It.T!==null?Cs():pn()}function oe(){if(y===0)if((_i&536870912)===0||Z){var e=is;is<<=1,(is&3932160)===0&&(is=262144),y=e}else y=536870912;return e=Vr.current,e!==null&&(e.flags|=32),y}function ie(e,n,o){(e===Ni&&(rn===2||rn===9)||e.cancelPendingCommit!==null)&&(Ae(e,0),Oe(e,_i,y,!1)),oi(e,o),((Ii&2)===0||e!==Ni)&&(e===Ni&&((Ii&2)===0&&(f|=o),r===4&&Oe(e,_i,y,!1)),ua(e))}function se(e,n,o){if((Ii&6)!==0)throw Error(I(327));var p=!o&&(n&127)===0&&(n&e.expiredLanes)===0||da(e,n),v=p?mr(e,n):Hi(e,n,!0),_=p;do{if(v===0){tu&&!p&&Oe(e,n,0,!1);break}else{if(o=e.current.alternate,_&&!Gt(o)){v=Hi(e,n,!1),_=!1;continue}if(v===2){if(_=n,e.errorRecoveryDisabledLanes&_)var C=0;else C=e.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){n=C;t:{var j=e;v=S;var st=j.current.memoizedState.isDehydrated;if(st&&(Ae(j,C).flags|=256),C=Hi(j,C,!1),C!==2){if(t&&!st){j.errorRecoveryDisabledLanes|=_,f|=_,v=4;break t}_=A,A=v,_!==null&&(A===null?A=_:A.push.apply(A,_))}v=C}if(_=!1,v!==2)continue}}if(v===1){Ae(e,0),Oe(e,n,0,!0);break}t:{switch(p=e,_=v,_){case 0:case 1:throw Error(I(345));case 4:if((n&4194048)!==n)break;case 6:Oe(p,n,y,!oa);break t;case 2:A=null;break;case 3:case 5:break;default:throw Error(I(329))}if((n&62914560)===n&&(v=B+300-Wn(),10<v)){if(Oe(p,n,y,!oa),co(p,0,!0)!==0)break t;vt=n,p.timeoutHandle=Yc(te.bind(null,p,o,A,V,M,n,y,f,x,oa,_,"Throttled",-0,0),v);break t}te(p,o,A,V,M,n,y,f,x,oa,_,null,-0,0)}}break}while(!0);ua(e)}function te(e,n,o,p,v,_,C,j,st,Et,Ut,qt,Ct,Rt){if(e.timeoutHandle=-1,qt=n.subtreeFlags,qt&8192||(qt&16785408)===16785408){qt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ya},ll(n,_,qt);var Se=(_&62914560)===_?B-Wn():(_&4194048)===_?F-Wn():0;if(Se=hy(qt,Se),Se!==null){vt=_,e.cancelPendingCommit=Se(Qi.bind(null,e,n,_,o,p,v,C,j,st,Ut,qt,null,Ct,Rt)),Oe(e,_,C,!Et);return}}Qi(e,n,_,o,p,v,C,j,st)}function Gt(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var p=0;p<o.length;p++){var v=o[p],_=v.getSnapshot;v=v.value;try{if(!Ir(_(),v))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Oe(e,n,o,p){n&=~d,n&=~f,e.suspendedLanes|=n,e.pingedLanes&=~n,p&&(e.warmLanes|=n),p=e.expirationTimes;for(var v=n;0<v;){var _=31-cr(v),C=1<<_;p[_]=-1,v&=~C}o!==0&&Xi(e,o,n)}function xi(){return(Ii&6)===0?(hl(0),!1):!0}function ui(){if(ti!==null){if(rn===0)var e=ti.return;else e=ti,ye=Yt=null,Mc(e),go=null,ys=0,e=ti;for(;e!==null;)Yl(e.alternate,e),e=e.return;ti=null}}function Ae(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,Xp(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),vt=0,ui(),Ni=e,ti=o=$r(e.current,null),_i=n,rn=0,Bi=null,oa=!1,tu=da(e,n),t=!1,x=y=d=f=u=r=0,A=S=null,M=!1,(n&8)!==0&&(n|=n&32);var p=e.entangledLanes;if(p!==0)for(e=e.entanglements,p&=n;0<p;){var v=31-cr(p),_=1<<v;n|=e[v],p&=~_}return i=n,Ys(),o}function Ye(e,n){ai=null,It.H=Zu,n===Ka||n===mi?(n=Kn(),rn=3):n===Gi?(n=Kn(),rn=4):rn=n===Rp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Bi=n,ti===null&&(r=1,Lp(e,fn(n,e.current)))}function ei(){var e=Vr.current;return e===null?!0:(_i&4194048)===_i?Ja===null:(_i&62914560)===_i||(_i&536870912)!==0?e===Ja:!1}function Ue(){var e=It.H;return It.H=Zu,e===null?Zu:e}function $e(){var e=It.A;return It.A=qp,e}function ci(){r=4,oa||(_i&4194048)!==_i&&Vr.current!==null||(tu=!0),(u&134217727)===0&&(f&134217727)===0||Ni===null||Oe(Ni,_i,y,!1)}function Hi(e,n,o){var p=Ii;Ii|=2;var v=Ue(),_=$e();(Ni!==e||_i!==n)&&(V=null,Ae(e,n)),n=!1;var C=r;t:do try{if(rn!==0&&ti!==null){var j=ti,st=Bi;switch(rn){case 8:ui(),C=6;break t;case 3:case 2:case 9:case 6:Vr.current===null&&(n=!0);var Et=rn;if(rn=0,Bi=null,Cn(e,j,st,Et),o&&tu){C=0;break t}break;default:Et=rn,rn=0,Bi=null,Cn(e,j,st,Et)}}cn(),C=r;break}catch(Ut){Ye(e,Ut)}while(!0);return n&&e.shellSuspendCounter++,ye=Yt=null,Ii=p,It.H=v,It.A=_,ti===null&&(Ni=null,_i=0,Ys()),C}function cn(){for(;ti!==null;)zn(ti)}function mr(e,n){var o=Ii;Ii|=2;var p=Ue(),v=$e();Ni!==e||_i!==n?(V=null,U=Wn()+500,Ae(e,n)):tu=da(e,n);t:do try{if(rn!==0&&ti!==null){n=ti;var _=Bi;e:switch(rn){case 1:rn=0,Bi=null,Cn(e,n,_,1);break;case 2:case 9:if(pr(_)){rn=0,Bi=null,Fn(n);break}n=function(){rn!==2&&rn!==9||Ni!==e||(rn=7),ua(e)},_.then(n,n);break t;case 3:rn=7;break t;case 4:rn=5;break t;case 7:pr(_)?(rn=0,Bi=null,Fn(n)):(rn=0,Bi=null,Cn(e,n,_,7));break;case 5:var C=null;switch(ti.tag){case 26:C=ti.memoizedState;case 5:case 27:var j=ti;if(C?am(C):j.stateNode.complete){rn=0,Bi=null;var st=j.sibling;if(st!==null)ti=st;else{var Et=j.return;Et!==null?(ti=Et,Vn(Et)):ti=null}break e}}rn=0,Bi=null,Cn(e,n,_,5);break;case 6:rn=0,Bi=null,Cn(e,n,_,6);break;case 8:ui(),r=6;break t;default:throw Error(I(462))}}yr();break}catch(Ut){Ye(e,Ut)}while(!0);return ye=Yt=null,It.H=p,It.A=v,Ii=o,ti!==null?0:(Ni=null,_i=0,Ys(),r)}function yr(){for(;ti!==null&&!ha();)zn(ti)}function zn(e){var n=Bh(e.alternate,e,i);e.memoizedProps=e.pendingProps,n===null?Vn(e):ti=n}function Fn(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=Rh(o,n,n.pendingProps,n.type,void 0,_i);break;case 11:n=Rh(o,n,n.pendingProps,n.type.render,n.ref,_i);break;case 5:Mc(n);default:Yl(o,n),n=ti=Sr(n,i),n=Bh(o,n,i)}e.memoizedProps=e.pendingProps,n===null?Vn(e):ti=n}function Cn(e,n,o,p){ye=Yt=null,Mc(n),go=null,ys=0;var v=n.return;try{if(Gu(e,v,n,o,_i)){r=1,Lp(e,fn(o,e.current)),ti=null;return}}catch(_){if(v!==null)throw ti=v,_;r=1,Lp(e,fn(o,e.current)),ti=null;return}n.flags&32768?(Z||p===1?e=!0:tu||(_i&536870912)!==0?e=!1:(oa=e=!0,(p===2||p===9||p===3||p===6)&&(p=Vr.current,p!==null&&p.tag===13&&(p.flags|=16384))),In(n,e)):Vn(n)}function Vn(e){var n=e;do{if((n.flags&32768)!==0){In(n,oa);return}e=n.return;var o=Pp(n.alternate,n,i);if(o!==null){ti=o;return}if(n=n.sibling,n!==null){ti=n;return}ti=n=e}while(n!==null);r===0&&(r=5)}function In(e,n){do{var o=Oc(e.alternate,e);if(o!==null){o.flags&=32767,ti=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){ti=e;return}ti=e=o}while(e!==null);r=6,ti=null}function Qi(e,n,o,p,v,_,C,j,st){e.cancelPendingCommit=null;do Ci();while(W!==0);if((Ii&6)!==0)throw Error(I(327));if(n!==null){if(n===e.current)throw Error(I(177));if(_=n.lanes|n.childLanes,_|=Bl,gn(e,o,_,C,j,st),e===Ni&&(ti=Ni=null,_i=0),mt=n,et=e,vt=o,gt=_,Lt=v,Ot=p,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Jn(es,function(){return Bn(),null})):(e.callbackNode=null,e.callbackPriority=0),p=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||p){p=It.T,It.T=null,v=re.p,re.p=2,C=Ii,Ii|=4;try{zd(e,n,o)}finally{Ii=C,re.p=v,It.T=p}}W=1,bn(),ii(),Si()}}function bn(){if(W===1){W=0;var e=et,n=mt,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=It.T,It.T=null;var p=re.p;re.p=2;var v=Ii;Ii|=4;try{Vh(n,e);var _=Ua,C=li(e.containerInfo),j=_.focusedElem,st=_.selectionRange;if(C!==j&&j&&j.ownerDocument&&Uo(j.ownerDocument.documentElement,j)){if(st!==null&&ji(j)){var Et=st.start,Ut=st.end;if(Ut===void 0&&(Ut=Et),"selectionStart"in j)j.selectionStart=Et,j.selectionEnd=Math.min(Ut,j.value.length);else{var qt=j.ownerDocument||document,Ct=qt&&qt.defaultView||window;if(Ct.getSelection){var Rt=Ct.getSelection(),Se=j.textContent.length,Xe=Math.min(st.start,Se),wn=st.end===void 0?Xe:Math.min(st.end,Se);!Rt.extend&&Xe>wn&&(C=wn,wn=Xe,Xe=C);var _t=ku(j,Xe),pt=ku(j,wn);if(_t&&pt&&(Rt.rangeCount!==1||Rt.anchorNode!==_t.node||Rt.anchorOffset!==_t.offset||Rt.focusNode!==pt.node||Rt.focusOffset!==pt.offset)){var St=qt.createRange();St.setStart(_t.node,_t.offset),Rt.removeAllRanges(),Xe>wn?(Rt.addRange(St),Rt.extend(pt.node,pt.offset)):(St.setEnd(pt.node,pt.offset),Rt.addRange(St))}}}}for(qt=[],Rt=j;Rt=Rt.parentNode;)Rt.nodeType===1&&qt.push({element:Rt,left:Rt.scrollLeft,top:Rt.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<qt.length;j++){var Vt=qt[j];Vt.element.scrollLeft=Vt.left,Vt.element.scrollTop=Vt.top}}rd=!!qr,Ua=qr=null}finally{Ii=v,re.p=p,It.T=o}}e.current=n,W=2}}function ii(){if(W===2){W=0;var e=et,n=mt,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=It.T,It.T=null;var p=re.p;re.p=2;var v=Ii;Ii|=4;try{Nc(e,n.alternate,n)}finally{Ii=v,re.p=p,It.T=o}}W=3}}function Si(){if(W===4||W===3){W=0,$o();var e=et,n=mt,o=vt,p=Ot;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?W=5:(W=0,mt=et=null,Fi(e,e.pendingLanes));var v=e.pendingLanes;if(v===0&&(J=null),Aa(o),n=n.stateNode,ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(lo,n,void 0,(n.current.flags&128)===128)}catch{}if(p!==null){n=It.T,v=re.p,re.p=2,It.T=null;try{for(var _=e.onRecoverableError,C=0;C<p.length;C++){var j=p[C];_(j.value,{componentStack:j.stack})}}finally{It.T=n,re.p=v}}(vt&3)!==0&&Ci(),ua(e),v=e.pendingLanes,(o&261930)!==0&&(v&42)!==0?e===Wt?kt++:(kt=0,Wt=e):kt=0,hl(0)}}function Fi(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ta(n)))}function Ci(){return bn(),ii(),Si(),Bn()}function Bn(){if(W!==5)return!1;var e=et,n=gt;gt=0;var o=Aa(vt),p=It.T,v=re.p;try{re.p=32>o?32:o,It.T=null,o=Lt,Lt=null;var _=et,C=vt;if(W=0,mt=et=null,vt=0,(Ii&6)!==0)throw Error(I(331));var j=Ii;if(Ii|=4,Dn(_.current),qh(_,_.current,C,o),Ii=j,hl(0,!1),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(lo,_)}catch{}return!0}finally{re.p=v,It.T=p,Fi(e,n)}}function Mi(e,n,o){n=fn(o,n),n=Dh(e.stateNode,n,2),e=tl(e,n,2),e!==null&&(oi(e,2),ua(e))}function Ke(e,n,o){if(e.tag===3)Mi(e,e,o);else for(;n!==null;){if(n.tag===3){Mi(n,e,o);break}else if(n.tag===1){var p=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(J===null||!J.has(p))){e=fn(o,e),o=Lf(2),p=tl(n,o,2),p!==null&&(Lc(o,p,n,e),oi(p,2),ua(p));break}}n=n.return}}function an(e,n,o){var p=e.pingCache;if(p===null){p=e.pingCache=new jp;var v=new Set;p.set(n,v)}else v=p.get(n),v===void 0&&(v=new Set,p.set(n,v));v.has(o)||(t=!0,v.add(o),e=So.bind(null,e,n,o),n.then(e,e))}function So(e,n,o){var p=e.pingCache;p!==null&&p.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Ni===e&&(_i&o)===o&&(r===4||r===3&&(_i&62914560)===_i&&300>Wn()-B?(Ii&2)===0&&Ae(e,0):d|=o,x===_i&&(x=0)),ua(e)}function rr(e,n){n===0&&(n=ns()),e=hn(e,n),e!==null&&(oi(e,n),ua(e))}function br(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),rr(e,o)}function Ba(e,n){var o=0;switch(e.tag){case 31:case 13:var p=e.stateNode,v=e.memoizedState;v!==null&&(o=v.retryLane);break;case 19:p=e.stateNode;break;case 22:p=e.stateNode._retryCache;break;default:throw Error(I(314))}p!==null&&p.delete(n),rr(e,o)}function Jn(e,n){return ks(e,n)}var sa=null,la=null,Oa=!1,pl=!1,no=!1,Yo=0;function ua(e){e!==la&&e.next===null&&(la===null?sa=la=e:la=la.next=e),pl=!0,Oa||(Oa=!0,fl())}function hl(e,n){if(!no&&pl){no=!0;do for(var o=!1,p=sa;p!==null;){if(e!==0){var v=p.pendingLanes;if(v===0)var _=0;else{var C=p.suspendedLanes,j=p.pingedLanes;_=(1<<31-cr(42|e)+1)-1,_&=v&~(C&~j),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(o=!0,$u(p,_))}else _=_i,_=co(p,p===Ni?_:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(_&3)===0||da(p,_)||(o=!0,$u(p,_));p=p.next}while(o);no=!1}}function Qu(){Wu()}function Wu(){pl=Oa=!1;var e=0;Yo!==0&&Ai()&&(e=Yo);for(var n=Wn(),o=null,p=sa;p!==null;){var v=p.next,_=Vc(p,n);_===0?(p.next=null,o===null?sa=v:o.next=v,v===null&&(la=o)):(o=p,(e!==0||(_&3)!==0)&&(pl=!0)),p=v}W!==0&&W!==5||hl(e),Yo!==0&&(Yo=0)}function Vc(e,n){for(var o=e.suspendedLanes,p=e.pingedLanes,v=e.expirationTimes,_=e.pendingLanes&-62914561;0<_;){var C=31-cr(_),j=1<<C,st=v[C];st===-1?((j&o)===0||(j&p)!==0)&&(v[C]=bl(j,n)):st<=n&&(e.expiredLanes|=j),_&=~j}if(n=Ni,o=_i,o=co(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),p=e.callbackNode,o===0||e===n&&(rn===2||rn===9)||e.cancelPendingCommit!==null)return p!==null&&p!==null&&pa(p),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||da(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(p!==null&&pa(p),Aa(o)){case 2:case 8:o=Is;break;case 32:o=es;break;case 268435456:o=so;break;default:o=es}return p=Zp.bind(null,e),o=ks(o,p),e.callbackPriority=n,e.callbackNode=o,n}return p!==null&&p!==null&&pa(p),e.callbackPriority=2,e.callbackNode=null,2}function Zp(e,n){if(W!==0&&W!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Ci()&&e.callbackNode!==o)return null;var p=_i;return p=co(e,e===Ni?p:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),p===0?null:(se(e,p,n),Vc(e,Wn()),e.callbackNode!=null&&e.callbackNode===o?Zp.bind(null,e):null)}function $u(e,n){if(Ci())return null;se(e,n,!0)}function fl(){jf(function(){(Ii&6)!==0?ks(Ao,Qu):Wu()})}function Cs(){if(Yo===0){var e=Xa;e===0&&(e=uo,uo<<=1,(uo&261888)===0&&(uo=256)),Yo=e}return Yo}function Ms(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Os(""+e)}function eu(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function qc(e,n,o,p,v){if(n==="submit"&&o&&o.stateNode===v){var _=Ms((v[k]||null).action),C=p.submitter;C&&(n=(n=C[k]||null)?Ms(n.formAction):C.getAttribute("formAction"),n!==null&&(_=n,C=null));var j=new El("action","action",null,p,v);e.push({event:j,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Yo!==0){var st=C?eu(v,C):new FormData(v);Tr(o,{pending:!0,data:st,method:v.method,action:_},null,st)}}else typeof _=="function"&&(j.preventDefault(),st=C?eu(v,C):new FormData(v),Tr(o,{pending:!0,data:st,method:v.method,action:_},_,st))},currentTarget:v}]})}}for(var tc=0;tc<yo.length;tc++){var jc=yo[tc],Zc=jc.toLowerCase(),Gc=jc[0].toUpperCase()+jc.slice(1);Wr(Zc,"on"+Gc)}Wr(sp,"onAnimationEnd"),Wr(Qr,"onAnimationIteration"),Wr(Tc,"onAnimationStart"),Wr("dblclick","onDoubleClick"),Wr("focusin","onFocus"),Wr("focusout","onBlur"),Wr(Br,"onTransitionRun"),Wr(lp,"onTransitionStart"),Wr(sh,"onTransitionCancel"),Wr(ga,"onTransitionEnd"),De("onMouseEnter",["mouseout","mouseover"]),De("onMouseLeave",["mouseout","mouseover"]),De("onPointerEnter",["pointerout","pointerover"]),De("onPointerLeave",["pointerout","pointerover"]),Ht("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ht("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ht("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ht("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ht("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ht("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function iu(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var p=e[o],v=p.event;p=p.listeners;t:{var _=void 0;if(n)for(var C=p.length-1;0<=C;C--){var j=p[C],st=j.instance,Et=j.currentTarget;if(j=j.listener,st!==_&&v.isPropagationStopped())break t;_=j,v.currentTarget=Et;try{_(v)}catch(Ut){tr(Ut)}v.currentTarget=null,_=st}else for(C=0;C<p.length;C++){if(j=p[C],st=j.instance,Et=j.currentTarget,j=j.listener,st!==_&&v.isPropagationStopped())break t;_=j,v.currentTarget=Et;try{_(v)}catch(Ut){tr(Ut)}v.currentTarget=null,_=st}}}}function hi(e,n){var o=n[K];o===void 0&&(o=n[K]=new Set);var p=e+"__bubble";o.has(p)||(au(n,e,2,!1),o.add(p))}function nu(e,n,o){var p=0;n&&(p|=4),au(o,e,p,n)}var ru="_reactListening"+Math.random().toString(36).slice(2);function ml(e){if(!e[ru]){e[ru]=!0,ae.forEach(function(o){o!=="selectionchange"&&(Gp.has(o)||nu(o,!1,e),nu(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ru]||(n[ru]=!0,nu("selectionchange",!1,n))}}function au(e,n,o,p){switch(hm(n)){case 2:var v=my;break;case 8:v=yy;break;default:v=Rd}o=v.bind(null,n,o,e),v=void 0,!rs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(v=!0),p?v!==void 0?e.addEventListener(n,o,{capture:!0,passive:v}):e.addEventListener(n,o,!0):v!==void 0?e.addEventListener(n,o,{passive:v}):e.addEventListener(n,o,!1)}function ou(e,n,o,p,v){var _=p;if((n&1)===0&&(n&2)===0&&p!==null)t:for(;;){if(p===null)return;var C=p.tag;if(C===3||C===4){var j=p.stateNode.containerInfo;if(j===v)break;if(C===4)for(C=p.return;C!==null;){var st=C.tag;if((st===3||st===4)&&C.stateNode.containerInfo===v)return;C=C.return}for(;j!==null;){if(C=Dt(j),C===null)return;if(st=C.tag,st===5||st===6||st===26||st===27){p=_=C;continue t}j=j.parentNode}}p=p.return}Us(function(){var Et=_,Ut=Mo(o),qt=[];t:{var Ct=Ha.get(e);if(Ct!==void 0){var Rt=El,Se=e;switch(e){case"keypress":if(ja(o)===0)break t;case"keydown":case"keyup":Rt=ip;break;case"focusin":Se="focus",Rt=bu;break;case"focusout":Se="blur",Rt=bu;break;case"beforeblur":case"afterblur":Rt=bu;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Rt=$c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Rt=os;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Rt=Al;break;case sp:case Qr:case Tc:Rt=_c;break;case ga:Rt=Tu;break;case"scroll":case"scrollend":Rt=rh;break;case"wheel":Rt=js;break;case"copy":case"cut":case"paste":Rt=xc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Rt=Su;break;case"toggle":case"beforetoggle":Rt=Zs}var Xe=(n&4)!==0,wn=!Xe&&(e==="scroll"||e==="scrollend"),_t=Xe?Ct!==null?Ct+"Capture":null:Ct;Xe=[];for(var pt=Et,St;pt!==null;){var Vt=pt;if(St=Vt.stateNode,Vt=Vt.tag,Vt!==5&&Vt!==26&&Vt!==27||St===null||_t===null||(Vt=Ro(pt,_t),Vt!=null&&Xe.push(yl(pt,Vt,St))),wn)break;pt=pt.return}0<Xe.length&&(Ct=new Rt(Ct,Se,null,o,Ut),qt.push({event:Ct,listeners:Xe}))}}if((n&7)===0){t:{if(Ct=e==="mouseover"||e==="pointerover",Rt=e==="mouseout"||e==="pointerout",Ct&&o!==_u&&(Se=o.relatedTarget||o.fromElement)&&(Dt(Se)||Se[O]))break t;if((Rt||Ct)&&(Ct=Ut.window===Ut?Ut:(Ct=Ut.ownerDocument)?Ct.defaultView||Ct.parentWindow:window,Rt?(Se=o.relatedTarget||o.toElement,Rt=Et,Se=Se?Dt(Se):null,Se!==null&&(wn=rt(Se),Xe=Se.tag,Se!==wn||Xe!==5&&Xe!==27&&Xe!==6)&&(Se=null)):(Rt=null,Se=Et),Rt!==Se)){if(Xe=$c,Vt="onMouseLeave",_t="onMouseEnter",pt="mouse",(e==="pointerout"||e==="pointerover")&&(Xe=Su,Vt="onPointerLeave",_t="onPointerEnter",pt="pointer"),wn=Rt==null?Ct:At(Rt),St=Se==null?Ct:At(Se),Ct=new Xe(Vt,pt+"leave",Rt,o,Ut),Ct.target=wn,Ct.relatedTarget=St,Vt=null,Dt(Ut)===Et&&(Xe=new Xe(_t,pt+"enter",Se,o,Ut),Xe.target=St,Xe.relatedTarget=wn,Vt=Xe),wn=Vt,Rt&&Se)e:{for(Xe=Hc,_t=Rt,pt=Se,St=0,Vt=_t;Vt;Vt=Xe(Vt))St++;Vt=0;for(var Ne=pt;Ne;Ne=Xe(Ne))Vt++;for(;0<St-Vt;)_t=Xe(_t),St--;for(;0<Vt-St;)pt=Xe(pt),Vt--;for(;St--;){if(_t===pt||pt!==null&&_t===pt.alternate){Xe=_t;break e}_t=Xe(_t),pt=Xe(pt)}Xe=null}else Xe=null;Rt!==null&&su(qt,Ct,Rt,Xe,!1),Se!==null&&wn!==null&&su(qt,wn,Se,Xe,!0)}}t:{if(Ct=Et?At(Et):window,Rt=Ct.nodeName&&Ct.nodeName.toLowerCase(),Rt==="select"||Rt==="input"&&Ct.type==="file")var Wi=Ec;else if(wc(Ct))if(fs)Wi=Hs;else{Wi=ds;var Ce=oh}else Rt=Ct.nodeName,!Rt||Rt.toLowerCase()!=="input"||Ct.type!=="checkbox"&&Ct.type!=="radio"?Et&&Mn(Et.elementType)&&(Wi=Ec):Wi=op;if(Wi&&(Wi=Wi(e,Et))){Ll(qt,Wi,o,Ut);break t}Ce&&Ce(e,Ct,Et),e==="focusout"&&Et&&Ct.type==="number"&&Et.memoizedProps.value!=null&&za(Ct,"number",Ct.value)}switch(Ce=Et?At(Et):window,e){case"focusin":(wc(Ce)||Ce.contentEditable==="true")&&(Rn=Ce,ue=Et,ms=null);break;case"focusout":ms=ue=Rn=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,Kr(qt,o,Ut);break;case"selectionchange":if(Po)break;case"keydown":case"keyup":Kr(qt,o,Ut)}var yi;if(zu)t:{switch(e){case"compositionstart":var Di="onCompositionStart";break t;case"compositionend":Di="onCompositionEnd";break t;case"compositionupdate":Di="onCompositionUpdate";break t}Di=void 0}else Gs?bc(e,o)&&(Di="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Di="onCompositionStart");Di&&(cs&&o.locale!=="ko"&&(Gs||Di!=="onCompositionStart"?Di==="onCompositionEnd"&&Gs&&(yi=mo()):(Ui=Ut,ko="value"in Ui?Ui.value:Ui.textContent,Gs=!0)),Ce=Ko(Et,Di),0<Ce.length&&(Di=new ls(Di,e,null,o,Ut),qt.push({event:Di,listeners:Ce}),yi?Di.data=yi:(yi=Ml(o),yi!==null&&(Di.data=yi)))),(yi=rp?Dl(e,o):Cu(e,o))&&(Di=Ko(Et,"onBeforeInput"),0<Di.length&&(Ce=new ls("onBeforeInput","beforeinput",null,o,Ut),qt.push({event:Ce,listeners:Di}),Ce.data=yi)),qc(qt,e,Et,o,Ut)}iu(qt,n)})}function yl(e,n,o){return{instance:e,listener:n,currentTarget:o}}function Ko(e,n){for(var o=n+"Capture",p=[];e!==null;){var v=e,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=Ro(e,o),v!=null&&p.unshift(yl(e,v,_)),v=Ro(e,n),v!=null&&p.push(yl(e,v,_))),e.tag===3)return p;e=e.return}return[]}function Hc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function su(e,n,o,p,v){for(var _=n._reactName,C=[];o!==null&&o!==p;){var j=o,st=j.alternate,Et=j.stateNode;if(j=j.tag,st!==null&&st===p)break;j!==5&&j!==26&&j!==27||Et===null||(st=Et,v?(Et=Ro(o,_),Et!=null&&C.unshift(yl(o,Et,st))):v||(Et=Ro(o,_),Et!=null&&C.push(yl(o,Et,st)))),o=o.return}C.length!==0&&e.push({event:n,listeners:C})}var jh=/\r\n?/g,Vf=/\u0000|\uFFFD/g;function qf(e){return(typeof e=="string"?e:""+e).replace(jh,`
`).replace(Vf,"")}function Hp(e,n){return n=qf(n),qf(e)===n}function on(e,n,o,p,v,_){switch(o){case"children":typeof p=="string"?n==="body"||n==="textarea"&&p===""||Hr(e,p):(typeof p=="number"||typeof p=="bigint")&&n!=="body"&&Hr(e,""+p);break;case"className":vi(e,"class",p);break;case"tabIndex":vi(e,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":vi(e,o,p);break;case"style":fo(e,p,_);break;case"data":if(n!=="object"){vi(e,"data",p);break}case"src":case"href":if(p===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){e.removeAttribute(o);break}p=Os(""+p),e.setAttribute(o,p);break;case"action":case"formAction":if(typeof p=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(o==="formAction"?(n!=="input"&&on(e,n,"name",v.name,v,null),on(e,n,"formEncType",v.formEncType,v,null),on(e,n,"formMethod",v.formMethod,v,null),on(e,n,"formTarget",v.formTarget,v,null)):(on(e,n,"encType",v.encType,v,null),on(e,n,"method",v.method,v,null),on(e,n,"target",v.target,v,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){e.removeAttribute(o);break}p=Os(""+p),e.setAttribute(o,p);break;case"onClick":p!=null&&(e.onclick=ya);break;case"onScroll":p!=null&&hi("scroll",e);break;case"onScrollEnd":p!=null&&hi("scrollend",e);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(I(61));if(o=p.__html,o!=null){if(v.children!=null)throw Error(I(60));e.innerHTML=o}}break;case"multiple":e.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":e.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){e.removeAttribute("xlink:href");break}o=Os(""+p),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?e.setAttribute(o,""+p):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":p===!0?e.setAttribute(o,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?e.setAttribute(o,p):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?e.setAttribute(o,p):e.removeAttribute(o);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?e.removeAttribute(o):e.setAttribute(o,p);break;case"popover":hi("beforetoggle",e),hi("toggle",e),Re(e,"popover",p);break;case"xlinkActuate":di(e,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":di(e,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":di(e,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":di(e,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":di(e,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":di(e,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":di(e,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":di(e,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":di(e,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Re(e,"is",p);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=gu.get(o)||o,Re(e,o,p))}}function Xc(e,n,o,p,v,_){switch(o){case"style":fo(e,p,_);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(I(61));if(o=p.__html,o!=null){if(v.children!=null)throw Error(I(60));e.innerHTML=o}}break;case"children":typeof p=="string"?Hr(e,p):(typeof p=="number"||typeof p=="bigint")&&Hr(e,""+p);break;case"onScroll":p!=null&&hi("scroll",e);break;case"onScrollEnd":p!=null&&hi("scrollend",e);break;case"onClick":p!=null&&(e.onclick=ya);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!de.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(v=o.endsWith("Capture"),n=o.slice(2,v?o.length-7:void 0),_=e[k]||null,_=_!=null?_[o]:null,typeof _=="function"&&e.removeEventListener(n,_,v),typeof p=="function")){typeof _!="function"&&_!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,p,v);break t}o in e?e[o]=p:p===!0?e.setAttribute(o,""):Re(e,o,p)}}}function ar(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":hi("error",e),hi("load",e);var p=!1,v=!1,_;for(_ in o)if(o.hasOwnProperty(_)){var C=o[_];if(C!=null)switch(_){case"src":p=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(I(137,n));default:on(e,n,_,C,o,null)}}v&&on(e,n,"srcSet",o.srcSet,o,null),p&&on(e,n,"src",o.src,o,null);return;case"input":hi("invalid",e);var j=_=C=v=null,st=null,Et=null;for(p in o)if(o.hasOwnProperty(p)){var Ut=o[p];if(Ut!=null)switch(p){case"name":v=Ut;break;case"type":C=Ut;break;case"checked":st=Ut;break;case"defaultChecked":Et=Ut;break;case"value":_=Ut;break;case"defaultValue":j=Ut;break;case"children":case"dangerouslySetInnerHTML":if(Ut!=null)throw Error(I(137,n));break;default:on(e,n,p,Ut,o,null)}}Gn(e,_,j,st,Et,C,v,!1);return;case"select":hi("invalid",e),p=C=_=null;for(v in o)if(o.hasOwnProperty(v)&&(j=o[v],j!=null))switch(v){case"value":_=j;break;case"defaultValue":C=j;break;case"multiple":p=j;default:on(e,n,v,j,o,null)}n=_,o=C,e.multiple=!!p,n!=null?Ca(e,!!p,n,!1):o!=null&&Ca(e,!!p,o,!0);return;case"textarea":hi("invalid",e),_=v=p=null;for(C in o)if(o.hasOwnProperty(C)&&(j=o[C],j!=null))switch(C){case"value":p=j;break;case"defaultValue":v=j;break;case"children":_=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(I(91));break;default:on(e,n,C,j,o,null)}ho(e,p,v,_);return;case"option":for(st in o)if(o.hasOwnProperty(st)&&(p=o[st],p!=null))switch(st){case"selected":e.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:on(e,n,st,p,o,null)}return;case"dialog":hi("beforetoggle",e),hi("toggle",e),hi("cancel",e),hi("close",e);break;case"iframe":case"object":hi("load",e);break;case"video":case"audio":for(p=0;p<dl.length;p++)hi(dl[p],e);break;case"image":hi("error",e),hi("load",e);break;case"details":hi("toggle",e);break;case"embed":case"source":case"link":hi("error",e),hi("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Et in o)if(o.hasOwnProperty(Et)&&(p=o[Et],p!=null))switch(Et){case"children":case"dangerouslySetInnerHTML":throw Error(I(137,n));default:on(e,n,Et,p,o,null)}return;default:if(Mn(n)){for(Ut in o)o.hasOwnProperty(Ut)&&(p=o[Ut],p!==void 0&&Xc(e,n,Ut,p,o,void 0));return}}for(j in o)o.hasOwnProperty(j)&&(p=o[j],p!=null&&on(e,n,j,p,o,null))}function Sa(e,n,o,p){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,C=null,j=null,st=null,Et=null,Ut=null;for(Rt in o){var qt=o[Rt];if(o.hasOwnProperty(Rt)&&qt!=null)switch(Rt){case"checked":break;case"value":break;case"defaultValue":st=qt;default:p.hasOwnProperty(Rt)||on(e,n,Rt,null,p,qt)}}for(var Ct in p){var Rt=p[Ct];if(qt=o[Ct],p.hasOwnProperty(Ct)&&(Rt!=null||qt!=null))switch(Ct){case"type":_=Rt;break;case"name":v=Rt;break;case"checked":Et=Rt;break;case"defaultChecked":Ut=Rt;break;case"value":C=Rt;break;case"defaultValue":j=Rt;break;case"children":case"dangerouslySetInnerHTML":if(Rt!=null)throw Error(I(137,n));break;default:Rt!==qt&&on(e,n,Ct,Rt,p,qt)}}Va(e,C,j,st,Et,Ut,_,v);return;case"select":Rt=C=j=Ct=null;for(_ in o)if(st=o[_],o.hasOwnProperty(_)&&st!=null)switch(_){case"value":break;case"multiple":Rt=st;default:p.hasOwnProperty(_)||on(e,n,_,null,p,st)}for(v in p)if(_=p[v],st=o[v],p.hasOwnProperty(v)&&(_!=null||st!=null))switch(v){case"value":Ct=_;break;case"defaultValue":j=_;break;case"multiple":C=_;default:_!==st&&on(e,n,v,_,p,st)}n=j,o=C,p=Rt,Ct!=null?Ca(e,!!o,Ct,!1):!!p!=!!o&&(n!=null?Ca(e,!!o,n,!0):Ca(e,!!o,o?[]:"",!1));return;case"textarea":Rt=Ct=null;for(j in o)if(v=o[j],o.hasOwnProperty(j)&&v!=null&&!p.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:on(e,n,j,null,p,v)}for(C in p)if(v=p[C],_=o[C],p.hasOwnProperty(C)&&(v!=null||_!=null))switch(C){case"value":Ct=v;break;case"defaultValue":Rt=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(I(91));break;default:v!==_&&on(e,n,C,v,p,_)}Hn(e,Ct,Rt);return;case"option":for(var Se in o)if(Ct=o[Se],o.hasOwnProperty(Se)&&Ct!=null&&!p.hasOwnProperty(Se))switch(Se){case"selected":e.selected=!1;break;default:on(e,n,Se,null,p,Ct)}for(st in p)if(Ct=p[st],Rt=o[st],p.hasOwnProperty(st)&&Ct!==Rt&&(Ct!=null||Rt!=null))switch(st){case"selected":e.selected=Ct&&typeof Ct!="function"&&typeof Ct!="symbol";break;default:on(e,n,st,Ct,p,Rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xe in o)Ct=o[Xe],o.hasOwnProperty(Xe)&&Ct!=null&&!p.hasOwnProperty(Xe)&&on(e,n,Xe,null,p,Ct);for(Et in p)if(Ct=p[Et],Rt=o[Et],p.hasOwnProperty(Et)&&Ct!==Rt&&(Ct!=null||Rt!=null))switch(Et){case"children":case"dangerouslySetInnerHTML":if(Ct!=null)throw Error(I(137,n));break;default:on(e,n,Et,Ct,p,Rt)}return;default:if(Mn(n)){for(var wn in o)Ct=o[wn],o.hasOwnProperty(wn)&&Ct!==void 0&&!p.hasOwnProperty(wn)&&Xc(e,n,wn,void 0,p,Ct);for(Ut in p)Ct=p[Ut],Rt=o[Ut],!p.hasOwnProperty(Ut)||Ct===Rt||Ct===void 0&&Rt===void 0||Xc(e,n,Ut,Ct,p,Rt);return}}for(var _t in o)Ct=o[_t],o.hasOwnProperty(_t)&&Ct!=null&&!p.hasOwnProperty(_t)&&on(e,n,_t,null,p,Ct);for(qt in p)Ct=p[qt],Rt=o[qt],!p.hasOwnProperty(qt)||Ct===Rt||Ct==null&&Rt==null||on(e,n,qt,Ct,p,Rt)}function bi(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function or(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,o=performance.getEntriesByType("resource"),p=0;p<o.length;p++){var v=o[p],_=v.transferSize,C=v.initiatorType,j=v.duration;if(_&&j&&bi(C)){for(C=0,j=v.responseEnd,p+=1;p<o.length;p++){var st=o[p],Et=st.startTime;if(Et>j)break;var Ut=st.transferSize,qt=st.initiatorType;Ut&&bi(qt)&&(st=st.responseEnd,C+=Ut*(st<j?1:(j-Et)/(st-Et)))}if(--p,n+=8*(_+C)/(v.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var qr=null,Ua=null;function Jo(e){return e.nodeType===9?e:e.ownerDocument}function lu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ro(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Mr(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Pe=null;function Ai(){var e=window.event;return e&&e.type==="popstate"?e===Pe?!1:(Pe=e,!0):(Pe=null,!1)}var Yc=typeof setTimeout=="function"?setTimeout:void 0,Xp=typeof clearTimeout=="function"?clearTimeout:void 0,Yp=typeof Promise=="function"?Promise:void 0,jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Yp<"u"?function(e){return Yp.resolve(null).then(e).catch(Kc)}:Yc;function Kc(e){setTimeout(function(){throw e})}function Ds(e){return e==="head"}function Zh(e,n){var o=n,p=0;do{var v=o.nextSibling;if(e.removeChild(o),v&&v.nodeType===8)if(o=v.data,o==="/$"||o==="/&"){if(p===0){e.removeChild(v),th(n);return}p--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")p++;else if(o==="html")nc(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,nc(o);for(var _=o.firstChild;_;){var C=_.nextSibling,j=_.nodeName;_[nt]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&_.rel.toLowerCase()==="stylesheet"||o.removeChild(_),_=C}}else o==="body"&&nc(e.ownerDocument.body);o=v}while(o);th(n)}function Gh(e,n){var o=e;e=0;do{var p=o.nextSibling;if(o.nodeType===1?n?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(n?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=p}while(o)}function Kp(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Kp(o),dt(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function Zf(e,n,o,p){for(;e.nodeType===1;){var v=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!p&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(p){if(!e[nt])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(_=e.getAttribute("rel"),_==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(_!==v.rel||e.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||e.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||e.getAttribute("title")!==(v.title==null?null:v.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(_=e.getAttribute("src"),(_!==(v.src==null?null:v.src)||e.getAttribute("type")!==(v.type==null?null:v.type)||e.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&e.getAttribute("name")===_)return e}else return e;if(e=jr(e.nextSibling),e===null)break}return null}function ao(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=jr(e.nextSibling),e===null))return null;return e}function Jc(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=jr(e.nextSibling),e===null))return null;return e}function Jp(e){return e.data==="$?"||e.data==="$~"}function Qc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ec(e,n){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||o.readyState!=="loading")n();else{var p=function(){n(),o.removeEventListener("DOMContentLoaded",p)};o.addEventListener("DOMContentLoaded",p),e._reactRetry=p}}function jr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var uu=null;function ic(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(n===0)return jr(e.nextSibling);n--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||n++}e=e.nextSibling}return null}function cu(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(n===0)return e;n--}else o!=="/$"&&o!=="/&"||n++}e=e.previousSibling}return null}function Hh(e,n,o){switch(n=Jo(o),e){case"html":if(e=n.documentElement,!e)throw Error(I(452));return e;case"head":if(e=n.head,!e)throw Error(I(453));return e;case"body":if(e=n.body,!e)throw Error(I(454));return e;default:throw Error(I(451))}}function nc(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);dt(e)}var Pa=new Map,Xh=new Set;function rc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Eo=re.d;re.d={f:Ls,r:Gf,D:Hf,C:Md,L:Yh,m:Xf,X:Kh,S:Yf,M:Kf};function Ls(){var e=Eo.f(),n=xi();return e||n}function Gf(e){var n=Nt(e);n!==null&&n.tag===5&&n.type==="form"?Eh(n):Eo.r(e)}var vl=typeof document>"u"?null:document;function Qp(e,n,o){var p=vl;if(p&&typeof n=="string"&&n){var v=Sn(n);v='link[rel="'+e+'"][href="'+v+'"]',typeof o=="string"&&(v+='[crossorigin="'+o+'"]'),Xh.has(v)||(Xh.add(v),e={rel:e,crossOrigin:o,href:n},p.querySelector(v)===null&&(n=p.createElement("link"),ar(n,"link",e),jt(n),p.head.appendChild(n)))}}function Hf(e){Eo.D(e),Qp("dns-prefetch",e,null)}function Md(e,n){Eo.C(e,n),Qp("preconnect",e,n)}function Yh(e,n,o){Eo.L(e,n,o);var p=vl;if(p&&e&&n){var v='link[rel="preload"][as="'+Sn(n)+'"]';n==="image"&&o&&o.imageSrcSet?(v+='[imagesrcset="'+Sn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(v+='[imagesizes="'+Sn(o.imageSizes)+'"]')):v+='[href="'+Sn(e)+'"]';var _=v;switch(n){case"style":_=pu(e);break;case"script":_=oc(e)}Pa.has(_)||(e=bt({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),Pa.set(_,e),p.querySelector(v)!==null||n==="style"&&p.querySelector(gl(_))||n==="script"&&p.querySelector(Wc(_))||(n=p.createElement("link"),ar(n,"link",e),jt(n),p.head.appendChild(n)))}}function Xf(e,n){Eo.m(e,n);var o=vl;if(o&&e){var p=n&&typeof n.as=="string"?n.as:"script",v='link[rel="modulepreload"][as="'+Sn(p)+'"][href="'+Sn(e)+'"]',_=v;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=oc(e)}if(!Pa.has(_)&&(e=bt({rel:"modulepreload",href:e},n),Pa.set(_,e),o.querySelector(v)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Wc(_)))return}p=o.createElement("link"),ar(p,"link",e),jt(p),o.head.appendChild(p)}}}function Yf(e,n,o){Eo.S(e,n,o);var p=vl;if(p&&e){var v=Ft(p).hoistableStyles,_=pu(e);n=n||"default";var C=v.get(_);if(!C){var j={loading:0,preload:null};if(C=p.querySelector(gl(_)))j.loading=5;else{e=bt({rel:"stylesheet",href:e,"data-precedence":n},o),(o=Pa.get(_))&&Jh(e,o);var st=C=p.createElement("link");jt(st),ar(st,"link",e),st._p=new Promise(function(Et,Ut){st.onload=Et,st.onerror=Ut}),st.addEventListener("load",function(){j.loading|=1}),st.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Wp(C,n,p)}C={type:"stylesheet",instance:C,count:1,state:j},v.set(_,C)}}}function Kh(e,n){Eo.X(e,n);var o=vl;if(o&&e){var p=Ft(o).hoistableScripts,v=oc(e),_=p.get(v);_||(_=o.querySelector(Wc(v)),_||(e=bt({src:e,async:!0},n),(n=Pa.get(v))&&Qh(e,n),_=o.createElement("script"),jt(_),ar(_,"link",e),o.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},p.set(v,_))}}function Kf(e,n){Eo.M(e,n);var o=vl;if(o&&e){var p=Ft(o).hoistableScripts,v=oc(e),_=p.get(v);_||(_=o.querySelector(Wc(v)),_||(e=bt({src:e,async:!0,type:"module"},n),(n=Pa.get(v))&&Qh(e,n),_=o.createElement("script"),jt(_),ar(_,"link",e),o.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},p.set(v,_))}}function ac(e,n,o,p){var v=(v=Je.current)?rc(v):null;if(!v)throw Error(I(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=pu(o.href),o=Ft(v).hoistableStyles,p=o.get(n),p||(p={type:"style",instance:null,count:0,state:null},o.set(n,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=pu(o.href);var _=Ft(v).hoistableStyles,C=_.get(e);if(C||(v=v.ownerDocument||v,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(e,C),(_=v.querySelector(gl(e)))&&!_._p&&(C.instance=_,C.state.loading=5),Pa.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Pa.set(e,o),_||Qf(v,e,o,C.state))),n&&p===null)throw Error(I(528,""));return C}if(n&&p!==null)throw Error(I(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=oc(o),o=Ft(v).hoistableScripts,p=o.get(n),p||(p={type:"script",instance:null,count:0,state:null},o.set(n,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(I(444,e))}}function pu(e){return'href="'+Sn(e)+'"'}function gl(e){return'link[rel="stylesheet"]['+e+"]"}function Jf(e){return bt({},e,{"data-precedence":e.precedence,precedence:null})}function Qf(e,n,o,p){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?p.loading=1:(n=e.createElement("link"),p.preload=n,n.addEventListener("load",function(){return p.loading|=1}),n.addEventListener("error",function(){return p.loading|=2}),ar(n,"link",o),jt(n),e.head.appendChild(n))}function oc(e){return'[src="'+Sn(e)+'"]'}function Wc(e){return"script[async]"+e}function Wf(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var p=e.querySelector('style[data-href~="'+Sn(o.href)+'"]');if(p)return n.instance=p,jt(p),p;var v=bt({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return p=(e.ownerDocument||e).createElement("style"),jt(p),ar(p,"style",v),Wp(p,o.precedence,e),n.instance=p;case"stylesheet":v=pu(o.href);var _=e.querySelector(gl(v));if(_)return n.state.loading|=4,n.instance=_,jt(_),_;p=Jf(o),(v=Pa.get(v))&&Jh(p,v),_=(e.ownerDocument||e).createElement("link"),jt(_);var C=_;return C._p=new Promise(function(j,st){C.onload=j,C.onerror=st}),ar(_,"link",p),n.state.loading|=4,Wp(_,o.precedence,e),n.instance=_;case"script":return _=oc(o.src),(v=e.querySelector(Wc(_)))?(n.instance=v,jt(v),v):(p=o,(v=Pa.get(_))&&(p=bt({},o),Qh(p,v)),e=e.ownerDocument||e,v=e.createElement("script"),jt(v),ar(v,"link",p),e.head.appendChild(v),n.instance=v);case"void":return null;default:throw Error(I(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(p=n.instance,n.state.loading|=4,Wp(p,o.precedence,e));return n.instance}function Wp(e,n,o){for(var p=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=p.length?p[p.length-1]:null,_=v,C=0;C<p.length;C++){var j=p[C];if(j.dataset.precedence===n)_=j;else if(_!==v)break}_?_.parentNode.insertBefore(e,_.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function Jh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Qh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var $p=null;function $f(e,n,o){if($p===null){var p=new Map,v=$p=new Map;v.set(o,p)}else v=$p,p=v.get(o),p||(p=new Map,v.set(o,p));if(p.has(e))return p;for(p.set(e,null),o=o.getElementsByTagName(e),v=0;v<o.length;v++){var _=o[v];if(!(_[nt]||_[D]||e==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var C=_.getAttribute(n)||"";C=e+C;var j=p.get(C);j?j.push(_):p.set(C,[_])}}return p}function td(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function cy(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function am(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function py(e,n,o,p){if(o.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var v=pu(p.href),_=n.querySelector(gl(v));if(_){n=_._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ed.bind(e),n.then(e,e)),o.state.loading|=4,o.instance=_,jt(_);return}_=n.ownerDocument||n,p=Jf(p),(v=Pa.get(v))&&Jh(p,v),_=_.createElement("link"),jt(_);var C=_;C._p=new Promise(function(j,st){C.onload=j,C.onerror=st}),ar(_,"link",p),o.instance=_}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=ed.bind(e),n.addEventListener("load",o),n.addEventListener("error",o))}}var Dd=0;function hy(e,n){return e.stylesheets&&e.count===0&&nd(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var p=setTimeout(function(){if(e.stylesheets&&nd(e,e.stylesheets),e.unsuspend){var _=e.unsuspend;e.unsuspend=null,_()}},6e4+n);0<e.imgBytes&&Dd===0&&(Dd=62500*or());var v=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&nd(e,e.stylesheets),e.unsuspend)){var _=e.unsuspend;e.unsuspend=null,_()}},(e.imgBytes>Dd?50:800)+n);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(p),clearTimeout(v)}}:null}function ed(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var id=null;function nd(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,id=new Map,n.forEach(fy,e),id=null,ed.call(e))}function fy(e,n){if(!(n.state.loading&4)){var o=id.get(e);if(o)var p=o.get(null);else{o=new Map,id.set(e,o);for(var v=e.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var C=v[_];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(o.set(C.dataset.precedence,C),p=C)}p&&o.set(null,p)}v=n.instance,C=v.getAttribute("data-precedence"),_=o.get(C)||p,_===p&&o.set(null,v),o.set(C,v),this.count++,p=ed.bind(this),v.addEventListener("load",p),v.addEventListener("error",p),_?_.parentNode.insertBefore(v,_.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(v,e.firstChild)),n.state.loading|=4}}var Wh={$$typeof:me,Provider:null,Consumer:null,_currentValue:Be,_currentValue2:Be,_threadCount:0};function dy(e,n,o,p,v,_,C,j,st){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=po(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=po(0),this.hiddenUpdates=po(null),this.identifierPrefix=p,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=st,this.incompleteTransitions=new Map}function om(e,n,o,p,v,_,C,j,st,Et,Ut,qt){return e=new dy(e,n,o,C,st,Et,Ut,qt,j),n=1,_===!0&&(n|=24),_=gr(3,null,null,n),e.current=_,_.stateNode=e,n=xr(),n.refCount++,e.pooledCache=n,n.refCount++,_.memoizedState={element:p,isDehydrated:o,cache:n},up(_),e}function sm(e){return e?(e=La,e):La}function lm(e,n,o,p,v,_){v=sm(v),p.context===null?p.context=v:p.pendingContext=v,p=jo(n),p.payload={element:o},_=_===void 0?null:_,_!==null&&(p.callback=_),o=tl(e,p,n),o!==null&&(ie(o,e,n),Ol(o,e,n))}function um(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function Ld(e,n){um(e,n),(e=e.alternate)&&um(e,n)}function cm(e){if(e.tag===13||e.tag===31){var n=hn(e,67108864);n!==null&&ie(n,e,67108864),Ld(e,67108864)}}function pm(e){if(e.tag===13||e.tag===31){var n=$t();n=ma(n);var o=hn(e,n);o!==null&&ie(o,e,n),Ld(e,n)}}var rd=!0;function my(e,n,o,p){var v=It.T;It.T=null;var _=re.p;try{re.p=2,Rd(e,n,o,p)}finally{re.p=_,It.T=v}}function yy(e,n,o,p){var v=It.T;It.T=null;var _=re.p;try{re.p=8,Rd(e,n,o,p)}finally{re.p=_,It.T=v}}function Rd(e,n,o,p){if(rd){var v=kd(p);if(v===null)ou(e,n,p,ad,o),fm(e,p);else if(gy(v,e,n,o,p))p.stopPropagation();else if(fm(e,p),n&4&&-1<vy.indexOf(e)){for(;v!==null;){var _=Nt(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var C=Gr(_.pendingLanes);if(C!==0){var j=_;for(j.pendingLanes|=2,j.entangledLanes|=2;C;){var st=1<<31-cr(C);j.entanglements[1]|=st,C&=~st}ua(_),(Ii&6)===0&&(U=Wn()+500,hl(0))}}break;case 31:case 13:j=hn(_,2),j!==null&&ie(j,_,2),xi(),Ld(_,2)}if(_=kd(p),_===null&&ou(e,n,p,ad,o),_===v)break;v=_}v!==null&&p.stopPropagation()}else ou(e,n,p,null,o)}}function kd(e){return e=Mo(e),Id(e)}var ad=null;function Id(e){if(ad=null,e=Dt(e),e!==null){var n=rt(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=h(n),e!==null)return e;e=null}else if(o===31){if(e=xt(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ad=e,null}function hm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ts()){case Ao:return 2;case Is:return 8;case es:case yu:return 32;case so:return 268435456;default:return 32}default:return 32}}var Bd=!1,sc=null,lc=null,uc=null,$h=new Map,tf=new Map,cc=[],vy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fm(e,n){switch(e){case"focusin":case"focusout":sc=null;break;case"dragenter":case"dragleave":lc=null;break;case"mouseover":case"mouseout":uc=null;break;case"pointerover":case"pointerout":$h.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":tf.delete(n.pointerId)}}function ef(e,n,o,p,v,_){return e===null||e.nativeEvent!==_?(e={blockedOn:n,domEventName:o,eventSystemFlags:p,nativeEvent:_,targetContainers:[v]},n!==null&&(n=Nt(n),n!==null&&cm(n)),e):(e.eventSystemFlags|=p,n=e.targetContainers,v!==null&&n.indexOf(v)===-1&&n.push(v),e)}function gy(e,n,o,p,v){switch(n){case"focusin":return sc=ef(sc,e,n,o,p,v),!0;case"dragenter":return lc=ef(lc,e,n,o,p,v),!0;case"mouseover":return uc=ef(uc,e,n,o,p,v),!0;case"pointerover":var _=v.pointerId;return $h.set(_,ef($h.get(_)||null,e,n,o,p,v)),!0;case"gotpointercapture":return _=v.pointerId,tf.set(_,ef(tf.get(_)||null,e,n,o,p,v)),!0}return!1}function dm(e){var n=Dt(e.target);if(n!==null){var o=rt(n);if(o!==null){if(n=o.tag,n===13){if(n=h(o),n!==null){e.blockedOn=n,Vi(e.priority,function(){pm(o)});return}}else if(n===31){if(n=xt(o),n!==null){e.blockedOn=n,Vi(e.priority,function(){pm(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function od(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=kd(e.nativeEvent);if(o===null){o=e.nativeEvent;var p=new o.constructor(o.type,o);_u=p,o.target.dispatchEvent(p),_u=null}else return n=Nt(o),n!==null&&cm(n),e.blockedOn=o,!1;n.shift()}return!0}function mm(e,n,o){od(e)&&o.delete(n)}function _y(){Bd=!1,sc!==null&&od(sc)&&(sc=null),lc!==null&&od(lc)&&(lc=null),uc!==null&&od(uc)&&(uc=null),$h.forEach(mm),tf.forEach(mm)}function sd(e,n){e.blockedOn===n&&(e.blockedOn=null,Bd||(Bd=!0,T.unstable_scheduleCallback(T.unstable_NormalPriority,_y)))}var ld=null;function ym(e){ld!==e&&(ld=e,T.unstable_scheduleCallback(T.unstable_NormalPriority,function(){ld===e&&(ld=null);for(var n=0;n<e.length;n+=3){var o=e[n],p=e[n+1],v=e[n+2];if(typeof p!="function"){if(Id(p||o)===null)continue;break}var _=Nt(o);_!==null&&(e.splice(n,3),n-=3,Tr(_,{pending:!0,data:v,method:o.method,action:p},p,v))}}))}function th(e){function n(st){return sd(st,e)}sc!==null&&sd(sc,e),lc!==null&&sd(lc,e),uc!==null&&sd(uc,e),$h.forEach(n),tf.forEach(n);for(var o=0;o<cc.length;o++){var p=cc[o];p.blockedOn===e&&(p.blockedOn=null)}for(;0<cc.length&&(o=cc[0],o.blockedOn===null);)dm(o),o.blockedOn===null&&cc.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(p=0;p<o.length;p+=3){var v=o[p],_=o[p+1],C=v[k]||null;if(typeof _=="function")C||ym(o);else if(C){var j=null;if(_&&_.hasAttribute("formAction")){if(v=_,C=_[k]||null)j=C.formAction;else if(Id(v)!==null)continue}else j=C.action;typeof j=="function"?o[p+1]=j:(o.splice(p,3),p-=3),ym(o)}}}function vm(){function e(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(C){return v=C})},focusReset:"manual",scroll:"manual"})}function n(){v!==null&&(v(),v=null),p||setTimeout(o,20)}function o(){if(!p&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,v=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(o,100),function(){p=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),v!==null&&(v(),v=null)}}}function Od(e){this._internalRoot=e}ud.prototype.render=Od.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(I(409));var o=n.current,p=$t();lm(o,p,e,n,null,null)},ud.prototype.unmount=Od.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;lm(e.current,2,null,e,null,null),xi(),n[O]=null}};function ud(e){this._internalRoot=e}ud.prototype.unstable_scheduleHydration=function(e){if(e){var n=pn();e={blockedOn:null,target:e,priority:n};for(var o=0;o<cc.length&&n!==0&&n<cc[o].priority;o++);cc.splice(o,0,e),o===0&&dm(e)}};var gm=P.version;if(gm!=="19.2.0")throw Error(I(527,gm,"19.2.0"));re.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=it(n),e=e!==null?yt(e):null,e=e===null?null:e.stateNode,e};var xy={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:It,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cd.isDisabled&&cd.supportsFiber)try{lo=cd.inject(xy),ur=cd}catch{}}return rf.createRoot=function(e,n){if(!$(e))throw Error(I(299));var o=!1,p="",v=zf,_=Cf,C=Mf;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(p=n.identifierPrefix),n.onUncaughtError!==void 0&&(v=n.onUncaughtError),n.onCaughtError!==void 0&&(_=n.onCaughtError),n.onRecoverableError!==void 0&&(C=n.onRecoverableError)),n=om(e,1,!1,null,null,o,p,null,v,_,C,vm),e[O]=n.current,ml(e),new Od(n)},rf.hydrateRoot=function(e,n,o){if(!$(e))throw Error(I(299));var p=!1,v="",_=zf,C=Cf,j=Mf,st=null;return o!=null&&(o.unstable_strictMode===!0&&(p=!0),o.identifierPrefix!==void 0&&(v=o.identifierPrefix),o.onUncaughtError!==void 0&&(_=o.onUncaughtError),o.onCaughtError!==void 0&&(C=o.onCaughtError),o.onRecoverableError!==void 0&&(j=o.onRecoverableError),o.formState!==void 0&&(st=o.formState)),n=om(e,1,!0,n,o??null,p,v,st,_,C,j,vm),n.context=sm(null),o=n.current,p=$t(),p=ma(p),v=jo(p),v.callback=null,tl(o,v,p),o=p,n.current.lanes=o,oi(n,o),ua(n),e[O]=n.current,ml(e),new ud(n)},rf.version="19.2.0",rf}var Cm;function My(){if(Cm)return Nd.exports;Cm=1;function T(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(T)}catch(P){console.error(P)}}return T(),Nd.exports=Cy(),Nd.exports}var g_=My();var Mm="popstate";function Dy(T={}){function P(I,$){let{pathname:rt,search:h,hash:xt}=I.location;return Hd("",{pathname:rt,search:h,hash:xt},$.state&&$.state.usr||null,$.state&&$.state.key||"default")}function q(I,$){return typeof $=="string"?$:of($)}return Ry(P,q,null,T)}function qn(T,P){if(T===!1||T===null||typeof T>"u")throw new Error(P)}function Qo(T,P){if(!T){typeof console<"u"&&console.warn(P);try{throw new Error(P)}catch{}}}function Ly(){return Math.random().toString(36).substring(2,10)}function Dm(T,P){return{usr:T.state,key:T.key,idx:P}}function Hd(T,P,q=null,I){return{pathname:typeof T=="string"?T:T.pathname,search:"",hash:"",...typeof P=="string"?eh(P):P,state:q,key:P&&P.key||I||Ly()}}function of({pathname:T="/",search:P="",hash:q=""}){return P&&P!=="?"&&(T+=P.charAt(0)==="?"?P:"?"+P),q&&q!=="#"&&(T+=q.charAt(0)==="#"?q:"#"+q),T}function eh(T){let P={};if(T){let q=T.indexOf("#");q>=0&&(P.hash=T.substring(q),T=T.substring(0,q));let I=T.indexOf("?");I>=0&&(P.search=T.substring(I),T=T.substring(0,I)),T&&(P.pathname=T)}return P}function Ry(T,P,q,I={}){let{window:$=document.defaultView,v5Compat:rt=!1}=I,h=$.history,xt="POP",G=null,it=yt();it==null&&(it=0,h.replaceState({...h.state,idx:it},""));function yt(){return(h.state||{idx:null}).idx}function bt(){xt="POP";let ne=yt(),ve=ne==null?null:ne-it;it=ne,G&&G({action:xt,location:Ee.location,delta:ve})}function Xt(ne,ve){xt="PUSH";let be=Hd(Ee.location,ne,ve);it=yt()+1;let me=Dm(be,it),Ei=Ee.createHref(be);try{h.pushState(me,"",Ei)}catch(Oi){if(Oi instanceof DOMException&&Oi.name==="DataCloneError")throw Oi;$.location.assign(Ei)}rt&&G&&G({action:xt,location:Ee.location,delta:1})}function ce(ne,ve){xt="REPLACE";let be=Hd(Ee.location,ne,ve);it=yt();let me=Dm(be,it),Ei=Ee.createHref(be);h.replaceState(me,"",Ei),rt&&G&&G({action:xt,location:Ee.location,delta:0})}function pe(ne){return ky(ne)}let Ee={get action(){return xt},get location(){return T($,h)},listen(ne){if(G)throw new Error("A history only accepts one active listener");return $.addEventListener(Mm,bt),G=ne,()=>{$.removeEventListener(Mm,bt),G=null}},createHref(ne){return P($,ne)},createURL:pe,encodeLocation(ne){let ve=pe(ne);return{pathname:ve.pathname,search:ve.search,hash:ve.hash}},push:Xt,replace:ce,go(ne){return h.go(ne)}};return Ee}function ky(T,P=!1){let q="http://localhost";typeof window<"u"&&(q=window.location.origin!=="null"?window.location.origin:window.location.href),qn(q,"No window.location.(origin|href) available to create URL");let I=typeof T=="string"?T:of(T);return I=I.replace(/ $/,"%20"),!P&&I.startsWith("//")&&(I=q+I),new URL(I,q)}function Fm(T,P,q="/"){return Iy(T,P,q,!1)}function Iy(T,P,q,I){let $=typeof P=="string"?eh(P):P,rt=du($.pathname||"/",q);if(rt==null)return null;let h=Vm(T);By(h);let xt=null;for(let G=0;xt==null&&G<h.length;++G){let it=Hy(rt);xt=Zy(h[G],it,I)}return xt}function Vm(T,P=[],q=[],I="",$=!1){let rt=(h,xt,G=$,it)=>{let yt={relativePath:it===void 0?h.path||"":it,caseSensitive:h.caseSensitive===!0,childrenIndex:xt,route:h};if(yt.relativePath.startsWith("/")){if(!yt.relativePath.startsWith(I)&&G)return;qn(yt.relativePath.startsWith(I),`Absolute route path "${yt.relativePath}" nested under path "${I}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),yt.relativePath=yt.relativePath.slice(I.length)}let bt=fu([I,yt.relativePath]),Xt=q.concat(yt);h.children&&h.children.length>0&&(qn(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${bt}".`),Vm(h.children,P,Xt,bt,G)),!(h.path==null&&!h.index)&&P.push({path:bt,score:qy(bt,h.index),routesMeta:Xt})};return T.forEach((h,xt)=>{if(h.path===""||!h.path?.includes("?"))rt(h,xt);else for(let G of qm(h.path))rt(h,xt,!0,G)}),P}function qm(T){let P=T.split("/");if(P.length===0)return[];let[q,...I]=P,$=q.endsWith("?"),rt=q.replace(/\?$/,"");if(I.length===0)return $?[rt,""]:[rt];let h=qm(I.join("/")),xt=[];return xt.push(...h.map(G=>G===""?rt:[rt,G].join("/"))),$&&xt.push(...h),xt.map(G=>T.startsWith("/")&&G===""?"/":G)}function By(T){T.sort((P,q)=>P.score!==q.score?q.score-P.score:jy(P.routesMeta.map(I=>I.childrenIndex),q.routesMeta.map(I=>I.childrenIndex)))}var Oy=/^:[\w-]+$/,Uy=3,Py=2,Ny=1,Fy=10,Vy=-2,Lm=T=>T==="*";function qy(T,P){let q=T.split("/"),I=q.length;return q.some(Lm)&&(I+=Vy),P&&(I+=Py),q.filter($=>!Lm($)).reduce(($,rt)=>$+(Oy.test(rt)?Uy:rt===""?Ny:Fy),I)}function jy(T,P){return T.length===P.length&&T.slice(0,-1).every((I,$)=>I===P[$])?T[T.length-1]-P[P.length-1]:0}function Zy(T,P,q=!1){let{routesMeta:I}=T,$={},rt="/",h=[];for(let xt=0;xt<I.length;++xt){let G=I[xt],it=xt===I.length-1,yt=rt==="/"?P:P.slice(rt.length)||"/",bt=vd({path:G.relativePath,caseSensitive:G.caseSensitive,end:it},yt),Xt=G.route;if(!bt&&it&&q&&!I[I.length-1].route.index&&(bt=vd({path:G.relativePath,caseSensitive:G.caseSensitive,end:!1},yt)),!bt)return null;Object.assign($,bt.params),h.push({params:$,pathname:fu([rt,bt.pathname]),pathnameBase:Qy(fu([rt,bt.pathnameBase])),route:Xt}),bt.pathnameBase!=="/"&&(rt=fu([rt,bt.pathnameBase]))}return h}function vd(T,P){typeof T=="string"&&(T={path:T,caseSensitive:!1,end:!0});let[q,I]=Gy(T.path,T.caseSensitive,T.end),$=P.match(q);if(!$)return null;let rt=$[0],h=rt.replace(/(.)\/+$/,"$1"),xt=$.slice(1);return{params:I.reduce((it,{paramName:yt,isOptional:bt},Xt)=>{if(yt==="*"){let pe=xt[Xt]||"";h=rt.slice(0,rt.length-pe.length).replace(/(.)\/+$/,"$1")}const ce=xt[Xt];return bt&&!ce?it[yt]=void 0:it[yt]=(ce||"").replace(/%2F/g,"/"),it},{}),pathname:rt,pathnameBase:h,pattern:T}}function Gy(T,P=!1,q=!0){Qo(T==="*"||!T.endsWith("*")||T.endsWith("/*"),`Route path "${T}" will be treated as if it were "${T.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${T.replace(/\*$/,"/*")}".`);let I=[],$="^"+T.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,xt,G)=>(I.push({paramName:xt,isOptional:G!=null}),G?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return T.endsWith("*")?(I.push({paramName:"*"}),$+=T==="*"||T==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):q?$+="\\/*$":T!==""&&T!=="/"&&($+="(?:(?=\\/|$))"),[new RegExp($,P?void 0:"i"),I]}function Hy(T){try{return T.split("/").map(P=>decodeURIComponent(P).replace(/\//g,"%2F")).join("/")}catch(P){return Qo(!1,`The URL path "${T}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${P}).`),T}}function du(T,P){if(P==="/")return T;if(!T.toLowerCase().startsWith(P.toLowerCase()))return null;let q=P.endsWith("/")?P.length-1:P.length,I=T.charAt(q);return I&&I!=="/"?null:T.slice(q)||"/"}var Xy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yy=T=>Xy.test(T);function Ky(T,P="/"){let{pathname:q,search:I="",hash:$=""}=typeof T=="string"?eh(T):T,rt;if(q)if(Yy(q))rt=q;else{if(q.includes("//")){let h=q;q=q.replace(/\/\/+/g,"/"),Qo(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${q}`)}q.startsWith("/")?rt=Rm(q.substring(1),"/"):rt=Rm(q,P)}else rt=P;return{pathname:rt,search:Wy(I),hash:$y($)}}function Rm(T,P){let q=P.replace(/\/+$/,"").split("/");return T.split("/").forEach($=>{$===".."?q.length>1&&q.pop():$!=="."&&q.push($)}),q.length>1?q.join("/"):"/"}function jd(T,P,q,I){return`Cannot include a '${T}' character in a manually specified \`to.${P}\` field [${JSON.stringify(I)}].  Please separate it out to the \`to.${q}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Jy(T){return T.filter((P,q)=>q===0||P.route.path&&P.route.path.length>0)}function Qd(T){let P=Jy(T);return P.map((q,I)=>I===P.length-1?q.pathname:q.pathnameBase)}function Wd(T,P,q,I=!1){let $;typeof T=="string"?$=eh(T):($={...T},qn(!$.pathname||!$.pathname.includes("?"),jd("?","pathname","search",$)),qn(!$.pathname||!$.pathname.includes("#"),jd("#","pathname","hash",$)),qn(!$.search||!$.search.includes("#"),jd("#","search","hash",$)));let rt=T===""||$.pathname==="",h=rt?"/":$.pathname,xt;if(h==null)xt=q;else{let bt=P.length-1;if(!I&&h.startsWith("..")){let Xt=h.split("/");for(;Xt[0]==="..";)Xt.shift(),bt-=1;$.pathname=Xt.join("/")}xt=bt>=0?P[bt]:"/"}let G=Ky($,xt),it=h&&h!=="/"&&h.endsWith("/"),yt=(rt||h===".")&&q.endsWith("/");return!G.pathname.endsWith("/")&&(it||yt)&&(G.pathname+="/"),G}var fu=T=>T.join("/").replace(/\/\/+/g,"/"),Qy=T=>T.replace(/\/+$/,"").replace(/^\/*/,"/"),Wy=T=>!T||T==="?"?"":T.startsWith("?")?T:"?"+T,$y=T=>!T||T==="#"?"":T.startsWith("#")?T:"#"+T;function tv(T){return T!=null&&typeof T.status=="number"&&typeof T.statusText=="string"&&typeof T.internal=="boolean"&&"data"in T}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jm=["POST","PUT","PATCH","DELETE"];new Set(jm);var ev=["GET",...jm];new Set(ev);var ih=Tt.createContext(null);ih.displayName="DataRouter";var _d=Tt.createContext(null);_d.displayName="DataRouterState";Tt.createContext(!1);var Zm=Tt.createContext({isTransitioning:!1});Zm.displayName="ViewTransition";var iv=Tt.createContext(new Map);iv.displayName="Fetchers";var nv=Tt.createContext(null);nv.displayName="Await";var Rs=Tt.createContext(null);Rs.displayName="Navigation";var sf=Tt.createContext(null);sf.displayName="Location";var Wo=Tt.createContext({outlet:null,matches:[],isDataRoute:!1});Wo.displayName="Route";var $d=Tt.createContext(null);$d.displayName="RouteError";function rv(T,{relative:P}={}){qn(nh(),"useHref() may be used only in the context of a <Router> component.");let{basename:q,navigator:I}=Tt.useContext(Rs),{hash:$,pathname:rt,search:h}=lf(T,{relative:P}),xt=rt;return q!=="/"&&(xt=rt==="/"?q:fu([q,rt])),I.createHref({pathname:xt,search:h,hash:$})}function nh(){return Tt.useContext(sf)!=null}function fc(){return qn(nh(),"useLocation() may be used only in the context of a <Router> component."),Tt.useContext(sf).location}var Gm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hm(T){Tt.useContext(Rs).static||Tt.useLayoutEffect(T)}function Xm(){let{isDataRoute:T}=Tt.useContext(Wo);return T?_v():av()}function av(){qn(nh(),"useNavigate() may be used only in the context of a <Router> component.");let T=Tt.useContext(ih),{basename:P,navigator:q}=Tt.useContext(Rs),{matches:I}=Tt.useContext(Wo),{pathname:$}=fc(),rt=JSON.stringify(Qd(I)),h=Tt.useRef(!1);return Hm(()=>{h.current=!0}),Tt.useCallback((G,it={})=>{if(Qo(h.current,Gm),!h.current)return;if(typeof G=="number"){q.go(G);return}let yt=Wd(G,JSON.parse(rt),$,it.relative==="path");T==null&&P!=="/"&&(yt.pathname=yt.pathname==="/"?P:fu([P,yt.pathname])),(it.replace?q.replace:q.push)(yt,it.state,it)},[P,q,rt,$,T])}var ov=Tt.createContext(null);function sv(T){let P=Tt.useContext(Wo).outlet;return Tt.useMemo(()=>P&&Tt.createElement(ov.Provider,{value:T},P),[P,T])}function __(){let{matches:T}=Tt.useContext(Wo),P=T[T.length-1];return P?P.params:{}}function lf(T,{relative:P}={}){let{matches:q}=Tt.useContext(Wo),{pathname:I}=fc(),$=JSON.stringify(Qd(q));return Tt.useMemo(()=>Wd(T,JSON.parse($),I,P==="path"),[T,$,I,P])}function lv(T,P){return Ym(T,P)}function Ym(T,P,q,I,$){qn(nh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:rt}=Tt.useContext(Rs),{matches:h}=Tt.useContext(Wo),xt=h[h.length-1],G=xt?xt.params:{},it=xt?xt.pathname:"/",yt=xt?xt.pathnameBase:"/",bt=xt&&xt.route;{let be=bt&&bt.path||"";Km(it,!bt||be.endsWith("*")||be.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${it}" (under <Route path="${be}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${be}"> to <Route path="${be==="/"?"*":`${be}/*`}">.`)}let Xt=fc(),ce;if(P){let be=typeof P=="string"?eh(P):P;qn(yt==="/"||be.pathname?.startsWith(yt),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${yt}" but pathname "${be.pathname}" was given in the \`location\` prop.`),ce=be}else ce=Xt;let pe=ce.pathname||"/",Ee=pe;if(yt!=="/"){let be=yt.replace(/^\//,"").split("/");Ee="/"+pe.replace(/^\//,"").split("/").slice(be.length).join("/")}let ne=Fm(T,{pathname:Ee});Qo(bt||ne!=null,`No routes matched location "${ce.pathname}${ce.search}${ce.hash}" `),Qo(ne==null||ne[ne.length-1].route.element!==void 0||ne[ne.length-1].route.Component!==void 0||ne[ne.length-1].route.lazy!==void 0,`Matched leaf route at location "${ce.pathname}${ce.search}${ce.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ve=fv(ne&&ne.map(be=>Object.assign({},be,{params:Object.assign({},G,be.params),pathname:fu([yt,rt.encodeLocation?rt.encodeLocation(be.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:be.pathname]),pathnameBase:be.pathnameBase==="/"?yt:fu([yt,rt.encodeLocation?rt.encodeLocation(be.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:be.pathnameBase])})),h,q,I,$);return P&&ve?Tt.createElement(sf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...ce},navigationType:"POP"}},ve):ve}function uv(){let T=gv(),P=tv(T)?`${T.status} ${T.statusText}`:T instanceof Error?T.message:JSON.stringify(T),q=T instanceof Error?T.stack:null,I="rgba(200,200,200, 0.5)",$={padding:"0.5rem",backgroundColor:I},rt={padding:"2px 4px",backgroundColor:I},h=null;return console.error("Error handled by React Router default ErrorBoundary:",T),h=Tt.createElement(Tt.Fragment,null,Tt.createElement("p",null," Hey developer "),Tt.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Tt.createElement("code",{style:rt},"ErrorBoundary")," or"," ",Tt.createElement("code",{style:rt},"errorElement")," prop on your route.")),Tt.createElement(Tt.Fragment,null,Tt.createElement("h2",null,"Unexpected Application Error!"),Tt.createElement("h3",{style:{fontStyle:"italic"}},P),q?Tt.createElement("pre",{style:$},q):null,h)}var cv=Tt.createElement(uv,null),pv=class extends Tt.Component{constructor(T){super(T),this.state={location:T.location,revalidation:T.revalidation,error:T.error}}static getDerivedStateFromError(T){return{error:T}}static getDerivedStateFromProps(T,P){return P.location!==T.location||P.revalidation!=="idle"&&T.revalidation==="idle"?{error:T.error,location:T.location,revalidation:T.revalidation}:{error:T.error!==void 0?T.error:P.error,location:P.location,revalidation:T.revalidation||P.revalidation}}componentDidCatch(T,P){this.props.onError?this.props.onError(T,P):console.error("React Router caught the following error during render",T)}render(){return this.state.error!==void 0?Tt.createElement(Wo.Provider,{value:this.props.routeContext},Tt.createElement($d.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hv({routeContext:T,match:P,children:q}){let I=Tt.useContext(ih);return I&&I.static&&I.staticContext&&(P.route.errorElement||P.route.ErrorBoundary)&&(I.staticContext._deepestRenderedBoundaryId=P.route.id),Tt.createElement(Wo.Provider,{value:T},q)}function fv(T,P=[],q=null,I=null,$=null){if(T==null){if(!q)return null;if(q.errors)T=q.matches;else if(P.length===0&&!q.initialized&&q.matches.length>0)T=q.matches;else return null}let rt=T,h=q?.errors;if(h!=null){let yt=rt.findIndex(bt=>bt.route.id&&h?.[bt.route.id]!==void 0);qn(yt>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),rt=rt.slice(0,Math.min(rt.length,yt+1))}let xt=!1,G=-1;if(q)for(let yt=0;yt<rt.length;yt++){let bt=rt[yt];if((bt.route.HydrateFallback||bt.route.hydrateFallbackElement)&&(G=yt),bt.route.id){let{loaderData:Xt,errors:ce}=q,pe=bt.route.loader&&!Xt.hasOwnProperty(bt.route.id)&&(!ce||ce[bt.route.id]===void 0);if(bt.route.lazy||pe){xt=!0,G>=0?rt=rt.slice(0,G+1):rt=[rt[0]];break}}}let it=q&&I?(yt,bt)=>{I(yt,{location:q.location,params:q.matches?.[0]?.params??{},errorInfo:bt})}:void 0;return rt.reduceRight((yt,bt,Xt)=>{let ce,pe=!1,Ee=null,ne=null;q&&(ce=h&&bt.route.id?h[bt.route.id]:void 0,Ee=bt.route.errorElement||cv,xt&&(G<0&&Xt===0?(Km("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),pe=!0,ne=null):G===Xt&&(pe=!0,ne=bt.route.hydrateFallbackElement||null)));let ve=P.concat(rt.slice(0,Xt+1)),be=()=>{let me;return ce?me=Ee:pe?me=ne:bt.route.Component?me=Tt.createElement(bt.route.Component,null):bt.route.element?me=bt.route.element:me=yt,Tt.createElement(hv,{match:bt,routeContext:{outlet:yt,matches:ve,isDataRoute:q!=null},children:me})};return q&&(bt.route.ErrorBoundary||bt.route.errorElement||Xt===0)?Tt.createElement(pv,{location:q.location,revalidation:q.revalidation,component:Ee,error:ce,children:be(),routeContext:{outlet:null,matches:ve,isDataRoute:!0},onError:it}):be()},null)}function tm(T){return`${T} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dv(T){let P=Tt.useContext(ih);return qn(P,tm(T)),P}function mv(T){let P=Tt.useContext(_d);return qn(P,tm(T)),P}function yv(T){let P=Tt.useContext(Wo);return qn(P,tm(T)),P}function em(T){let P=yv(T),q=P.matches[P.matches.length-1];return qn(q.route.id,`${T} can only be used on routes that contain a unique "id"`),q.route.id}function vv(){return em("useRouteId")}function gv(){let T=Tt.useContext($d),P=mv("useRouteError"),q=em("useRouteError");return T!==void 0?T:P.errors?.[q]}function _v(){let{router:T}=dv("useNavigate"),P=em("useNavigate"),q=Tt.useRef(!1);return Hm(()=>{q.current=!0}),Tt.useCallback(async($,rt={})=>{Qo(q.current,Gm),q.current&&(typeof $=="number"?T.navigate($):await T.navigate($,{fromRouteId:P,...rt}))},[T,P])}var km={};function Km(T,P,q){!P&&!km[T]&&(km[T]=!0,Qo(!1,q))}Tt.memo(xv);function xv({routes:T,future:P,state:q,unstable_onError:I}){return Ym(T,void 0,q,I,P)}function x_({to:T,replace:P,state:q,relative:I}){qn(nh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:$}=Tt.useContext(Rs);Qo(!$,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:rt}=Tt.useContext(Wo),{pathname:h}=fc(),xt=Xm(),G=Wd(T,Qd(rt),h,I==="path"),it=JSON.stringify(G);return Tt.useEffect(()=>{xt(JSON.parse(it),{replace:P,state:q,relative:I})},[xt,it,I,P,q]),null}function b_(T){return sv(T.context)}function bv(T){qn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wv({basename:T="/",children:P=null,location:q,navigationType:I="POP",navigator:$,static:rt=!1}){qn(!nh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=T.replace(/^\/*/,"/"),xt=Tt.useMemo(()=>({basename:h,navigator:$,static:rt,future:{}}),[h,$,rt]);typeof q=="string"&&(q=eh(q));let{pathname:G="/",search:it="",hash:yt="",state:bt=null,key:Xt="default"}=q,ce=Tt.useMemo(()=>{let pe=du(G,h);return pe==null?null:{location:{pathname:pe,search:it,hash:yt,state:bt,key:Xt},navigationType:I}},[h,G,it,yt,bt,Xt,I]);return Qo(ce!=null,`<Router basename="${h}"> is not able to match the URL "${G}${it}${yt}" because it does not start with the basename, so the <Router> won't render anything.`),ce==null?null:Tt.createElement(Rs.Provider,{value:xt},Tt.createElement(sf.Provider,{children:P,value:ce}))}function w_({children:T,location:P}){return lv(Xd(T),P)}function Xd(T,P=[]){let q=[];return Tt.Children.forEach(T,(I,$)=>{if(!Tt.isValidElement(I))return;let rt=[...P,$];if(I.type===Tt.Fragment){q.push.apply(q,Xd(I.props.children,rt));return}qn(I.type===bv,`[${typeof I.type=="string"?I.type:I.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qn(!I.props.index||!I.props.children,"An index route cannot have child routes.");let h={id:I.props.id||rt.join("-"),caseSensitive:I.props.caseSensitive,element:I.props.element,Component:I.props.Component,index:I.props.index,path:I.props.path,middleware:I.props.middleware,loader:I.props.loader,action:I.props.action,hydrateFallbackElement:I.props.hydrateFallbackElement,HydrateFallback:I.props.HydrateFallback,errorElement:I.props.errorElement,ErrorBoundary:I.props.ErrorBoundary,hasErrorBoundary:I.props.hasErrorBoundary===!0||I.props.ErrorBoundary!=null||I.props.errorElement!=null,shouldRevalidate:I.props.shouldRevalidate,handle:I.props.handle,lazy:I.props.lazy};I.props.children&&(h.children=Xd(I.props.children,rt)),q.push(h)}),q}var fd="get",dd="application/x-www-form-urlencoded";function xd(T){return T!=null&&typeof T.tagName=="string"}function Sv(T){return xd(T)&&T.tagName.toLowerCase()==="button"}function Ev(T){return xd(T)&&T.tagName.toLowerCase()==="form"}function Tv(T){return xd(T)&&T.tagName.toLowerCase()==="input"}function Av(T){return!!(T.metaKey||T.altKey||T.ctrlKey||T.shiftKey)}function zv(T,P){return T.button===0&&(!P||P==="_self")&&!Av(T)}var pd=null;function Cv(){if(pd===null)try{new FormData(document.createElement("form"),0),pd=!1}catch{pd=!0}return pd}var Mv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zd(T){return T!=null&&!Mv.has(T)?(Qo(!1,`"${T}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dd}"`),null):T}function Dv(T,P){let q,I,$,rt,h;if(Ev(T)){let xt=T.getAttribute("action");I=xt?du(xt,P):null,q=T.getAttribute("method")||fd,$=Zd(T.getAttribute("enctype"))||dd,rt=new FormData(T)}else if(Sv(T)||Tv(T)&&(T.type==="submit"||T.type==="image")){let xt=T.form;if(xt==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let G=T.getAttribute("formaction")||xt.getAttribute("action");if(I=G?du(G,P):null,q=T.getAttribute("formmethod")||xt.getAttribute("method")||fd,$=Zd(T.getAttribute("formenctype"))||Zd(xt.getAttribute("enctype"))||dd,rt=new FormData(xt,T),!Cv()){let{name:it,type:yt,value:bt}=T;if(yt==="image"){let Xt=it?`${it}.`:"";rt.append(`${Xt}x`,"0"),rt.append(`${Xt}y`,"0")}else it&&rt.append(it,bt)}}else{if(xd(T))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');q=fd,I=null,$=dd,h=T}return rt&&$==="text/plain"&&(h=rt,rt=void 0),{action:I,method:q.toLowerCase(),encType:$,formData:rt,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function im(T,P){if(T===!1||T===null||typeof T>"u")throw new Error(P)}function Lv(T,P,q){let I=typeof T=="string"?new URL(T,typeof window>"u"?"server://singlefetch/":window.location.origin):T;return I.pathname==="/"?I.pathname=`_root.${q}`:P&&du(I.pathname,P)==="/"?I.pathname=`${P.replace(/\/$/,"")}/_root.${q}`:I.pathname=`${I.pathname.replace(/\/$/,"")}.${q}`,I}async function Rv(T,P){if(T.id in P)return P[T.id];try{let q=await import(T.module);return P[T.id]=q,q}catch(q){return console.error(`Error loading route module \`${T.module}\`, reloading page...`),console.error(q),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kv(T){return T==null?!1:T.href==null?T.rel==="preload"&&typeof T.imageSrcSet=="string"&&typeof T.imageSizes=="string":typeof T.rel=="string"&&typeof T.href=="string"}async function Iv(T,P,q){let I=await Promise.all(T.map(async $=>{let rt=P.routes[$.route.id];if(rt){let h=await Rv(rt,q);return h.links?h.links():[]}return[]}));return Pv(I.flat(1).filter(kv).filter($=>$.rel==="stylesheet"||$.rel==="preload").map($=>$.rel==="stylesheet"?{...$,rel:"prefetch",as:"style"}:{...$,rel:"prefetch"}))}function Im(T,P,q,I,$,rt){let h=(G,it)=>q[it]?G.route.id!==q[it].route.id:!0,xt=(G,it)=>q[it].pathname!==G.pathname||q[it].route.path?.endsWith("*")&&q[it].params["*"]!==G.params["*"];return rt==="assets"?P.filter((G,it)=>h(G,it)||xt(G,it)):rt==="data"?P.filter((G,it)=>{let yt=I.routes[G.route.id];if(!yt||!yt.hasLoader)return!1;if(h(G,it)||xt(G,it))return!0;if(G.route.shouldRevalidate){let bt=G.route.shouldRevalidate({currentUrl:new URL($.pathname+$.search+$.hash,window.origin),currentParams:q[0]?.params||{},nextUrl:new URL(T,window.origin),nextParams:G.params,defaultShouldRevalidate:!0});if(typeof bt=="boolean")return bt}return!0}):[]}function Bv(T,P,{includeHydrateFallback:q}={}){return Ov(T.map(I=>{let $=P.routes[I.route.id];if(!$)return[];let rt=[$.module];return $.clientActionModule&&(rt=rt.concat($.clientActionModule)),$.clientLoaderModule&&(rt=rt.concat($.clientLoaderModule)),q&&$.hydrateFallbackModule&&(rt=rt.concat($.hydrateFallbackModule)),$.imports&&(rt=rt.concat($.imports)),rt}).flat(1))}function Ov(T){return[...new Set(T)]}function Uv(T){let P={},q=Object.keys(T).sort();for(let I of q)P[I]=T[I];return P}function Pv(T,P){let q=new Set;return new Set(P),T.reduce((I,$)=>{let rt=JSON.stringify(Uv($));return q.has(rt)||(q.add(rt),I.push({key:rt,link:$})),I},[])}function Jm(){let T=Tt.useContext(ih);return im(T,"You must render this element inside a <DataRouterContext.Provider> element"),T}function Nv(){let T=Tt.useContext(_d);return im(T,"You must render this element inside a <DataRouterStateContext.Provider> element"),T}var nm=Tt.createContext(void 0);nm.displayName="FrameworkContext";function Qm(){let T=Tt.useContext(nm);return im(T,"You must render this element inside a <HydratedRouter> element"),T}function Fv(T,P){let q=Tt.useContext(nm),[I,$]=Tt.useState(!1),[rt,h]=Tt.useState(!1),{onFocus:xt,onBlur:G,onMouseEnter:it,onMouseLeave:yt,onTouchStart:bt}=P,Xt=Tt.useRef(null);Tt.useEffect(()=>{if(T==="render"&&h(!0),T==="viewport"){let Ee=ve=>{ve.forEach(be=>{h(be.isIntersecting)})},ne=new IntersectionObserver(Ee,{threshold:.5});return Xt.current&&ne.observe(Xt.current),()=>{ne.disconnect()}}},[T]),Tt.useEffect(()=>{if(I){let Ee=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Ee)}}},[I]);let ce=()=>{$(!0)},pe=()=>{$(!1),h(!1)};return q?T!=="intent"?[rt,Xt,{}]:[rt,Xt,{onFocus:af(xt,ce),onBlur:af(G,pe),onMouseEnter:af(it,ce),onMouseLeave:af(yt,pe),onTouchStart:af(bt,ce)}]:[!1,Xt,{}]}function af(T,P){return q=>{T&&T(q),q.defaultPrevented||P(q)}}function Vv({page:T,...P}){let{router:q}=Jm(),I=Tt.useMemo(()=>Fm(q.routes,T,q.basename),[q.routes,T,q.basename]);return I?Tt.createElement(jv,{page:T,matches:I,...P}):null}function qv(T){let{manifest:P,routeModules:q}=Qm(),[I,$]=Tt.useState([]);return Tt.useEffect(()=>{let rt=!1;return Iv(T,P,q).then(h=>{rt||$(h)}),()=>{rt=!0}},[T,P,q]),I}function jv({page:T,matches:P,...q}){let I=fc(),{manifest:$,routeModules:rt}=Qm(),{basename:h}=Jm(),{loaderData:xt,matches:G}=Nv(),it=Tt.useMemo(()=>Im(T,P,G,$,I,"data"),[T,P,G,$,I]),yt=Tt.useMemo(()=>Im(T,P,G,$,I,"assets"),[T,P,G,$,I]),bt=Tt.useMemo(()=>{if(T===I.pathname+I.search+I.hash)return[];let pe=new Set,Ee=!1;if(P.forEach(ve=>{let be=$.routes[ve.route.id];!be||!be.hasLoader||(!it.some(me=>me.route.id===ve.route.id)&&ve.route.id in xt&&rt[ve.route.id]?.shouldRevalidate||be.hasClientLoader?Ee=!0:pe.add(ve.route.id))}),pe.size===0)return[];let ne=Lv(T,h,"data");return Ee&&pe.size>0&&ne.searchParams.set("_routes",P.filter(ve=>pe.has(ve.route.id)).map(ve=>ve.route.id).join(",")),[ne.pathname+ne.search]},[h,xt,I,$,it,P,T,rt]),Xt=Tt.useMemo(()=>Bv(yt,$),[yt,$]),ce=qv(yt);return Tt.createElement(Tt.Fragment,null,bt.map(pe=>Tt.createElement("link",{key:pe,rel:"prefetch",as:"fetch",href:pe,...q})),Xt.map(pe=>Tt.createElement("link",{key:pe,rel:"modulepreload",href:pe,...q})),ce.map(({key:pe,link:Ee})=>Tt.createElement("link",{key:pe,nonce:q.nonce,...Ee})))}function Zv(...T){return P=>{T.forEach(q=>{typeof q=="function"?q(P):q!=null&&(q.current=P)})}}var Wm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Wm&&(window.__reactRouterVersion="7.9.6")}catch{}function S_({basename:T,children:P,window:q}){let I=Tt.useRef();I.current==null&&(I.current=Dy({window:q,v5Compat:!0}));let $=I.current,[rt,h]=Tt.useState({action:$.action,location:$.location}),xt=Tt.useCallback(G=>{Tt.startTransition(()=>h(G))},[h]);return Tt.useLayoutEffect(()=>$.listen(xt),[$,xt]),Tt.createElement(wv,{basename:T,children:P,location:rt.location,navigationType:rt.action,navigator:$})}var $m=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ty=Tt.forwardRef(function({onClick:P,discover:q="render",prefetch:I="none",relative:$,reloadDocument:rt,replace:h,state:xt,target:G,to:it,preventScrollReset:yt,viewTransition:bt,...Xt},ce){let{basename:pe}=Tt.useContext(Rs),Ee=typeof it=="string"&&$m.test(it),ne,ve=!1;if(typeof it=="string"&&Ee&&(ne=it,Wm))try{let ni=new URL(window.location.href),Qn=it.startsWith("//")?new URL(ni.protocol+it):new URL(it),zi=du(Qn.pathname,pe);Qn.origin===ni.origin&&zi!=null?it=zi+Qn.search+Qn.hash:ve=!0}catch{Qo(!1,`<Link to="${it}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let be=rv(it,{relative:$}),[me,Ei,Oi]=Fv(I,Xt),tn=Yv(it,{replace:h,state:xt,target:G,preventScrollReset:yt,relative:$,viewTransition:bt});function Ge(ni){P&&P(ni),ni.defaultPrevented||tn(ni)}let yn=Tt.createElement("a",{...Xt,...Oi,href:ne||be,onClick:ve||rt?P:Ge,ref:Zv(ce,Ei),target:G,"data-discover":!Ee&&q==="render"?"true":void 0});return me&&!Ee?Tt.createElement(Tt.Fragment,null,yn,Tt.createElement(Vv,{page:be})):yn});ty.displayName="Link";var Gv=Tt.forwardRef(function({"aria-current":P="page",caseSensitive:q=!1,className:I="",end:$=!1,style:rt,to:h,viewTransition:xt,children:G,...it},yt){let bt=lf(h,{relative:it.relative}),Xt=fc(),ce=Tt.useContext(_d),{navigator:pe,basename:Ee}=Tt.useContext(Rs),ne=ce!=null&&$v(bt)&&xt===!0,ve=pe.encodeLocation?pe.encodeLocation(bt).pathname:bt.pathname,be=Xt.pathname,me=ce&&ce.navigation&&ce.navigation.location?ce.navigation.location.pathname:null;q||(be=be.toLowerCase(),me=me?me.toLowerCase():null,ve=ve.toLowerCase()),me&&Ee&&(me=du(me,Ee)||me);const Ei=ve!=="/"&&ve.endsWith("/")?ve.length-1:ve.length;let Oi=be===ve||!$&&be.startsWith(ve)&&be.charAt(Ei)==="/",tn=me!=null&&(me===ve||!$&&me.startsWith(ve)&&me.charAt(ve.length)==="/"),Ge={isActive:Oi,isPending:tn,isTransitioning:ne},yn=Oi?P:void 0,ni;typeof I=="function"?ni=I(Ge):ni=[I,Oi?"active":null,tn?"pending":null,ne?"transitioning":null].filter(Boolean).join(" ");let Qn=typeof rt=="function"?rt(Ge):rt;return Tt.createElement(ty,{...it,"aria-current":yn,className:ni,ref:yt,style:Qn,to:h,viewTransition:xt},typeof G=="function"?G(Ge):G)});Gv.displayName="NavLink";var Hv=Tt.forwardRef(({discover:T="render",fetcherKey:P,navigate:q,reloadDocument:I,replace:$,state:rt,method:h=fd,action:xt,onSubmit:G,relative:it,preventScrollReset:yt,viewTransition:bt,...Xt},ce)=>{let pe=Qv(),Ee=Wv(xt,{relative:it}),ne=h.toLowerCase()==="get"?"get":"post",ve=typeof xt=="string"&&$m.test(xt),be=me=>{if(G&&G(me),me.defaultPrevented)return;me.preventDefault();let Ei=me.nativeEvent.submitter,Oi=Ei?.getAttribute("formmethod")||h;pe(Ei||me.currentTarget,{fetcherKey:P,method:Oi,navigate:q,replace:$,state:rt,relative:it,preventScrollReset:yt,viewTransition:bt})};return Tt.createElement("form",{ref:ce,method:ne,action:Ee,onSubmit:I?G:be,...Xt,"data-discover":!ve&&T==="render"?"true":void 0})});Hv.displayName="Form";function Xv(T){return`${T} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ey(T){let P=Tt.useContext(ih);return qn(P,Xv(T)),P}function Yv(T,{target:P,replace:q,state:I,preventScrollReset:$,relative:rt,viewTransition:h}={}){let xt=Xm(),G=fc(),it=lf(T,{relative:rt});return Tt.useCallback(yt=>{if(zv(yt,P)){yt.preventDefault();let bt=q!==void 0?q:of(G)===of(it);xt(T,{replace:bt,state:I,preventScrollReset:$,relative:rt,viewTransition:h})}},[G,xt,it,q,I,P,T,$,rt,h])}var Kv=0,Jv=()=>`__${String(++Kv)}__`;function Qv(){let{router:T}=ey("useSubmit"),{basename:P}=Tt.useContext(Rs),q=vv();return Tt.useCallback(async(I,$={})=>{let{action:rt,method:h,encType:xt,formData:G,body:it}=Dv(I,P);if($.navigate===!1){let yt=$.fetcherKey||Jv();await T.fetch(yt,q,$.action||rt,{preventScrollReset:$.preventScrollReset,formData:G,body:it,formMethod:$.method||h,formEncType:$.encType||xt,flushSync:$.flushSync})}else await T.navigate($.action||rt,{preventScrollReset:$.preventScrollReset,formData:G,body:it,formMethod:$.method||h,formEncType:$.encType||xt,replace:$.replace,state:$.state,fromRouteId:q,flushSync:$.flushSync,viewTransition:$.viewTransition})},[T,P,q])}function Wv(T,{relative:P}={}){let{basename:q}=Tt.useContext(Rs),I=Tt.useContext(Wo);qn(I,"useFormAction must be used inside a RouteContext");let[$]=I.matches.slice(-1),rt={...lf(T||".",{relative:P})},h=fc();if(T==null){rt.search=h.search;let xt=new URLSearchParams(rt.search),G=xt.getAll("index");if(G.some(yt=>yt==="")){xt.delete("index"),G.filter(bt=>bt).forEach(bt=>xt.append("index",bt));let yt=xt.toString();rt.search=yt?`?${yt}`:""}}return(!T||T===".")&&$.route.index&&(rt.search=rt.search?rt.search.replace(/^\?/,"?index&"):"?index"),q!=="/"&&(rt.pathname=rt.pathname==="/"?q:fu([q,rt.pathname])),of(rt)}function $v(T,{relative:P}={}){let q=Tt.useContext(Zm);qn(q!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:I}=ey("useViewTransitionState"),$=lf(T,{relative:P});if(!q.isTransitioning)return!1;let rt=du(q.currentLocation.pathname,I)||q.currentLocation.pathname,h=du(q.nextLocation.pathname,I)||q.nextLocation.pathname;return vd($.pathname,h)!=null||vd($.pathname,rt)!=null}var E_=Nm();const tg=T=>T.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eg=T=>T.replace(/^([A-Z])|[\s-_]+(\w)/g,(P,q,I)=>I?I.toUpperCase():q.toLowerCase()),Bm=T=>{const P=eg(T);return P.charAt(0).toUpperCase()+P.slice(1)},iy=(...T)=>T.filter((P,q,I)=>!!P&&P.trim()!==""&&I.indexOf(P)===q).join(" ").trim(),ig=T=>{for(const P in T)if(P.startsWith("aria-")||P==="role"||P==="title")return!0};var ng={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rg=Tt.forwardRef(({color:T="currentColor",size:P=24,strokeWidth:q=2,absoluteStrokeWidth:I,className:$="",children:rt,iconNode:h,...xt},G)=>Tt.createElement("svg",{ref:G,...ng,width:P,height:P,stroke:T,strokeWidth:I?Number(q)*24/Number(P):q,className:iy("lucide",$),...!rt&&!ig(xt)&&{"aria-hidden":"true"},...xt},[...h.map(([it,yt])=>Tt.createElement(it,yt)),...Array.isArray(rt)?rt:[rt]]));const Lr=(T,P)=>{const q=Tt.forwardRef(({className:I,...$},rt)=>Tt.createElement(rg,{ref:rt,iconNode:P,className:iy(`lucide-${tg(Bm(T))}`,`lucide-${T}`,I),...$}));return q.displayName=Bm(T),q};const ag=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],T_=Lr("arrow-left",ag);const og=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],A_=Lr("check",og);const sg=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],z_=Lr("chevron-left",sg);const lg=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],C_=Lr("chevron-right",lg);const ug=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],M_=Lr("circle-check-big",ug);const cg=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],D_=Lr("eye-off",cg);const pg=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],L_=Lr("eye",pg);const hg=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],R_=Lr("house",hg);const fg=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],k_=Lr("loader-circle",fg);const dg=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],I_=Lr("mail",dg);const mg=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],B_=Lr("map-pin",mg);const yg=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],O_=Lr("pencil-line",yg);const vg=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],U_=Lr("phone",vg);const gg=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],P_=Lr("plus",gg);const _g=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],N_=Lr("refresh-ccw",_g);const xg=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],F_=Lr("search",xg);const bg=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],V_=Lr("trash-2",bg);const wg=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],q_=Lr("user",wg);const Sg=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],j_=Lr("x",Sg);let Eg={data:""},Tg=T=>{if(typeof window=="object"){let P=(T?T.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return P.nonce=window.__nonce__,P.parentNode||(T||document.head).appendChild(P),P.firstChild}return T||Eg},Ag=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,zg=/\/\*[^]*?\*\/|  +/g,Om=/\n+/g,hc=(T,P)=>{let q="",I="",$="";for(let rt in T){let h=T[rt];rt[0]=="@"?rt[1]=="i"?q=rt+" "+h+";":I+=rt[1]=="f"?hc(h,rt):rt+"{"+hc(h,rt[1]=="k"?"":P)+"}":typeof h=="object"?I+=hc(h,P?P.replace(/([^,])+/g,xt=>rt.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,G=>/&/.test(G)?G.replace(/&/g,xt):xt?xt+" "+G:G)):rt):h!=null&&(rt=/^--/.test(rt)?rt:rt.replace(/[A-Z]/g,"-$&").toLowerCase(),$+=hc.p?hc.p(rt,h):rt+":"+h+";")}return q+(P&&$?P+"{"+$+"}":$)+I},hu={},ny=T=>{if(typeof T=="object"){let P="";for(let q in T)P+=q+ny(T[q]);return P}return T},Cg=(T,P,q,I,$)=>{let rt=ny(T),h=hu[rt]||(hu[rt]=(G=>{let it=0,yt=11;for(;it<G.length;)yt=101*yt+G.charCodeAt(it++)>>>0;return"go"+yt})(rt));if(!hu[h]){let G=rt!==T?T:(it=>{let yt,bt,Xt=[{}];for(;yt=Ag.exec(it.replace(zg,""));)yt[4]?Xt.shift():yt[3]?(bt=yt[3].replace(Om," ").trim(),Xt.unshift(Xt[0][bt]=Xt[0][bt]||{})):Xt[0][yt[1]]=yt[2].replace(Om," ").trim();return Xt[0]})(T);hu[h]=hc($?{["@keyframes "+h]:G}:G,q?"":"."+h)}let xt=q&&hu.g?hu.g:null;return q&&(hu.g=hu[h]),((G,it,yt,bt)=>{bt?it.data=it.data.replace(bt,G):it.data.indexOf(G)===-1&&(it.data=yt?G+it.data:it.data+G)})(hu[h],P,I,xt),h},Mg=(T,P,q)=>T.reduce((I,$,rt)=>{let h=P[rt];if(h&&h.call){let xt=h(q),G=xt&&xt.props&&xt.props.className||/^go/.test(xt)&&xt;h=G?"."+G:xt&&typeof xt=="object"?xt.props?"":hc(xt,""):xt===!1?"":xt}return I+$+(h??"")},"");function bd(T){let P=this||{},q=T.call?T(P.p):T;return Cg(q.unshift?q.raw?Mg(q,[].slice.call(arguments,1),P.p):q.reduce((I,$)=>Object.assign(I,$&&$.call?$(P.p):$),{}):q,Tg(P.target),P.g,P.o,P.k)}let ry,Yd,Kd;bd.bind({g:1});let mu=bd.bind({k:1});function Dg(T,P,q,I){hc.p=P,ry=T,Yd=q,Kd=I}function dc(T,P){let q=this||{};return function(){let I=arguments;function $(rt,h){let xt=Object.assign({},rt),G=xt.className||$.className;q.p=Object.assign({theme:Yd&&Yd()},xt),q.o=/ *go\d+/.test(G),xt.className=bd.apply(q,I)+(G?" "+G:"");let it=T;return T[0]&&(it=xt.as||T,delete xt.as),Kd&&it[0]&&Kd(xt),ry(it,xt)}return $}}var Lg=T=>typeof T=="function",gd=(T,P)=>Lg(T)?T(P):T,Rg=(()=>{let T=0;return()=>(++T).toString()})(),ay=(()=>{let T;return()=>{if(T===void 0&&typeof window<"u"){let P=matchMedia("(prefers-reduced-motion: reduce)");T=!P||P.matches}return T}})(),kg=20,rm="default",oy=(T,P)=>{let{toastLimit:q}=T.settings;switch(P.type){case 0:return{...T,toasts:[P.toast,...T.toasts].slice(0,q)};case 1:return{...T,toasts:T.toasts.map(h=>h.id===P.toast.id?{...h,...P.toast}:h)};case 2:let{toast:I}=P;return oy(T,{type:T.toasts.find(h=>h.id===I.id)?1:0,toast:I});case 3:let{toastId:$}=P;return{...T,toasts:T.toasts.map(h=>h.id===$||$===void 0?{...h,dismissed:!0,visible:!1}:h)};case 4:return P.toastId===void 0?{...T,toasts:[]}:{...T,toasts:T.toasts.filter(h=>h.id!==P.toastId)};case 5:return{...T,pausedAt:P.time};case 6:let rt=P.time-(T.pausedAt||0);return{...T,pausedAt:void 0,toasts:T.toasts.map(h=>({...h,pauseDuration:h.pauseDuration+rt}))}}},md=[],sy={toasts:[],pausedAt:void 0,settings:{toastLimit:kg}},_l={},ly=(T,P=rm)=>{_l[P]=oy(_l[P]||sy,T),md.forEach(([q,I])=>{q===P&&I(_l[P])})},uy=T=>Object.keys(_l).forEach(P=>ly(T,P)),Ig=T=>Object.keys(_l).find(P=>_l[P].toasts.some(q=>q.id===T)),wd=(T=rm)=>P=>{ly(P,T)},Bg={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Og=(T={},P=rm)=>{let[q,I]=Tt.useState(_l[P]||sy),$=Tt.useRef(_l[P]);Tt.useEffect(()=>($.current!==_l[P]&&I(_l[P]),md.push([P,I]),()=>{let h=md.findIndex(([xt])=>xt===P);h>-1&&md.splice(h,1)}),[P]);let rt=q.toasts.map(h=>{var xt,G,it;return{...T,...T[h.type],...h,removeDelay:h.removeDelay||((xt=T[h.type])==null?void 0:xt.removeDelay)||T?.removeDelay,duration:h.duration||((G=T[h.type])==null?void 0:G.duration)||T?.duration||Bg[h.type],style:{...T.style,...(it=T[h.type])==null?void 0:it.style,...h.style}}});return{...q,toasts:rt}},Ug=(T,P="blank",q)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:P,ariaProps:{role:"status","aria-live":"polite"},message:T,pauseDuration:0,...q,id:q?.id||Rg()}),uf=T=>(P,q)=>{let I=Ug(P,T,q);return wd(I.toasterId||Ig(I.id))({type:2,toast:I}),I.id},Dr=(T,P)=>uf("blank")(T,P);Dr.error=uf("error");Dr.success=uf("success");Dr.loading=uf("loading");Dr.custom=uf("custom");Dr.dismiss=(T,P)=>{let q={type:3,toastId:T};P?wd(P)(q):uy(q)};Dr.dismissAll=T=>Dr.dismiss(void 0,T);Dr.remove=(T,P)=>{let q={type:4,toastId:T};P?wd(P)(q):uy(q)};Dr.removeAll=T=>Dr.remove(void 0,T);Dr.promise=(T,P,q)=>{let I=Dr.loading(P.loading,{...q,...q?.loading});return typeof T=="function"&&(T=T()),T.then($=>{let rt=P.success?gd(P.success,$):void 0;return rt?Dr.success(rt,{id:I,...q,...q?.success}):Dr.dismiss(I),$}).catch($=>{let rt=P.error?gd(P.error,$):void 0;rt?Dr.error(rt,{id:I,...q,...q?.error}):Dr.dismiss(I)}),T};var Pg=1e3,Ng=(T,P="default")=>{let{toasts:q,pausedAt:I}=Og(T,P),$=Tt.useRef(new Map).current,rt=Tt.useCallback((bt,Xt=Pg)=>{if($.has(bt))return;let ce=setTimeout(()=>{$.delete(bt),h({type:4,toastId:bt})},Xt);$.set(bt,ce)},[]);Tt.useEffect(()=>{if(I)return;let bt=Date.now(),Xt=q.map(ce=>{if(ce.duration===1/0)return;let pe=(ce.duration||0)+ce.pauseDuration-(bt-ce.createdAt);if(pe<0){ce.visible&&Dr.dismiss(ce.id);return}return setTimeout(()=>Dr.dismiss(ce.id,P),pe)});return()=>{Xt.forEach(ce=>ce&&clearTimeout(ce))}},[q,I,P]);let h=Tt.useCallback(wd(P),[P]),xt=Tt.useCallback(()=>{h({type:5,time:Date.now()})},[h]),G=Tt.useCallback((bt,Xt)=>{h({type:1,toast:{id:bt,height:Xt}})},[h]),it=Tt.useCallback(()=>{I&&h({type:6,time:Date.now()})},[I,h]),yt=Tt.useCallback((bt,Xt)=>{let{reverseOrder:ce=!1,gutter:pe=8,defaultPosition:Ee}=Xt||{},ne=q.filter(me=>(me.position||Ee)===(bt.position||Ee)&&me.height),ve=ne.findIndex(me=>me.id===bt.id),be=ne.filter((me,Ei)=>Ei<ve&&me.visible).length;return ne.filter(me=>me.visible).slice(...ce?[be+1]:[0,be]).reduce((me,Ei)=>me+(Ei.height||0)+pe,0)},[q]);return Tt.useEffect(()=>{q.forEach(bt=>{if(bt.dismissed)rt(bt.id,bt.removeDelay);else{let Xt=$.get(bt.id);Xt&&(clearTimeout(Xt),$.delete(bt.id))}})},[q,rt]),{toasts:q,handlers:{updateHeight:G,startPause:xt,endPause:it,calculateOffset:yt}}},Fg=mu`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Vg=mu`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,qg=mu`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,jg=dc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${T=>T.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Fg} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Vg} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${T=>T.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${qg} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Zg=mu`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Gg=dc("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${T=>T.secondary||"#e0e0e0"};
  border-right-color: ${T=>T.primary||"#616161"};
  animation: ${Zg} 1s linear infinite;
`,Hg=mu`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Xg=mu`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Yg=dc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${T=>T.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Hg} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Xg} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${T=>T.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Kg=dc("div")`
  position: absolute;
`,Jg=dc("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Qg=mu`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Wg=dc("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Qg} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,$g=({toast:T})=>{let{icon:P,type:q,iconTheme:I}=T;return P!==void 0?typeof P=="string"?Tt.createElement(Wg,null,P):P:q==="blank"?null:Tt.createElement(Jg,null,Tt.createElement(Gg,{...I}),q!=="loading"&&Tt.createElement(Kg,null,q==="error"?Tt.createElement(jg,{...I}):Tt.createElement(Yg,{...I})))},t_=T=>`
0% {transform: translate3d(0,${T*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,e_=T=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${T*-150}%,-1px) scale(.6); opacity:0;}
`,i_="0%{opacity:0;} 100%{opacity:1;}",n_="0%{opacity:1;} 100%{opacity:0;}",r_=dc("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,a_=dc("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,o_=(T,P)=>{let q=T.includes("top")?1:-1,[I,$]=ay()?[i_,n_]:[t_(q),e_(q)];return{animation:P?`${mu(I)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${mu($)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},s_=Tt.memo(({toast:T,position:P,style:q,children:I})=>{let $=T.height?o_(T.position||P||"top-center",T.visible):{opacity:0},rt=Tt.createElement($g,{toast:T}),h=Tt.createElement(a_,{...T.ariaProps},gd(T.message,T));return Tt.createElement(r_,{className:T.className,style:{...$,...q,...T.style}},typeof I=="function"?I({icon:rt,message:h}):Tt.createElement(Tt.Fragment,null,rt,h))});Dg(Tt.createElement);var l_=({id:T,className:P,style:q,onHeightUpdate:I,children:$})=>{let rt=Tt.useCallback(h=>{if(h){let xt=()=>{let G=h.getBoundingClientRect().height;I(T,G)};xt(),new MutationObserver(xt).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[T,I]);return Tt.createElement("div",{ref:rt,className:P,style:q},$)},u_=(T,P)=>{let q=T.includes("top"),I=q?{top:0}:{bottom:0},$=T.includes("center")?{justifyContent:"center"}:T.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ay()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${P*(q?1:-1)}px)`,...I,...$}},c_=bd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,hd=16,Z_=({reverseOrder:T,position:P="top-center",toastOptions:q,gutter:I,children:$,toasterId:rt,containerStyle:h,containerClassName:xt})=>{let{toasts:G,handlers:it}=Ng(q,rt);return Tt.createElement("div",{"data-rht-toaster":rt||"",style:{position:"fixed",zIndex:9999,top:hd,left:hd,right:hd,bottom:hd,pointerEvents:"none",...h},className:xt,onMouseEnter:it.startPause,onMouseLeave:it.endPause},G.map(yt=>{let bt=yt.position||P,Xt=it.calculateOffset(yt,{reverseOrder:T,gutter:I,defaultPosition:P}),ce=u_(bt,Xt);return Tt.createElement(l_,{id:yt.id,key:yt.id,onHeightUpdate:it.updateHeight,className:yt.visible?c_:"",style:ce},yt.type==="custom"?gd(yt.message,yt):$?$(yt):Tt.createElement(s_,{toast:yt,position:bt}))}))},G_=Dr,yd={exports:{}},p_=yd.exports,Um;function h_(){return Um||(Um=1,(function(T,P){(function(q,I){T.exports=I()})(p_,(function(){var q,I,$;function rt(h,xt){if(!q)q=xt;else if(!I)I=xt;else{var G="var sharedChunk = {}; ("+q+")(sharedChunk); ("+I+")(sharedChunk);",it={};q(it),$=xt(it),$.workerUrl=window.URL.createObjectURL(new Blob([G],{type:"text/javascript"}))}}return rt(["exports"],(function(h){function xt(t,i){return t(i={exports:{}},i.exports),i.exports}var G=it;function it(t,i,r,u){this.cx=3*t,this.bx=3*(r-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*i,this.by=3*(u-i)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=u,this.p2x=r,this.p2y=u}it.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},it.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},it.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},it.prototype.solveCurveX=function(t,i){var r,u,f,d,y;for(i===void 0&&(i=1e-6),f=t,y=0;y<8;y++){if(d=this.sampleCurveX(f)-t,Math.abs(d)<i)return f;var x=this.sampleCurveDerivativeX(f);if(Math.abs(x)<1e-6)break;f-=d/x}if((f=t)<(r=0))return r;if(f>(u=1))return u;for(;r<u;){if(d=this.sampleCurveX(f),Math.abs(d-t)<i)return f;t>d?r=f:u=f,f=.5*(u-r)+r}return f},it.prototype.solve=function(t,i){return this.sampleCurveY(this.solveCurveX(t,i))};var yt=bt;function bt(t,i){this.x=t,this.y=i}function Xt(t,i,r,u){var f=new G(t,i,r,u);return function(d){return f.solve(d)}}bt.prototype={clone:function(){return new bt(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,i){return this.clone()._rotateAround(t,i)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var i=t.x-this.x,r=t.y-this.y;return i*i+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,i){return Math.atan2(this.x*i-this.y*t,this.x*t+this.y*i)},_matMult:function(t){var i=t[0]*this.x+t[1]*this.y,r=t[2]*this.x+t[3]*this.y;return this.x=i,this.y=r,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var i=Math.cos(t),r=Math.sin(t),u=i*this.x-r*this.y,f=r*this.x+i*this.y;return this.x=u,this.y=f,this},_rotateAround:function(t,i){var r=Math.cos(t),u=Math.sin(t),f=i.x+r*(this.x-i.x)-u*(this.y-i.y),d=i.y+u*(this.x-i.x)+r*(this.y-i.y);return this.x=f,this.y=d,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},bt.convert=function(t){return t instanceof bt?t:Array.isArray(t)?new bt(t[0],t[1]):t};var ce=Xt(.25,.1,.25,1);function pe(t,i,r){return Math.min(r,Math.max(i,t))}function Ee(t,i,r){var u=r-i,f=((t-i)%u+u)%u+i;return f===i?r:f}function ne(t){for(var i=[],r=arguments.length-1;r-- >0;)i[r]=arguments[r+1];for(var u=0,f=i;u<f.length;u+=1){var d=f[u];for(var y in d)t[y]=d[y]}return t}var ve=1;function be(){return ve++}function me(){return(function t(i){return i?(i^16*Math.random()>>i/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)})()}function Ei(t){return!!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function Oi(t,i){t.forEach((function(r){i[r]&&(i[r]=i[r].bind(i))}))}function tn(t,i){return t.indexOf(i,t.length-i.length)!==-1}function Ge(t,i,r){var u={};for(var f in t)u[f]=i.call(r||this,t[f],f,t);return u}function yn(t,i,r){var u={};for(var f in t)i.call(r||this,t[f],f,t)&&(u[f]=t[f]);return u}function ni(t){return Array.isArray(t)?t.map(ni):typeof t=="object"&&t?Ge(t,ni):t}var Qn={};function zi(t){Qn[t]||(typeof console<"u"&&console.warn(t),Qn[t]=!0)}function vn(t,i,r){return(r.y-t.y)*(i.x-t.x)>(i.y-t.y)*(r.x-t.x)}function ca(t){for(var i=0,r=0,u=t.length,f=u-1,d=void 0,y=void 0;r<u;f=r++)d=t[r],i+=((y=t[f]).x-d.x)*(d.y+y.y);return i}function jn(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function sr(t){var i={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(u,f,d,y){var x=d||y;return i[f]=!x||x.toLowerCase(),""})),i["max-age"]){var r=parseInt(i["max-age"],10);isNaN(r)?delete i["max-age"]:i["max-age"]=r}return i}var It=null;function re(t){if(It==null){var i=t.navigator?t.navigator.userAgent:null;It=!!t.safari||!(!i||!(/\b(iPad|iPhone|iPod)\b/.test(i)||i.match("Safari")&&!i.match("Chrome")))}return It}function Be(t){try{var i=self[t];return i.setItem("_mapbox_test_",1),i.removeItem("_mapbox_test_"),!0}catch{return!1}}var Ti,Li,lt,Pt,he=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),ge=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,je=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,Je={now:he,frame:function(t){var i=ge(t);return{cancel:function(){return je(i)}}},getImageData:function(t,i){i===void 0&&(i=0);var r=self.document.createElement("canvas"),u=r.getContext("2d");if(!u)throw new Error("failed to create canvas 2d context");return r.width=t.width,r.height=t.height,u.drawImage(t,0,0,t.width,t.height),u.getImageData(-i,-i,t.width+2*i,t.height+2*i)},resolveURL:function(t){return Ti||(Ti=self.document.createElement("a")),Ti.href=t,Ti.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return!!self.matchMedia&&(Li==null&&(Li=self.matchMedia("(prefers-reduced-motion: reduce)")),Li.matches)}},He={API_URL:"https://tiles.goong.io",get EVENTS_URL(){return"https://rsapi.goong.io"},FEEDBACK_URL:"https://goong.io",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Ln={supported:!1,testSupport:function(t){fi||!Pt||(wr?oo(t):lt=t)}},fi=!1,wr=!1;function oo(t){var i=t.createTexture();t.bindTexture(t.TEXTURE_2D,i);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,Pt),t.isContextLost())return;Ln.supported=!0}catch{}t.deleteTexture(i),fi=!0}self.document&&((Pt=self.document.createElement("img")).onload=function(){lt&&oo(lt),lt=null,wr=!0},Pt.onerror=function(){fi=!0,lt=null},Pt.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var Ta="01",Fe=function(t,i){this._transformRequestFn=t,this._customAccessToken=i,this._createSkuToken()};function lr(t){return t.indexOf("https://tiles.goong.io")===0}Fe.prototype._createSkuToken=function(){var t=(function(){for(var i="",r=0;r<10;r++)i+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",Ta,i].join(""),tokenExpiresAt:Date.now()+432e5}})();this._skuToken=t.token,this._skuTokenExpiresAt=t.tokenExpiresAt},Fe.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Fe.prototype.transformRequest=function(t,i){return this._transformRequestFn&&this._transformRequestFn(t,i)||{url:t}},Fe.prototype.normalizeStyleURL=function(t,i){if(!lr(t))return t;var r=Zr(t);return this._makeAPIURL(r,this._customAccessToken||i)},Fe.prototype.normalizeGlyphsURL=function(t,i){if(!lr(t))return t;var r=Zr(t);return this._makeAPIURL(r,this._customAccessToken||i)},Fe.prototype.normalizeSourceURL=function(t,i){if(!lr(t))return t;var r=Zr(t);return this._makeAPIURL(r,this._customAccessToken||i)},Fe.prototype.normalizeSpriteURL=function(t,i,r,u){var f=Zr(t);return lr(t)?(f.path=""+f.path+i+r,this._makeAPIURL(f,this._customAccessToken||u)):(f.path+=""+i+r,On(f))},Fe.prototype.normalizeTileURL=function(t,i,r){if(this._isSkuTokenExpired()&&this._createSkuToken(),!i||!lr(i))return t;var u=Zr(t),f=Je.devicePixelRatio>=2||r===512?"@2x":"",d=Ln.supported?".webp":"$1";return u.path=u.path.replace(/(\.(png|jpg)\d*)(?=$)/,""+f+d),u.path=u.path.replace(/^.+\/v4\//,"/"),He.REQUIRE_ACCESS_TOKEN&&(He.ACCESS_TOKEN||this._customAccessToken)&&this._skuToken&&u.params.push("sku="+this._skuToken),this._makeAPIURL(u,this._customAccessToken)},Fe.prototype.canonicalizeTileURL=function(t){var i=Zr(t);if(!i.path.match(/(^\/v4\/)/)||!i.path.match(/\.[\w]+$/))return t;var r="mapbox://tiles/";r+=i.path.replace("/v4/","");var u=i.params.filter((function(f){return!f.match(/^api_key=/)}));return u.length&&(r+="?"+u.join("&")),r},Fe.prototype.canonicalizeTileset=function(t,i){if(!lr(i))return t.tiles||[];for(var r=[],u=0,f=t.tiles;u<f.length;u+=1){var d=f[u],y=this.canonicalizeTileURL(d);r.push(y)}return r},Fe.prototype._makeAPIURL=function(t,i){var r=Zr(He.API_URL);if(t.protocol=r.protocol,t.authority=r.authority,r.path!=="/"&&(t.path=""+r.path+t.path),!He.REQUIRE_ACCESS_TOKEN)return On(t);if(!(i=i||He.ACCESS_TOKEN))throw new Error("An API access token is required to use Goong JS. See https://docs.goong.io");return t.params=t.params.filter((function(u){return u.indexOf("api_key")===-1})),t.params.push("api_key="+i),On(t)};var To=/^((https?:)?\/\/)?([^\/]+\.)?goong\.io(\/|\?|$)/i;function Na(t){return To.test(t)}var mc=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Zr(t){var i=t.match(mc);if(!i)throw new Error("Unable to parse URL object");return{protocol:i[1],authority:i[2],path:i[3]||"/",params:i[4]?i[4].split("&"):[]}}function On(t){var i=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+i}function ks(t){if(!t)return null;var i,r=t.split(".");if(!r||r.length!==3)return null;try{return JSON.parse((i=r[1],decodeURIComponent(self.atob(i).split("").map((function(u){return"%"+("00"+u.charCodeAt(0).toString(16)).slice(-2)})).join(""))))}catch{return null}}var pa=function(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};pa.prototype.getStorageKey=function(t){var i,r=ks(He.ACCESS_TOKEN),u="";return r&&r.u?(i=r.u,u=self.btoa(encodeURIComponent(i).replace(/%([0-9A-F]{2})/g,(function(f,d){return String.fromCharCode(+("0x"+d))})))):u=He.ACCESS_TOKEN||"",t?"goong.eventData."+t+":"+u:"goong.eventData:"+u},pa.prototype.fetchEventData=function(){var t=Be("localStorage"),i=this.getStorageKey(),r=this.getStorageKey("uuid");if(t)try{var u=self.localStorage.getItem(i);u&&(this.eventData=JSON.parse(u));var f=self.localStorage.getItem(r);f&&(this.anonId=f)}catch{zi("Unable to read from LocalStorage")}},pa.prototype.saveEventData=function(){var t=Be("localStorage"),i=this.getStorageKey(),r=this.getStorageKey("uuid");if(t)try{self.localStorage.setItem(r,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(i,JSON.stringify(this.eventData))}catch{zi("Unable to write to LocalStorage")}},pa.prototype.processRequests=function(t){},pa.prototype.postEvent=function(t,i,r,u){},pa.prototype.queueRequest=function(t,i){this.queue.push(t),this.processRequests(i)};var ha,$o,Wn=(function(t){function i(){t.call(this,"map.load"),this.success={},this.skuToken=""}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.postMapLoadEvent=function(r,u,f,d){this.skuToken=f,(He.EVENTS_URL&&d||He.ACCESS_TOKEN&&Array.isArray(r)&&r.some((function(y){return lr(y)||Na(y)})))&&this.queueRequest({id:u,timestamp:Date.now()},d)},i.prototype.processRequests=function(r){var u=this;if(!this.pendingRequest&&this.queue.length!==0){var f=this.queue.shift(),d=f.id,y=f.timestamp;d&&this.success[d]||(this.anonId||this.fetchEventData(),Ei(this.anonId)||(this.anonId=me()),this.postEvent(y,{skuToken:this.skuToken},(function(x){x||d&&(u.success[d]=!0)}),r))}},i})(pa),ts=new((function(t){function i(r){t.call(this,"appUserTurnstile"),this._customAccessToken=r}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.postTurnstileEvent=function(r,u){He.EVENTS_URL&&He.ACCESS_TOKEN&&Array.isArray(r)&&r.some((function(f){return lr(f)||Na(f)}))&&this.queueRequest(Date.now(),u)},i.prototype.processRequests=function(r){var u=this;if(!this.pendingRequest&&this.queue.length!==0){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var f=ks(He.ACCESS_TOKEN),d=f?f.u:He.ACCESS_TOKEN,y=d!==this.eventData.tokenU;Ei(this.anonId)||(this.anonId=me(),y=!0);var x=this.queue.shift();if(this.eventData.lastSuccess){var S=new Date(this.eventData.lastSuccess),A=new Date(x),M=(x-this.eventData.lastSuccess)/864e5;y=y||M>=1||M<-1||S.getDate()!==A.getDate()}else y=!0;if(!y)return this.processRequests();this.postEvent(x,{"enabled.telemetry":!1},(function(B){B||(u.eventData.lastSuccess=x,u.eventData.tokenU=d)}),r)}},i})(pa)),Ao=ts.postTurnstileEvent.bind(ts),Is=new Wn,es=Is.postMapLoadEvent.bind(Is),yu=500,so=50;function zo(){self.caches&&!ha&&(ha=self.caches.open("mapbox-tiles"))}function Bs(t,i,r){if(zo(),ha){var u={status:i.status,statusText:i.statusText,headers:new self.Headers};i.headers.forEach((function(d,y){return u.headers.set(y,d)}));var f=sr(i.headers.get("Cache-Control")||"");f["no-store"]||(f["max-age"]&&u.headers.set("Expires",new Date(r+1e3*f["max-age"]).toUTCString()),new Date(u.headers.get("Expires")).getTime()-r<42e4||(function(d,y){if($o===void 0)try{new Response(new ReadableStream),$o=!0}catch{$o=!1}$o?y(d.body):d.blob().then(y)})(i,(function(d){var y=new self.Response(d,u);zo(),ha&&ha.then((function(x){return x.put(lo(t.url),y)})).catch((function(x){return zi(x.message)}))})))}}function lo(t){var i=t.indexOf("?");return i<0?t:t.slice(0,i)}function ur(t,i){if(zo(),!ha)return i(null);var r=lo(t.url);ha.then((function(u){u.match(r).then((function(f){var d=(function(y){if(!y)return!1;var x=new Date(y.headers.get("Expires")||0),S=sr(y.headers.get("Cache-Control")||"");return x>Date.now()&&!S["no-cache"]})(f);u.delete(r),d&&u.put(r,f.clone()),i(null,f,d)})).catch(i)})).catch(i)}var Rr,cr=1/0;function xl(){return Rr==null&&(Rr=self.OffscreenCanvas&&new self.OffscreenCanvas(1,1).getContext("2d")&&typeof self.createImageBitmap=="function"),Rr}var fa={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(fa);var vu=(function(t){function i(r,u,f){u===401&&Na(f)&&(r+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),t.call(this,r),this.status=u,this.url=f,this.name=this.constructor.name,this.message=r}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},i})(Error),uo=jn()?function(){return self.worker&&self.worker.referrer}:function(){return(self.location.protocol==="blob:"?self.parent:self).location.href};function is(t,i){var r,u=new self.AbortController,f=new self.Request(t.url,{method:t.method||"GET",body:t.body,credentials:t.credentials,headers:t.headers,referrer:uo(),signal:u.signal}),d=!1,y=!1,x=(r=f.url).indexOf("sku=")>0&&Na(r);t.type==="json"&&f.headers.set("Accept","application/json");var S=function(M,B,F){if(!y){if(M&&M.message!=="SecurityError"&&zi(M),B&&F)return A(B);var U=Date.now();self.fetch(f).then((function(V){if(V.ok){var J=x?V.clone():null;return A(V,J,U)}return i(new vu(V.statusText,V.status,t.url))})).catch((function(V){V.code!==20&&i(new Error(V.message))}))}},A=function(M,B,F){(t.type==="arrayBuffer"?M.arrayBuffer():t.type==="json"?M.json():M.text()).then((function(U){y||(B&&F&&Bs(f,B,F),d=!0,i(null,U,M.headers.get("Cache-Control"),M.headers.get("Expires")))})).catch((function(U){y||i(new Error(U.message))}))};return x?ur(f,S):S(null,null),{cancel:function(){y=!0,d||u.abort()}}}var Fa=function(t,i){if(r=t.url,!(/^file:/.test(r)||/^file:/.test(uo())&&!/^\w+:/.test(r))){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return is(t,i);if(jn()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",t,i,void 0,!0)}var r;return(function(u,f){var d=new self.XMLHttpRequest;for(var y in d.open(u.method||"GET",u.url,!0),u.type==="arrayBuffer"&&(d.responseType="arraybuffer"),u.headers)d.setRequestHeader(y,u.headers[y]);return u.type==="json"&&(d.responseType="text",d.setRequestHeader("Accept","application/json")),d.withCredentials=u.credentials==="include",d.onerror=function(){f(new Error(d.statusText))},d.onload=function(){if((d.status>=200&&d.status<300||d.status===0)&&d.response!==null){var x=d.response;if(u.type==="json")try{x=JSON.parse(d.response)}catch(S){return f(S)}f(null,x,d.getResponseHeader("Cache-Control"),d.getResponseHeader("Expires"))}else f(new vu(d.statusText,d.status,u.url))},d.send(u.body),{cancel:function(){return d.abort()}}})(t,i)},Gr=function(t,i){return Fa(ne(t,{type:"arrayBuffer"}),i)},co,da;co=[],da=0;var bl=function(t,i){if(Ln.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),da>=He.MAX_PARALLEL_IMAGE_REQUESTS){var r={requestParameters:t,callback:i,cancelled:!1,cancel:function(){this.cancelled=!0}};return co.push(r),r}da++;var u=!1,f=function(){if(!u)for(u=!0,da--;co.length&&da<He.MAX_PARALLEL_IMAGE_REQUESTS;){var y=co.shift(),x=y.requestParameters,S=y.callback;y.cancelled||(y.cancel=bl(x,S).cancel)}},d=Gr(t,(function(y,x,S,A){f(),y?i(y):x&&(xl()?(function(M,B){var F=new self.Blob([new Uint8Array(M)],{type:"image/png"});self.createImageBitmap(F).then((function(U){B(null,U)})).catch((function(){B(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))}))})(x,i):(function(M,B,F,U){var V=new self.Image,J=self.URL;V.onload=function(){B(null,V),J.revokeObjectURL(V.src)},V.onerror=function(){return B(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var W=new self.Blob([new Uint8Array(M)],{type:"image/png"});V.cacheControl=F,V.expires=U,V.src=M.byteLength?J.createObjectURL(W):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="})(x,i,S,A))}));return{cancel:function(){d.cancel(),f()}}};function ns(t,i,r){r[t]&&r[t].indexOf(i)!==-1||(r[t]=r[t]||[],r[t].push(i))}function po(t,i,r){if(r&&r[t]){var u=r[t].indexOf(i);u!==-1&&r[t].splice(u,1)}}var oi=function(t,i){i===void 0&&(i={}),ne(this,i),this.type=t},gn=(function(t){function i(r,u){u===void 0&&(u={}),t.call(this,"error",ne({error:r},u))}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i})(oi),Xi=function(){};Xi.prototype.on=function(t,i){return this._listeners=this._listeners||{},ns(t,i,this._listeners),this},Xi.prototype.off=function(t,i){return po(t,i,this._listeners),po(t,i,this._oneTimeListeners),this},Xi.prototype.once=function(t,i){return this._oneTimeListeners=this._oneTimeListeners||{},ns(t,i,this._oneTimeListeners),this},Xi.prototype.fire=function(t,i){typeof t=="string"&&(t=new oi(t,i||{}));var r=t.type;if(this.listens(r)){t.target=this;for(var u=0,f=this._listeners&&this._listeners[r]?this._listeners[r].slice():[];u<f.length;u+=1)f[u].call(this,t);for(var d=0,y=this._oneTimeListeners&&this._oneTimeListeners[r]?this._oneTimeListeners[r].slice():[];d<y.length;d+=1){var x=y[d];po(r,x,this._oneTimeListeners),x.call(this,t)}var S=this._eventedParent;S&&(ne(t,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),S.fire(t))}else t instanceof gn&&console.error(t.error);return this},Xi.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},Xi.prototype.setEventedParent=function(t,i){return this._eventedParent=t,this._eventedParentData=i,this};var zt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},promoteId:{type:"promoteId"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Roboto Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}}},Jt=function(t,i,r,u){this.message=(t?t+": ":"")+r,u&&(this.identifier=u),i!=null&&i.__line__&&(this.line=i.__line__)};function ma(t){var i=t.key,r=t.value;return r?[new Jt(i,r,"constants have been deprecated as of v8")]:[]}function Aa(t){for(var i=[],r=arguments.length-1;r-- >0;)i[r]=arguments[r+1];for(var u=0,f=i;u<f.length;u+=1){var d=f[u];for(var y in d)t[y]=d[y]}return t}function pn(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function Vi(t){if(Array.isArray(t))return t.map(Vi);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){var i={};for(var r in t)i[r]=Vi(t[r]);return i}return pn(t)}var z=(function(t){function i(r,u){t.call(this,u),this.message=u,this.key=r}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i})(Error),D=function(t,i){i===void 0&&(i=[]),this.parent=t,this.bindings={};for(var r=0,u=i;r<u.length;r+=1){var f=u[r],d=f[0],y=f[1];this.bindings[d]=y}};D.prototype.concat=function(t){return new D(this,t)},D.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},D.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)};var k={kind:"null"},O={kind:"number"},K={kind:"string"},Q={kind:"boolean"},ut={kind:"color"},ot={kind:"object"},nt={kind:"value"},dt={kind:"collator"},Dt={kind:"formatted"},Nt={kind:"resolvedImage"};function At(t,i){return{kind:"array",itemType:t,N:i}}function Ft(t){if(t.kind==="array"){var i=Ft(t.itemType);return typeof t.N=="number"?"array<"+i+", "+t.N+">":t.itemType.kind==="value"?"array":"array<"+i+">"}return t.kind}var jt=[k,O,K,Q,ut,Dt,ot,At(nt),Nt];function ae(t,i){if(i.kind==="error")return null;if(t.kind==="array"){if(i.kind==="array"&&(i.N===0&&i.itemType.kind==="value"||!ae(t.itemType,i.itemType))&&(typeof t.N!="number"||t.N===i.N))return null}else{if(t.kind===i.kind)return null;if(t.kind==="value"){for(var r=0,u=jt;r<u.length;r+=1)if(!ae(u[r],i))return null}}return"Expected "+Ft(t)+" but found "+Ft(i)+" instead."}var de=xt((function(t,i){var r={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function u(S){return(S=Math.round(S))<0?0:S>255?255:S}function f(S){return S<0?0:S>1?1:S}function d(S){return S[S.length-1]==="%"?u(parseFloat(S)/100*255):u(parseInt(S))}function y(S){return S[S.length-1]==="%"?f(parseFloat(S)/100):f(parseFloat(S))}function x(S,A,M){return M<0?M+=1:M>1&&(M-=1),6*M<1?S+(A-S)*M*6:2*M<1?A:3*M<2?S+(A-S)*(2/3-M)*6:S}try{i.parseCSSColor=function(S){var A,M=S.replace(/ /g,"").toLowerCase();if(M in r)return r[M].slice();if(M[0]==="#")return M.length===4?(A=parseInt(M.substr(1),16))>=0&&A<=4095?[(3840&A)>>4|(3840&A)>>8,240&A|(240&A)>>4,15&A|(15&A)<<4,1]:null:M.length===7&&(A=parseInt(M.substr(1),16))>=0&&A<=16777215?[(16711680&A)>>16,(65280&A)>>8,255&A,1]:null;var B=M.indexOf("("),F=M.indexOf(")");if(B!==-1&&F+1===M.length){var U=M.substr(0,B),V=M.substr(B+1,F-(B+1)).split(","),J=1;switch(U){case"rgba":if(V.length!==4)return null;J=y(V.pop());case"rgb":return V.length!==3?null:[d(V[0]),d(V[1]),d(V[2]),J];case"hsla":if(V.length!==4)return null;J=y(V.pop());case"hsl":if(V.length!==3)return null;var W=(parseFloat(V[0])%360+360)%360/360,et=y(V[1]),mt=y(V[2]),vt=mt<=.5?mt*(et+1):mt+et-mt*et,gt=2*mt-vt;return[u(255*x(gt,vt,W+1/3)),u(255*x(gt,vt,W)),u(255*x(gt,vt,W-1/3)),J];default:return null}}return null}}catch{}})).parseCSSColor,Ht=function(t,i,r,u){u===void 0&&(u=1),this.r=t,this.g=i,this.b=r,this.a=u};Ht.parse=function(t){if(t){if(t instanceof Ht)return t;if(typeof t=="string"){var i=de(t);if(i)return new Ht(i[0]/255*i[3],i[1]/255*i[3],i[2]/255*i[3],i[3])}}},Ht.prototype.toString=function(){var t=this.toArray(),i=t[0],r=t[1],u=t[2],f=t[3];return"rgba("+Math.round(i)+","+Math.round(r)+","+Math.round(u)+","+f+")"},Ht.prototype.toArray=function(){var t=this.r,i=this.g,r=this.b,u=this.a;return u===0?[0,0,0,0]:[255*t/u,255*i/u,255*r/u,u]},Ht.black=new Ht(0,0,0,1),Ht.white=new Ht(1,1,1,1),Ht.transparent=new Ht(0,0,0,0),Ht.red=new Ht(1,0,0,1);var De=function(t,i,r){this.sensitivity=t?i?"variant":"case":i?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};De.prototype.compare=function(t,i){return this.collator.compare(t,i)},De.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var We=function(t,i,r,u,f){this.text=t,this.image=i,this.scale=r,this.fontStack=u,this.textColor=f},Le=function(t){this.sections=t};Le.fromString=function(t){return new Le([new We(t,null,null,null,null)])},Le.prototype.isEmpty=function(){return this.sections.length===0||!this.sections.some((function(t){return t.text.length!==0||t.image&&t.image.name.length!==0}))},Le.factory=function(t){return t instanceof Le?t:Le.fromString(t)},Le.prototype.toString=function(){return this.sections.length===0?"":this.sections.map((function(t){return t.text})).join("")},Le.prototype.serialize=function(){for(var t=["format"],i=0,r=this.sections;i<r.length;i+=1){var u=r[i];if(u.image)t.push(["image",u.image.name]);else{t.push(u.text);var f={};u.fontStack&&(f["text-font"]=["literal",u.fontStack.split(",")]),u.scale&&(f["font-scale"]=u.scale),u.textColor&&(f["text-color"]=["rgba"].concat(u.textColor.toArray())),t.push(f)}}return t};var Me=function(t){this.name=t.name,this.available=t.available};function Ri(t,i,r,u){return typeof t=="number"&&t>=0&&t<=255&&typeof i=="number"&&i>=0&&i<=255&&typeof r=="number"&&r>=0&&r<=255?u===void 0||typeof u=="number"&&u>=0&&u<=1?null:"Invalid rgba value ["+[t,i,r,u].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+(typeof u=="number"?[t,i,r,u]:[t,i,r]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function Re(t){if(t===null)return k;if(typeof t=="string")return K;if(typeof t=="boolean")return Q;if(typeof t=="number")return O;if(t instanceof Ht)return ut;if(t instanceof De)return dt;if(t instanceof Le)return Dt;if(t instanceof Me)return Nt;if(Array.isArray(t)){for(var i,r=t.length,u=0,f=t;u<f.length;u+=1){var d=Re(f[u]);if(i){if(i===d)continue;i=nt;break}i=d}return At(i||nt,r)}return ot}function vi(t){var i=typeof t;return t===null?"":i==="string"||i==="number"||i==="boolean"?String(t):t instanceof Ht||t instanceof Le||t instanceof Me?t.toString():JSON.stringify(t)}Me.prototype.toString=function(){return this.name},Me.fromString=function(t){return new Me({name:t,available:!1})},Me.prototype.serialize=function(){return["image",this.name]};var di=function(t,i){this.type=t,this.value=i};di.parse=function(t,i){if(t.length!==2)return i.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!(function d(y){if(y===null||typeof y=="string"||typeof y=="boolean"||typeof y=="number"||y instanceof Ht||y instanceof De||y instanceof Le||y instanceof Me)return!0;if(Array.isArray(y)){for(var x=0,S=y;x<S.length;x+=1)if(!d(S[x]))return!1;return!0}if(typeof y=="object"){for(var A in y)if(!d(y[A]))return!1;return!0}return!1})(t[1]))return i.error("invalid value");var r=t[1],u=Re(r),f=i.expectedType;return u.kind!=="array"||u.N!==0||!f||f.kind!=="array"||typeof f.N=="number"&&f.N!==0||(u=f),new di(u,r)},di.prototype.evaluate=function(){return this.value},di.prototype.eachChild=function(){},di.prototype.possibleOutputs=function(){return[this.value]},di.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Ht?["rgba"].concat(this.value.toArray()):this.value instanceof Le?this.value.serialize():this.value};var Ve=function(t){this.name="ExpressionEvaluationError",this.message=t};Ve.prototype.toJSON=function(){return this.message};var $n={string:K,number:O,boolean:Q,object:ot},ri=function(t,i){this.type=t,this.args=i};ri.parse=function(t,i){if(t.length<2)return i.error("Expected at least one argument.");var r,u=1,f=t[0];if(f==="array"){var d,y;if(t.length>2){var x=t[1];if(typeof x!="string"||!(x in $n)||x==="object")return i.error('The item type argument of "array" must be one of string, number, boolean',1);d=$n[x],u++}else d=nt;if(t.length>3){if(t[2]!==null&&(typeof t[2]!="number"||t[2]<0||t[2]!==Math.floor(t[2])))return i.error('The length argument to "array" must be a positive integer literal',2);y=t[2],u++}r=At(d,y)}else r=$n[f];for(var S=[];u<t.length;u++){var A=i.parse(t[u],u,nt);if(!A)return null;S.push(A)}return new ri(r,S)},ri.prototype.evaluate=function(t){for(var i=0;i<this.args.length;i++){var r=this.args[i].evaluate(t);if(!ae(this.type,Re(r)))return r;if(i===this.args.length-1)throw new Ve("Expected value to be of type "+Ft(this.type)+", but found "+Ft(Re(r))+" instead.")}return null},ri.prototype.eachChild=function(t){this.args.forEach(t)},ri.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.args.map((function(i){return i.possibleOutputs()})))},ri.prototype.serialize=function(){var t=this.type,i=[t.kind];if(t.kind==="array"){var r=t.itemType;if(r.kind==="string"||r.kind==="number"||r.kind==="boolean"){i.push(r.kind);var u=t.N;(typeof u=="number"||this.args.length>1)&&i.push(u)}}return i.concat(this.args.map((function(f){return f.serialize()})))};var en=function(t){this.type=Dt,this.sections=t};en.parse=function(t,i){if(t.length<2)return i.error("Expected at least one argument.");var r=t[1];if(!Array.isArray(r)&&typeof r=="object")return i.error("First argument must be an image or text section.");for(var u=[],f=!1,d=1;d<=t.length-1;++d){var y=t[d];if(f&&typeof y=="object"&&!Array.isArray(y)){f=!1;var x=null;if(y["font-scale"]&&!(x=i.parse(y["font-scale"],1,O)))return null;var S=null;if(y["text-font"]&&!(S=i.parse(y["text-font"],1,At(K))))return null;var A=null;if(y["text-color"]&&!(A=i.parse(y["text-color"],1,ut)))return null;var M=u[u.length-1];M.scale=x,M.font=S,M.textColor=A}else{var B=i.parse(t[d],1,nt);if(!B)return null;var F=B.type.kind;if(F!=="string"&&F!=="value"&&F!=="null"&&F!=="resolvedImage")return i.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");f=!0,u.push({content:B,scale:null,font:null,textColor:null})}}return new en(u)},en.prototype.evaluate=function(t){return new Le(this.sections.map((function(i){var r=i.content.evaluate(t);return Re(r)===Nt?new We("",r,null,null,null):new We(vi(r),null,i.scale?i.scale.evaluate(t):null,i.font?i.font.evaluate(t).join(","):null,i.textColor?i.textColor.evaluate(t):null)})))},en.prototype.eachChild=function(t){for(var i=0,r=this.sections;i<r.length;i+=1){var u=r[i];t(u.content),u.scale&&t(u.scale),u.font&&t(u.font),u.textColor&&t(u.textColor)}},en.prototype.possibleOutputs=function(){return[void 0]},en.prototype.serialize=function(){for(var t=["format"],i=0,r=this.sections;i<r.length;i+=1){var u=r[i];t.push(u.content.serialize());var f={};u.scale&&(f["font-scale"]=u.scale.serialize()),u.font&&(f["text-font"]=u.font.serialize()),u.textColor&&(f["text-color"]=u.textColor.serialize()),t.push(f)}return t};var Qe=function(t){this.type=Nt,this.input=t};Qe.parse=function(t,i){if(t.length!==2)return i.error("Expected two arguments.");var r=i.parse(t[1],1,K);return r?new Qe(r):i.error("No image name provided.")},Qe.prototype.evaluate=function(t){var i=this.input.evaluate(t),r=!1;return t.availableImages&&t.availableImages.indexOf(i)>-1&&(r=!0),new Me({name:i,available:r})},Qe.prototype.eachChild=function(t){t(this.input)},Qe.prototype.possibleOutputs=function(){return[void 0]},Qe.prototype.serialize=function(){return["image",this.input.serialize()]};var Un={"to-boolean":Q,"to-color":ut,"to-number":O,"to-string":K},Zn=function(t,i){this.type=t,this.args=i};Zn.parse=function(t,i){if(t.length<2)return i.error("Expected at least one argument.");var r=t[0];if((r==="to-boolean"||r==="to-string")&&t.length!==2)return i.error("Expected one argument.");for(var u=Un[r],f=[],d=1;d<t.length;d++){var y=i.parse(t[d],d,nt);if(!y)return null;f.push(y)}return new Zn(u,f)},Zn.prototype.evaluate=function(t){if(this.type.kind==="boolean")return!!this.args[0].evaluate(t);if(this.type.kind==="color"){for(var i,r,u=0,f=this.args;u<f.length;u+=1){if(r=null,(i=f[u].evaluate(t))instanceof Ht)return i;if(typeof i=="string"){var d=t.parseColor(i);if(d)return d}else if(Array.isArray(i)&&!(r=i.length<3||i.length>4?"Invalid rbga value "+JSON.stringify(i)+": expected an array containing either three or four numeric values.":Ri(i[0],i[1],i[2],i[3])))return new Ht(i[0]/255,i[1]/255,i[2]/255,i[3])}throw new Ve(r||"Could not parse color from value '"+(typeof i=="string"?i:String(JSON.stringify(i)))+"'")}if(this.type.kind==="number"){for(var y=null,x=0,S=this.args;x<S.length;x+=1){if((y=S[x].evaluate(t))===null)return 0;var A=Number(y);if(!isNaN(A))return A}throw new Ve("Could not convert "+JSON.stringify(y)+" to number.")}return this.type.kind==="formatted"?Le.fromString(vi(this.args[0].evaluate(t))):this.type.kind==="resolvedImage"?Me.fromString(vi(this.args[0].evaluate(t))):vi(this.args[0].evaluate(t))},Zn.prototype.eachChild=function(t){this.args.forEach(t)},Zn.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.args.map((function(i){return i.possibleOutputs()})))},Zn.prototype.serialize=function(){if(this.type.kind==="formatted")return new en([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Qe(this.args[0]).serialize();var t=["to-"+this.type.kind];return this.eachChild((function(i){t.push(i.serialize())})),t};var Sn=["Unknown","Point","LineString","Polygon"],Va=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null};Va.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Va.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?Sn[this.feature.type]:this.feature.type:null},Va.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Va.prototype.parseColor=function(t){var i=this._parseColorCache[t];return i||(i=this._parseColorCache[t]=Ht.parse(t)),i};var Gn=function(t,i,r,u){this.name=t,this.type=i,this._evaluate=r,this.args=u};Gn.prototype.evaluate=function(t){return this._evaluate(t,this.args)},Gn.prototype.eachChild=function(t){this.args.forEach(t)},Gn.prototype.possibleOutputs=function(){return[void 0]},Gn.prototype.serialize=function(){return[this.name].concat(this.args.map((function(t){return t.serialize()})))},Gn.parse=function(t,i){var r,u=t[0],f=Gn.definitions[u];if(!f)return i.error('Unknown expression "'+u+'". If you wanted a literal array, use ["literal", [...]].',0);for(var d=Array.isArray(f)?f[0]:f.type,y=Array.isArray(f)?[[f[1],f[2]]]:f.overloads,x=y.filter((function(ie){var se=ie[0];return!Array.isArray(se)||se.length===t.length-1})),S=null,A=0,M=x;A<M.length;A+=1){var B=M[A],F=B[0],U=B[1];S=new Co(i.registry,i.path,null,i.scope);for(var V=[],J=!1,W=1;W<t.length;W++){var et=t[W],mt=Array.isArray(F)?F[W-1]:F.type,vt=S.parse(et,1+V.length,mt);if(!vt){J=!0;break}V.push(vt)}if(!J)if(Array.isArray(F)&&F.length!==V.length)S.error("Expected "+F.length+" arguments, but found "+V.length+" instead.");else{for(var gt=0;gt<V.length;gt++){var Lt=Array.isArray(F)?F[gt]:F.type,Ot=V[gt];S.concat(gt+1).checkSubtype(Lt,Ot.type)}if(S.errors.length===0)return new Gn(u,d,U,V)}}if(x.length===1)(r=i.errors).push.apply(r,S.errors);else{for(var kt=(x.length?x:y).map((function(ie){var se,te=ie[0];return se=te,Array.isArray(se)?"("+se.map(Ft).join(", ")+")":"("+Ft(se.type)+"...)"})).join(" | "),Wt=[],$t=1;$t<t.length;$t++){var oe=i.parse(t[$t],1+Wt.length);if(!oe)return null;Wt.push(Ft(oe.type))}i.error("Expected arguments of type "+kt+", but found ("+Wt.join(", ")+") instead.")}return null},Gn.register=function(t,i){for(var r in Gn.definitions=i,i)t[r]=Gn};var za=function(t,i,r){this.type=dt,this.locale=r,this.caseSensitive=t,this.diacriticSensitive=i};function Ca(t){if(t instanceof Gn&&(t.name==="get"&&t.args.length===1||t.name==="feature-state"||t.name==="has"&&t.args.length===1||t.name==="properties"||t.name==="geometry-type"||t.name==="id"||/^filter-/.test(t.name)))return!1;var i=!0;return t.eachChild((function(r){i&&!Ca(r)&&(i=!1)})),i}function Hn(t){if(t instanceof Gn&&t.name==="feature-state")return!1;var i=!0;return t.eachChild((function(r){i&&!Hn(r)&&(i=!1)})),i}function ho(t,i){if(t instanceof Gn&&i.indexOf(t.name)>=0)return!1;var r=!0;return t.eachChild((function(u){r&&!ho(u,i)&&(r=!1)})),r}za.parse=function(t,i){if(t.length!==2)return i.error("Expected one argument.");var r=t[1];if(typeof r!="object"||Array.isArray(r))return i.error("Collator options argument must be an object.");var u=i.parse(r["case-sensitive"]!==void 0&&r["case-sensitive"],1,Q);if(!u)return null;var f=i.parse(r["diacritic-sensitive"]!==void 0&&r["diacritic-sensitive"],1,Q);if(!f)return null;var d=null;return r.locale&&!(d=i.parse(r.locale,1,K))?null:new za(u,f,d)},za.prototype.evaluate=function(t){return new De(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},za.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},za.prototype.possibleOutputs=function(){return[void 0]},za.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]};var Hr=function(t,i){this.type=i.type,this.name=t,this.boundExpression=i};Hr.parse=function(t,i){if(t.length!==2||typeof t[1]!="string")return i.error("'var' expression requires exactly one string literal argument.");var r=t[1];return i.scope.has(r)?new Hr(r,i.scope.get(r)):i.error('Unknown variable "'+r+'". Make sure "'+r+'" has been bound in an enclosing "let" expression before using it.',1)},Hr.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},Hr.prototype.eachChild=function(){},Hr.prototype.possibleOutputs=function(){return[void 0]},Hr.prototype.serialize=function(){return["var",this.name]};var Co=function(t,i,r,u,f){i===void 0&&(i=[]),u===void 0&&(u=new D),f===void 0&&(f=[]),this.registry=t,this.path=i,this.key=i.map((function(d){return"["+d+"]"})).join(""),this.scope=u,this.errors=f,this.expectedType=r};function wl(t,i){for(var r,u,f=t.length-1,d=0,y=f,x=0;d<=y;)if(r=t[x=Math.floor((d+y)/2)],u=t[x+1],r<=i){if(x===f||i<u)return x;d=x+1}else{if(!(r>i))throw new Ve("Input is not a number.");y=x-1}return 0}Co.prototype.parse=function(t,i,r,u,f){return f===void 0&&(f={}),i?this.concat(i,r,u)._parse(t,f):this._parse(t,f)},Co.prototype._parse=function(t,i){function r(A,M,B){return B==="assert"?new ri(M,[A]):B==="coerce"?new Zn(M,[A]):A}if(t!==null&&typeof t!="string"&&typeof t!="boolean"&&typeof t!="number"||(t=["literal",t]),Array.isArray(t)){if(t.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var u=t[0];if(typeof u!="string")return this.error("Expression name must be a string, but found "+typeof u+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var f=this.registry[u];if(f){var d=f.parse(t,this);if(!d)return null;if(this.expectedType){var y=this.expectedType,x=d.type;if(y.kind!=="string"&&y.kind!=="number"&&y.kind!=="boolean"&&y.kind!=="object"&&y.kind!=="array"||x.kind!=="value")if(y.kind!=="color"&&y.kind!=="formatted"&&y.kind!=="resolvedImage"||x.kind!=="value"&&x.kind!=="string"){if(this.checkSubtype(y,x))return null}else d=r(d,y,i.typeAnnotation||"coerce");else d=r(d,y,i.typeAnnotation||"assert")}if(!(d instanceof di)&&d.type.kind!=="resolvedImage"&&(function A(M){if(M instanceof Hr)return A(M.boundExpression);if(M instanceof Gn&&M.name==="error"||M instanceof za)return!1;var B=M instanceof Zn||M instanceof ri,F=!0;return M.eachChild((function(U){F=B?F&&A(U):F&&U instanceof di})),F?Ca(M)&&ho(M,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1})(d)){var S=new Va;try{d=new di(d.type,d.evaluate(S))}catch(A){return this.error(A.message),null}}return d}return this.error('Unknown expression "'+u+'". If you wanted a literal array, use ["literal", [...]].',0)}return t===void 0?this.error("'undefined' value invalid. Use null instead."):typeof t=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof t+" instead.")},Co.prototype.concat=function(t,i,r){var u=typeof t=="number"?this.path.concat(t):this.path,f=r?this.scope.concat(r):this.scope;return new Co(this.registry,u,i||null,f,this.errors)},Co.prototype.error=function(t){for(var i=[],r=arguments.length-1;r-- >0;)i[r]=arguments[r+1];var u=""+this.key+i.map((function(f){return"["+f+"]"})).join("");this.errors.push(new z(u,t))},Co.prototype.checkSubtype=function(t,i){var r=ae(t,i);return r&&this.error(r),r};var fo=function(t,i,r){this.type=t,this.input=i,this.labels=[],this.outputs=[];for(var u=0,f=r;u<f.length;u+=1){var d=f[u],y=d[0],x=d[1];this.labels.push(y),this.outputs.push(x)}};function Mn(t,i,r){return t*(1-r)+i*r}fo.parse=function(t,i){if(t.length-1<4)return i.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return i.error("Expected an even number of arguments.");var r=i.parse(t[1],1,O);if(!r)return null;var u=[],f=null;i.expectedType&&i.expectedType.kind!=="value"&&(f=i.expectedType);for(var d=1;d<t.length;d+=2){var y=d===1?-1/0:t[d],x=t[d+1],S=d,A=d+1;if(typeof y!="number")return i.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',S);if(u.length&&u[u.length-1][0]>=y)return i.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',S);var M=i.parse(x,A,f);if(!M)return null;f=f||M.type,u.push([y,M])}return new fo(f,r,u)},fo.prototype.evaluate=function(t){var i=this.labels,r=this.outputs;if(i.length===1)return r[0].evaluate(t);var u=this.input.evaluate(t);if(u<=i[0])return r[0].evaluate(t);var f=i.length;return u>=i[f-1]?r[f-1].evaluate(t):r[wl(i,u)].evaluate(t)},fo.prototype.eachChild=function(t){t(this.input);for(var i=0,r=this.outputs;i<r.length;i+=1)t(r[i])},fo.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.outputs.map((function(i){return i.possibleOutputs()})))},fo.prototype.serialize=function(){for(var t=["step",this.input.serialize()],i=0;i<this.labels.length;i++)i>0&&t.push(this.labels[i]),t.push(this.outputs[i].serialize());return t};var gu=Object.freeze({__proto__:null,number:Mn,color:function(t,i,r){return new Ht(Mn(t.r,i.r,r),Mn(t.g,i.g,r),Mn(t.b,i.b,r),Mn(t.a,i.a,r))},array:function(t,i,r){return t.map((function(u,f){return Mn(u,i[f],r)}))}}),yc=6/29,Os=3*yc*yc,ya=Math.PI/180,_u=180/Math.PI;function Mo(t){return t>.008856451679035631?Math.pow(t,1/3):t/Os+4/29}function Do(t){return t>yc?t*t*t:Os*(t-4/29)}function qa(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Sl(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Lo(t){var i=Sl(t.r),r=Sl(t.g),u=Sl(t.b),f=Mo((.4124564*i+.3575761*r+.1804375*u)/.95047),d=Mo((.2126729*i+.7151522*r+.072175*u)/1);return{l:116*d-16,a:500*(f-d),b:200*(d-Mo((.0193339*i+.119192*r+.9503041*u)/1.08883)),alpha:t.a}}function Us(t){var i=(t.l+16)/116,r=isNaN(t.a)?i:i+t.a/500,u=isNaN(t.b)?i:i-t.b/200;return i=1*Do(i),r=.95047*Do(r),u=1.08883*Do(u),new Ht(qa(3.2404542*r-1.5371385*i-.4985314*u),qa(-.969266*r+1.8760108*i+.041556*u),qa(.0556434*r-.2040259*i+1.0572252*u),t.alpha)}function Ro(t,i,r){var u=i-t;return t+r*(u>180||u<-180?u-360*Math.round(u/360):u)}var Xr={forward:Lo,reverse:Us,interpolate:function(t,i,r){return{l:Mn(t.l,i.l,r),a:Mn(t.a,i.a,r),b:Mn(t.b,i.b,r),alpha:Mn(t.alpha,i.alpha,r)}}},rs={forward:function(t){var i=Lo(t),r=i.l,u=i.a,f=i.b,d=Math.atan2(f,u)*_u;return{h:d<0?d+360:d,c:Math.sqrt(u*u+f*f),l:r,alpha:t.a}},reverse:function(t){var i=t.h*ya,r=t.c;return Us({l:t.l,a:Math.cos(i)*r,b:Math.sin(i)*r,alpha:t.alpha})},interpolate:function(t,i,r){return{h:Ro(t.h,i.h,r),c:Mn(t.c,i.c,r),l:Mn(t.l,i.l,r),alpha:Mn(t.alpha,i.alpha,r)}}},Ps=Object.freeze({__proto__:null,lab:Xr,hcl:rs}),Ui=function(t,i,r,u,f){this.type=t,this.operator=i,this.interpolation=r,this.input=u,this.labels=[],this.outputs=[];for(var d=0,y=f;d<y.length;d+=1){var x=y[d],S=x[0],A=x[1];this.labels.push(S),this.outputs.push(A)}};function ko(t,i,r,u){var f=u-r,d=t-r;return f===0?0:i===1?d/f:(Math.pow(i,d)-1)/(Math.pow(i,f)-1)}Ui.interpolationFactor=function(t,i,r,u){var f=0;if(t.name==="exponential")f=ko(i,t.base,r,u);else if(t.name==="linear")f=ko(i,1,r,u);else if(t.name==="cubic-bezier"){var d=t.controlPoints;f=new G(d[0],d[1],d[2],d[3]).solve(ko(i,1,r,u))}return f},Ui.parse=function(t,i){var r=t[0],u=t[1],f=t[2],d=t.slice(3);if(!Array.isArray(u)||u.length===0)return i.error("Expected an interpolation type expression.",1);if(u[0]==="linear")u={name:"linear"};else if(u[0]==="exponential"){var y=u[1];if(typeof y!="number")return i.error("Exponential interpolation requires a numeric base.",1,1);u={name:"exponential",base:y}}else{if(u[0]!=="cubic-bezier")return i.error("Unknown interpolation type "+String(u[0]),1,0);var x=u.slice(1);if(x.length!==4||x.some((function(W){return typeof W!="number"||W<0||W>1})))return i.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);u={name:"cubic-bezier",controlPoints:x}}if(t.length-1<4)return i.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return i.error("Expected an even number of arguments.");if(!(f=i.parse(f,2,O)))return null;var S=[],A=null;r==="interpolate-hcl"||r==="interpolate-lab"?A=ut:i.expectedType&&i.expectedType.kind!=="value"&&(A=i.expectedType);for(var M=0;M<d.length;M+=2){var B=d[M],F=d[M+1],U=M+3,V=M+4;if(typeof B!="number")return i.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',U);if(S.length&&S[S.length-1][0]>=B)return i.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',U);var J=i.parse(F,V,A);if(!J)return null;A=A||J.type,S.push([B,J])}return A.kind==="number"||A.kind==="color"||A.kind==="array"&&A.itemType.kind==="number"&&typeof A.N=="number"?new Ui(A,r,u,f,S):i.error("Type "+Ft(A)+" is not interpolatable.")},Ui.prototype.evaluate=function(t){var i=this.labels,r=this.outputs;if(i.length===1)return r[0].evaluate(t);var u=this.input.evaluate(t);if(u<=i[0])return r[0].evaluate(t);var f=i.length;if(u>=i[f-1])return r[f-1].evaluate(t);var d=wl(i,u),y=i[d],x=i[d+1],S=Ui.interpolationFactor(this.interpolation,u,y,x),A=r[d].evaluate(t),M=r[d+1].evaluate(t);return this.operator==="interpolate"?gu[this.type.kind.toLowerCase()](A,M,S):this.operator==="interpolate-hcl"?rs.reverse(rs.interpolate(rs.forward(A),rs.forward(M),S)):Xr.reverse(Xr.interpolate(Xr.forward(A),Xr.forward(M),S))},Ui.prototype.eachChild=function(t){t(this.input);for(var i=0,r=this.outputs;i<r.length;i+=1)t(r[i])},Ui.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.outputs.map((function(i){return i.possibleOutputs()})))},Ui.prototype.serialize=function(){var t;t=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var i=[this.operator,t,this.input.serialize()],r=0;r<this.labels.length;r++)i.push(this.labels[r],this.outputs[r].serialize());return i};var Yr=function(t,i){this.type=t,this.args=i};Yr.parse=function(t,i){if(t.length<2)return i.error("Expectected at least one argument.");var r=null,u=i.expectedType;u&&u.kind!=="value"&&(r=u);for(var f=[],d=0,y=t.slice(1);d<y.length;d+=1){var x=y[d],S=i.parse(x,1+f.length,r,void 0,{typeAnnotation:"omit"});if(!S)return null;r=r||S.type,f.push(S)}var A=u&&f.some((function(M){return ae(u,M.type)}));return new Yr(A?nt:r,f)},Yr.prototype.evaluate=function(t){for(var i,r=null,u=0,f=0,d=this.args;f<d.length&&(u++,(r=d[f].evaluate(t))&&r instanceof Me&&!r.available&&(i||(i=r.name),r=null,u===this.args.length&&(r=i)),r===null);f+=1);return r},Yr.prototype.eachChild=function(t){this.args.forEach(t)},Yr.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.args.map((function(i){return i.possibleOutputs()})))},Yr.prototype.serialize=function(){var t=["coalesce"];return this.eachChild((function(i){t.push(i.serialize())})),t};var mo=function(t,i){this.type=i.type,this.bindings=[].concat(t),this.result=i};mo.prototype.evaluate=function(t){return this.result.evaluate(t)},mo.prototype.eachChild=function(t){for(var i=0,r=this.bindings;i<r.length;i+=1)t(r[i][1]);t(this.result)},mo.parse=function(t,i){if(t.length<4)return i.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var r=[],u=1;u<t.length-1;u+=2){var f=t[u];if(typeof f!="string")return i.error("Expected string, but found "+typeof f+" instead.",u);if(/[^a-zA-Z0-9_]/.test(f))return i.error("Variable names must contain only alphanumeric characters or '_'.",u);var d=i.parse(t[u+1],u+1);if(!d)return null;r.push([f,d])}var y=i.parse(t[t.length-1],t.length-1,i.expectedType,r);return y?new mo(r,y):null},mo.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},mo.prototype.serialize=function(){for(var t=["let"],i=0,r=this.bindings;i<r.length;i+=1){var u=r[i],f=u[0],d=u[1];t.push(f,d.serialize())}return t.push(this.result.serialize()),t};var ja=function(t,i,r){this.type=t,this.index=i,this.input=r};ja.parse=function(t,i){if(t.length!==3)return i.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var r=i.parse(t[1],1,O),u=i.parse(t[2],2,At(i.expectedType||nt));if(!r||!u)return null;var f=u.type;return new ja(f.itemType,r,u)},ja.prototype.evaluate=function(t){var i=this.index.evaluate(t),r=this.input.evaluate(t);if(i<0)throw new Ve("Array index out of bounds: "+i+" < 0.");if(i>=r.length)throw new Ve("Array index out of bounds: "+i+" > "+(r.length-1)+".");if(i!==Math.floor(i))throw new Ve("Array index must be an integer, but found "+i+" instead.");return r[i]},ja.prototype.eachChild=function(t){t(this.index),t(this.input)},ja.prototype.possibleOutputs=function(){return[void 0]},ja.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Za=function(t,i){this.type=Q,this.needle=t,this.haystack=i};Za.parse=function(t,i){if(t.length!==3)return i.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var r,u=i.parse(t[1],1,nt),f=i.parse(t[2],2,nt);return u&&f?(r=u.type).kind!=="boolean"&&r.kind!=="string"&&r.kind!=="number"&&r.kind!=="null"&&r.kind!=="value"?i.error("Expected first argument to be of type boolean, string, number or null, but found "+Ft(u.type)+" instead"):new Za(u,f):null},Za.prototype.evaluate=function(t){var i=this.needle.evaluate(t),r=this.haystack.evaluate(t);if(!i||!r)return!1;if(!(function(u){return typeof u=="boolean"||typeof u=="string"||typeof u=="number"})(i))throw new Ve("Expected first argument to be of type boolean, string or number, but found "+Ft(Re(i))+" instead.");if(!(function(u){return Array.isArray(u)||typeof u=="string"})(r))throw new Ve("Expected second argument to be of type array or string, but found "+Ft(Re(r))+" instead.");return r.indexOf(i)>=0},Za.prototype.eachChild=function(t){t(this.needle),t(this.haystack)},Za.prototype.possibleOutputs=function(){return[!0,!1]},Za.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Io=function(t,i,r,u,f,d){this.inputType=t,this.type=i,this.input=r,this.cases=u,this.outputs=f,this.otherwise=d};Io.parse=function(t,i){if(t.length<5)return i.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return i.error("Expected an even number of arguments.");var r,u;i.expectedType&&i.expectedType.kind!=="value"&&(u=i.expectedType);for(var f={},d=[],y=2;y<t.length-1;y+=2){var x=t[y],S=t[y+1];Array.isArray(x)||(x=[x]);var A=i.concat(y);if(x.length===0)return A.error("Expected at least one branch label.");for(var M=0,B=x;M<B.length;M+=1){var F=B[M];if(typeof F!="number"&&typeof F!="string")return A.error("Branch labels must be numbers or strings.");if(typeof F=="number"&&Math.abs(F)>Number.MAX_SAFE_INTEGER)return A.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof F=="number"&&Math.floor(F)!==F)return A.error("Numeric branch labels must be integer values.");if(r){if(A.checkSubtype(r,Re(F)))return null}else r=Re(F);if(f[String(F)]!==void 0)return A.error("Branch labels must be unique.");f[String(F)]=d.length}var U=i.parse(S,y,u);if(!U)return null;u=u||U.type,d.push(U)}var V=i.parse(t[1],1,nt);if(!V)return null;var J=i.parse(t[t.length-1],t.length-1,u);return J?V.type.kind!=="value"&&i.concat(1).checkSubtype(r,V.type)?null:new Io(r,u,V,f,d,J):null},Io.prototype.evaluate=function(t){var i=this.input.evaluate(t);return(Re(i)===this.inputType&&this.outputs[this.cases[i]]||this.otherwise).evaluate(t)},Io.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},Io.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.outputs.map((function(i){return i.possibleOutputs()}))).concat(this.otherwise.possibleOutputs())},Io.prototype.serialize=function(){for(var t=this,i=["match",this.input.serialize()],r=[],u={},f=0,d=Object.keys(this.cases).sort();f<d.length;f+=1){var y=d[f];(B=u[this.cases[y]])===void 0?(u[this.cases[y]]=r.length,r.push([this.cases[y],[y]])):r[B][1].push(y)}for(var x=function(U){return t.inputType.kind==="number"?Number(U):U},S=0,A=r;S<A.length;S+=1){var M=A[S],B=M[0],F=M[1];F.length===1?i.push(x(F[0])):i.push(F.map(x)),i.push(this.outputs[outputIndex$1].serialize())}return i.push(this.otherwise.serialize()),i};var Pn=function(t,i,r){this.type=t,this.branches=i,this.otherwise=r};function Bo(t,i){return t==="=="||t==="!="?i.kind==="boolean"||i.kind==="string"||i.kind==="number"||i.kind==="null"||i.kind==="value":i.kind==="string"||i.kind==="number"||i.kind==="value"}function El(t,i,r,u){return u.compare(i,r)===0}function Ga(t,i,r){var u=t!=="=="&&t!=="!=";return(function(){function f(d,y,x){this.type=Q,this.lhs=d,this.rhs=y,this.collator=x,this.hasUntypedArgument=d.type.kind==="value"||y.type.kind==="value"}return f.parse=function(d,y){if(d.length!==3&&d.length!==4)return y.error("Expected two or three arguments.");var x=d[0],S=y.parse(d[1],1,nt);if(!S)return null;if(!Bo(x,S.type))return y.concat(1).error('"'+x+`" comparisons are not supported for type '`+Ft(S.type)+"'.");var A=y.parse(d[2],2,nt);if(!A)return null;if(!Bo(x,A.type))return y.concat(2).error('"'+x+`" comparisons are not supported for type '`+Ft(A.type)+"'.");if(S.type.kind!==A.type.kind&&S.type.kind!=="value"&&A.type.kind!=="value")return y.error("Cannot compare types '"+Ft(S.type)+"' and '"+Ft(A.type)+"'.");u&&(S.type.kind==="value"&&A.type.kind!=="value"?S=new ri(A.type,[S]):S.type.kind!=="value"&&A.type.kind==="value"&&(A=new ri(S.type,[A])));var M=null;if(d.length===4){if(S.type.kind!=="string"&&A.type.kind!=="string"&&S.type.kind!=="value"&&A.type.kind!=="value")return y.error("Cannot use collator to compare non-string types.");if(!(M=y.parse(d[3],3,dt)))return null}return new f(S,A,M)},f.prototype.evaluate=function(d){var y=this.lhs.evaluate(d),x=this.rhs.evaluate(d);if(u&&this.hasUntypedArgument){var S=Re(y),A=Re(x);if(S.kind!==A.kind||S.kind!=="string"&&S.kind!=="number")throw new Ve('Expected arguments for "'+t+'" to be (string, string) or (number, number), but found ('+S.kind+", "+A.kind+") instead.")}if(this.collator&&!u&&this.hasUntypedArgument){var M=Re(y),B=Re(x);if(M.kind!=="string"||B.kind!=="string")return i(d,y,x)}return this.collator?r(d,y,x,this.collator.evaluate(d)):i(d,y,x)},f.prototype.eachChild=function(d){d(this.lhs),d(this.rhs),this.collator&&d(this.collator)},f.prototype.possibleOutputs=function(){return[!0,!1]},f.prototype.serialize=function(){var d=[t];return this.eachChild((function(y){d.push(y.serialize())})),d},f})()}Pn.parse=function(t,i){if(t.length<4)return i.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return i.error("Expected an odd number of arguments.");var r;i.expectedType&&i.expectedType.kind!=="value"&&(r=i.expectedType);for(var u=[],f=1;f<t.length-1;f+=2){var d=i.parse(t[f],f,Q);if(!d)return null;var y=i.parse(t[f+1],f+1,r);if(!y)return null;u.push([d,y]),r=r||y.type}var x=i.parse(t[t.length-1],t.length-1,r);return x?new Pn(r,u,x):null},Pn.prototype.evaluate=function(t){for(var i=0,r=this.branches;i<r.length;i+=1){var u=r[i],f=u[0],d=u[1];if(f.evaluate(t))return d.evaluate(t)}return this.otherwise.evaluate(t)},Pn.prototype.eachChild=function(t){for(var i=0,r=this.branches;i<r.length;i+=1){var u=r[i],f=u[0],d=u[1];t(f),t(d)}t(this.otherwise)},Pn.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.branches.map((function(i){return i[0],i[1].possibleOutputs()}))).concat(this.otherwise.possibleOutputs())},Pn.prototype.serialize=function(){var t=["case"];return this.eachChild((function(i){t.push(i.serialize())})),t};var rh=Ga("==",(function(t,i,r){return i===r}),El),vc=Ga("!=",(function(t,i,r){return i!==r}),(function(t,i,r,u){return!El(0,i,r,u)})),gc=Ga("<",(function(t,i,r){return i<r}),(function(t,i,r,u){return u.compare(i,r)<0})),Tl=Ga(">",(function(t,i,r){return i>r}),(function(t,i,r,u){return u.compare(i,r)>0})),xu=Ga("<=",(function(t,i,r){return i<=r}),(function(t,i,r,u){return u.compare(i,r)<=0})),$c=Ga(">=",(function(t,i,r){return i>=r}),(function(t,i,r,u){return u.compare(i,r)>=0})),as=function(t,i,r,u,f){this.type=K,this.number=t,this.locale=i,this.currency=r,this.minFractionDigits=u,this.maxFractionDigits=f};as.parse=function(t,i){if(t.length!==3)return i.error("Expected two arguments.");var r=i.parse(t[1],1,O);if(!r)return null;var u=t[2];if(typeof u!="object"||Array.isArray(u))return i.error("NumberFormat options argument must be an object.");var f=null;if(u.locale&&!(f=i.parse(u.locale,1,K)))return null;var d=null;if(u.currency&&!(d=i.parse(u.currency,1,K)))return null;var y=null;if(u["min-fraction-digits"]&&!(y=i.parse(u["min-fraction-digits"],1,O)))return null;var x=null;return u["max-fraction-digits"]&&!(x=i.parse(u["max-fraction-digits"],1,O))?null:new as(r,f,d,y,x)},as.prototype.evaluate=function(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))},as.prototype.eachChild=function(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)},as.prototype.possibleOutputs=function(){return[void 0]},as.prototype.serialize=function(){var t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]};var os=function(t){this.type=O,this.input=t};os.parse=function(t,i){if(t.length!==2)return i.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var r=i.parse(t[1],1);return r?r.type.kind!=="array"&&r.type.kind!=="string"&&r.type.kind!=="value"?i.error("Expected argument of type string or array, but found "+Ft(r.type)+" instead."):new os(r):null},os.prototype.evaluate=function(t){var i=this.input.evaluate(t);if(typeof i=="string"||Array.isArray(i))return i.length;throw new Ve("Expected value to be of type string or array, but found "+Ft(Re(i))+" instead.")},os.prototype.eachChild=function(t){t(this.input)},os.prototype.possibleOutputs=function(){return[void 0]},os.prototype.serialize=function(){var t=["length"];return this.eachChild((function(i){t.push(i.serialize())})),t};var Ns={"==":rh,"!=":vc,">":Tl,"<":gc,">=":$c,"<=":xu,array:ri,at:ja,boolean:ri,case:Pn,coalesce:Yr,collator:za,format:en,image:Qe,in:Za,interpolate:Ui,"interpolate-hcl":Ui,"interpolate-lab":Ui,length:os,let:mo,literal:di,match:Io,number:ri,"number-format":as,object:ri,step:fo,string:ri,"to-boolean":Zn,"to-color":Zn,"to-number":Zn,"to-string":Zn,var:Hr};function bu(t,i){var r=i[0],u=i[1],f=i[2],d=i[3];r=r.evaluate(t),u=u.evaluate(t),f=f.evaluate(t);var y=d?d.evaluate(t):1,x=Ri(r,u,f,y);if(x)throw new Ve(x);return new Ht(r/255*y,u/255*y,f/255*y,y)}function tp(t,i){return t in i}function _c(t,i){var r=i[t];return r===void 0?null:r}function ss(t){return{type:t}}function xc(t){return{result:"success",value:t}}function Fs(t){return{result:"error",value:t}}function ls(t){return t["property-type"]==="data-driven"||t["property-type"]==="cross-faded-data-driven"}function ep(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function Yi(t){return!!t.expression&&t.expression.interpolated}function Ki(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":t===null?"null":typeof t}function us(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function wu(t){return t}function Vs(t,i,r){return t!==void 0?t:i!==void 0?i:r!==void 0?r:void 0}function ip(t,i,r,u,f){return Vs(typeof r===f?u[r]:void 0,t.default,i.default)}function ah(t,i,r){if(Ki(r)!=="number")return Vs(t.default,i.default);var u=t.stops.length;if(u===1||r<=t.stops[0][0])return t.stops[0][1];if(r>=t.stops[u-1][0])return t.stops[u-1][1];var f=wl(t.stops.map((function(d){return d[0]})),r);return t.stops[f][1]}function Su(t,i,r){var u=t.base!==void 0?t.base:1;if(Ki(r)!=="number")return Vs(t.default,i.default);var f=t.stops.length;if(f===1||r<=t.stops[0][0])return t.stops[0][1];if(r>=t.stops[f-1][0])return t.stops[f-1][1];var d=wl(t.stops.map((function(B){return B[0]})),r),y=(function(B,F,U,V){var J=V-U,W=B-U;return J===0?0:F===1?W/J:(Math.pow(F,W)-1)/(Math.pow(F,J)-1)})(r,u,t.stops[d][0],t.stops[d+1][0]),x=t.stops[d][1],S=t.stops[d+1][1],A=gu[i.type]||wu;if(t.colorSpace&&t.colorSpace!=="rgb"){var M=Ps[t.colorSpace];A=function(B,F){return M.reverse(M.interpolate(M.forward(B),M.forward(F),y))}}return typeof x.evaluate=="function"?{evaluate:function(){for(var B=[],F=arguments.length;F--;)B[F]=arguments[F];var U=x.evaluate.apply(void 0,B),V=S.evaluate.apply(void 0,B);if(U!==void 0&&V!==void 0)return A(U,V,y)}}:A(x,S,y)}function np(t,i,r){return i.type==="color"?r=Ht.parse(r):i.type==="formatted"?r=Le.fromString(r.toString()):i.type==="resolvedImage"?r=Me.fromString(r.toString()):Ki(r)===i.type||i.type==="enum"&&i.values[r]||(r=void 0),Vs(r,t.default,i.default)}Gn.register(Ns,{error:[{kind:"error"},[K],function(t,i){var r=i[0];throw new Ve(r.evaluate(t))}],typeof:[K,[nt],function(t,i){return Ft(Re(i[0].evaluate(t)))}],"to-rgba":[At(O,4),[ut],function(t,i){return i[0].evaluate(t).toArray()}],rgb:[ut,[O,O,O],bu],rgba:[ut,[O,O,O,O],bu],has:{type:Q,overloads:[[[K],function(t,i){return tp(i[0].evaluate(t),t.properties())}],[[K,ot],function(t,i){var r=i[0],u=i[1];return tp(r.evaluate(t),u.evaluate(t))}]]},get:{type:nt,overloads:[[[K],function(t,i){return _c(i[0].evaluate(t),t.properties())}],[[K,ot],function(t,i){var r=i[0],u=i[1];return _c(r.evaluate(t),u.evaluate(t))}]]},"feature-state":[nt,[K],function(t,i){return _c(i[0].evaluate(t),t.featureState||{})}],properties:[ot,[],function(t){return t.properties()}],"geometry-type":[K,[],function(t){return t.geometryType()}],id:[nt,[],function(t){return t.id()}],zoom:[O,[],function(t){return t.globals.zoom}],"heatmap-density":[O,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[O,[],function(t){return t.globals.lineProgress||0}],accumulated:[nt,[],function(t){return t.globals.accumulated===void 0?null:t.globals.accumulated}],"+":[O,ss(O),function(t,i){for(var r=0,u=0,f=i;u<f.length;u+=1)r+=f[u].evaluate(t);return r}],"*":[O,ss(O),function(t,i){for(var r=1,u=0,f=i;u<f.length;u+=1)r*=f[u].evaluate(t);return r}],"-":{type:O,overloads:[[[O,O],function(t,i){var r=i[0],u=i[1];return r.evaluate(t)-u.evaluate(t)}],[[O],function(t,i){return-i[0].evaluate(t)}]]},"/":[O,[O,O],function(t,i){var r=i[0],u=i[1];return r.evaluate(t)/u.evaluate(t)}],"%":[O,[O,O],function(t,i){var r=i[0],u=i[1];return r.evaluate(t)%u.evaluate(t)}],ln2:[O,[],function(){return Math.LN2}],pi:[O,[],function(){return Math.PI}],e:[O,[],function(){return Math.E}],"^":[O,[O,O],function(t,i){var r=i[0],u=i[1];return Math.pow(r.evaluate(t),u.evaluate(t))}],sqrt:[O,[O],function(t,i){var r=i[0];return Math.sqrt(r.evaluate(t))}],log10:[O,[O],function(t,i){var r=i[0];return Math.log(r.evaluate(t))/Math.LN10}],ln:[O,[O],function(t,i){var r=i[0];return Math.log(r.evaluate(t))}],log2:[O,[O],function(t,i){var r=i[0];return Math.log(r.evaluate(t))/Math.LN2}],sin:[O,[O],function(t,i){var r=i[0];return Math.sin(r.evaluate(t))}],cos:[O,[O],function(t,i){var r=i[0];return Math.cos(r.evaluate(t))}],tan:[O,[O],function(t,i){var r=i[0];return Math.tan(r.evaluate(t))}],asin:[O,[O],function(t,i){var r=i[0];return Math.asin(r.evaluate(t))}],acos:[O,[O],function(t,i){var r=i[0];return Math.acos(r.evaluate(t))}],atan:[O,[O],function(t,i){var r=i[0];return Math.atan(r.evaluate(t))}],min:[O,ss(O),function(t,i){return Math.min.apply(Math,i.map((function(r){return r.evaluate(t)})))}],max:[O,ss(O),function(t,i){return Math.max.apply(Math,i.map((function(r){return r.evaluate(t)})))}],abs:[O,[O],function(t,i){var r=i[0];return Math.abs(r.evaluate(t))}],round:[O,[O],function(t,i){var r=i[0].evaluate(t);return r<0?-Math.round(-r):Math.round(r)}],floor:[O,[O],function(t,i){var r=i[0];return Math.floor(r.evaluate(t))}],ceil:[O,[O],function(t,i){var r=i[0];return Math.ceil(r.evaluate(t))}],"filter-==":[Q,[K,nt],function(t,i){var r=i[0],u=i[1];return t.properties()[r.value]===u.value}],"filter-id-==":[Q,[nt],function(t,i){var r=i[0];return t.id()===r.value}],"filter-type-==":[Q,[K],function(t,i){var r=i[0];return t.geometryType()===r.value}],"filter-<":[Q,[K,nt],function(t,i){var r=i[0],u=i[1],f=t.properties()[r.value],d=u.value;return typeof f==typeof d&&f<d}],"filter-id-<":[Q,[nt],function(t,i){var r=i[0],u=t.id(),f=r.value;return typeof u==typeof f&&u<f}],"filter->":[Q,[K,nt],function(t,i){var r=i[0],u=i[1],f=t.properties()[r.value],d=u.value;return typeof f==typeof d&&f>d}],"filter-id->":[Q,[nt],function(t,i){var r=i[0],u=t.id(),f=r.value;return typeof u==typeof f&&u>f}],"filter-<=":[Q,[K,nt],function(t,i){var r=i[0],u=i[1],f=t.properties()[r.value],d=u.value;return typeof f==typeof d&&f<=d}],"filter-id-<=":[Q,[nt],function(t,i){var r=i[0],u=t.id(),f=r.value;return typeof u==typeof f&&u<=f}],"filter->=":[Q,[K,nt],function(t,i){var r=i[0],u=i[1],f=t.properties()[r.value],d=u.value;return typeof f==typeof d&&f>=d}],"filter-id->=":[Q,[nt],function(t,i){var r=i[0],u=t.id(),f=r.value;return typeof u==typeof f&&u>=f}],"filter-has":[Q,[nt],function(t,i){return i[0].value in t.properties()}],"filter-has-id":[Q,[],function(t){return t.id()!==null}],"filter-type-in":[Q,[At(K)],function(t,i){return i[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[Q,[At(nt)],function(t,i){return i[0].value.indexOf(t.id())>=0}],"filter-in-small":[Q,[K,At(nt)],function(t,i){var r=i[0];return i[1].value.indexOf(t.properties()[r.value])>=0}],"filter-in-large":[Q,[K,At(nt)],function(t,i){var r=i[0],u=i[1];return(function(f,d,y,x){for(;y<=x;){var S=y+x>>1;if(d[S]===f)return!0;d[S]>f?x=S-1:y=S+1}return!1})(t.properties()[r.value],u.value,0,u.value.length-1)}],all:{type:Q,overloads:[[[Q,Q],function(t,i){var r=i[0],u=i[1];return r.evaluate(t)&&u.evaluate(t)}],[ss(Q),function(t,i){for(var r=0,u=i;r<u.length;r+=1)if(!u[r].evaluate(t))return!1;return!0}]]},any:{type:Q,overloads:[[[Q,Q],function(t,i){var r=i[0],u=i[1];return r.evaluate(t)||u.evaluate(t)}],[ss(Q),function(t,i){for(var r=0,u=i;r<u.length;r+=1)if(u[r].evaluate(t))return!0;return!1}]]},"!":[Q,[Q],function(t,i){return!i[0].evaluate(t)}],"is-supported-script":[Q,[K],function(t,i){var r=i[0],u=t.globals&&t.globals.isSupportedScript;return!u||u(r.evaluate(t))}],upcase:[K,[K],function(t,i){return i[0].evaluate(t).toUpperCase()}],downcase:[K,[K],function(t,i){return i[0].evaluate(t).toLowerCase()}],concat:[K,ss(nt),function(t,i){return i.map((function(r){return vi(r.evaluate(t))})).join("")}],"resolved-locale":[K,[dt],function(t,i){return i[0].evaluate(t).resolvedLocale()}]});var Al=function(t,i){this.expression=t,this._warningHistory={},this._evaluator=new Va,this._defaultValue=i?(function(r){return r.type==="color"&&us(r.default)?new Ht(0,0,0,0):r.type==="color"?Ht.parse(r.default)||null:r.default===void 0?null:r.default})(i):null,this._enumValues=i&&i.type==="enum"?i.values:null};function Eu(t){return Array.isArray(t)&&t.length>0&&typeof t[0]=="string"&&t[0]in Ns}function Tu(t,i){var r=new Co(Ns,[],i?(function(f){var d={color:ut,string:K,number:O,enum:K,boolean:Q,formatted:Dt,resolvedImage:Nt};return f.type==="array"?At(d[f.value]||nt,f.length):d[f.type]})(i):void 0),u=r.parse(t,void 0,void 0,void 0,i&&i.type==="string"?{typeAnnotation:"coerce"}:void 0);return u?xc(new Al(u,i)):Fs(r.errors)}Al.prototype.evaluateWithoutErrorHandling=function(t,i,r,u,f){return this._evaluator.globals=t,this._evaluator.feature=i,this._evaluator.featureState=r,this._evaluator.availableImages=u||null,this._evaluator.formattedSection=f,this.expression.evaluate(this._evaluator)},Al.prototype.evaluate=function(t,i,r,u,f){this._evaluator.globals=t,this._evaluator.feature=i||null,this._evaluator.featureState=r||null,this._evaluator.availableImages=u||null,this._evaluator.formattedSection=f||null;try{var d=this.expression.evaluate(this._evaluator);if(d==null||typeof d=="number"&&d!=d)return this._defaultValue;if(this._enumValues&&!(d in this._enumValues))throw new Ve("Expected value to be one of "+Object.keys(this._enumValues).map((function(y){return JSON.stringify(y)})).join(", ")+", but found "+JSON.stringify(d)+" instead.");return d}catch(y){return this._warningHistory[y.message]||(this._warningHistory[y.message]=!0,typeof console<"u"&&console.warn(y.message)),this._defaultValue}};var qs=function(t,i){this.kind=t,this._styleExpression=i,this.isStateDependent=t!=="constant"&&!Hn(i.expression)};qs.prototype.evaluateWithoutErrorHandling=function(t,i,r,u,f){return this._styleExpression.evaluateWithoutErrorHandling(t,i,r,u,f)},qs.prototype.evaluate=function(t,i,r,u,f){return this._styleExpression.evaluate(t,i,r,u,f)};var js=function(t,i,r,u){this.kind=t,this.zoomStops=r,this._styleExpression=i,this.isStateDependent=t!=="camera"&&!Hn(i.expression),this.interpolationType=u};function Au(t,i){if((t=Tu(t,i)).result==="error")return t;var r=t.value.expression,u=Ca(r);if(!u&&!ls(i))return Fs([new z("","data expressions not supported")]);var f=ho(r,["zoom"]);if(!f&&!ep(i))return Fs([new z("","zoom expressions not supported")]);var d=(function x(S){var A=null;if(S instanceof mo)A=x(S.result);else if(S instanceof Yr)for(var M=0,B=S.args;M<B.length;M+=1){var F=B[M];if(A=x(F))break}else(S instanceof fo||S instanceof Ui)&&S.input instanceof Gn&&S.input.name==="zoom"&&(A=S);return A instanceof z||S.eachChild((function(U){var V=x(U);V instanceof z?A=V:!A&&V?A=new z("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):A&&V&&A!==V&&(A=new z("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),A})(r);if(!d&&!f)return Fs([new z("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(d instanceof z)return Fs([d]);if(d instanceof Ui&&!Yi(i))return Fs([new z("",'"interpolate" expressions cannot be used with this property')]);if(!d)return xc(new qs(u?"constant":"source",t.value));var y=d instanceof Ui?d.interpolation:void 0;return xc(new js(u?"camera":"composite",t.value,d.labels,y))}js.prototype.evaluateWithoutErrorHandling=function(t,i,r,u,f){return this._styleExpression.evaluateWithoutErrorHandling(t,i,r,u,f)},js.prototype.evaluate=function(t,i,r,u,f){return this._styleExpression.evaluate(t,i,r,u,f)},js.prototype.interpolationFactor=function(t,i,r){return this.interpolationType?Ui.interpolationFactor(this.interpolationType,t,i,r):0};var Zs=function(t,i){this._parameters=t,this._specification=i,Aa(this,(function r(u,f){var d,y,x,S=f.type==="color",A=u.stops&&typeof u.stops[0][0]=="object",M=A||u.property!==void 0,B=A||!M,F=u.type||(Yi(f)?"exponential":"interval");if(S&&((u=Aa({},u)).stops&&(u.stops=u.stops.map((function(ie){return[ie[0],Ht.parse(ie[1])]}))),u.default?u.default=Ht.parse(u.default):u.default=Ht.parse(f.default)),u.colorSpace&&u.colorSpace!=="rgb"&&!Ps[u.colorSpace])throw new Error("Unknown color space: "+u.colorSpace);if(F==="exponential")d=Su;else if(F==="interval")d=ah;else if(F==="categorical"){d=ip,y=Object.create(null);for(var U=0,V=u.stops;U<V.length;U+=1){var J=V[U];y[J[0]]=J[1]}x=typeof u.stops[0][0]}else{if(F!=="identity")throw new Error('Unknown function type "'+F+'"');d=np}if(A){for(var W={},et=[],mt=0;mt<u.stops.length;mt++){var vt=u.stops[mt],gt=vt[0].zoom;W[gt]===void 0&&(W[gt]={zoom:gt,type:u.type,property:u.property,default:u.default,stops:[]},et.push(gt)),W[gt].stops.push([vt[0].value,vt[1]])}for(var Lt=[],Ot=0,kt=et;Ot<kt.length;Ot+=1){var Wt=kt[Ot];Lt.push([W[Wt].zoom,r(W[Wt],f)])}var $t={name:"linear"};return{kind:"composite",interpolationType:$t,interpolationFactor:Ui.interpolationFactor.bind(void 0,$t),zoomStops:Lt.map((function(ie){return ie[0]})),evaluate:function(ie,se){var te=ie.zoom;return Su({stops:Lt,base:u.base},f,te).evaluate(te,se)}}}if(B){var oe=F==="exponential"?{name:"exponential",base:u.base!==void 0?u.base:1}:null;return{kind:"camera",interpolationType:oe,interpolationFactor:Ui.interpolationFactor.bind(void 0,oe),zoomStops:u.stops.map((function(ie){return ie[0]})),evaluate:function(ie){var se=ie.zoom;return d(u,f,se,y,x)}}}return{kind:"source",evaluate:function(ie,se){var te=se&&se.properties?se.properties[u.property]:void 0;return te===void 0?Vs(u.default,f.default):d(u,f,te,y,x)}}})(this._parameters,this._specification))};function Ma(t){var i=t.key,r=t.value,u=t.valueSpec||{},f=t.objectElementValidators||{},d=t.style,y=t.styleSpec,x=[],S=Ki(r);if(S!=="object")return[new Jt(i,r,"object expected, "+S+" found")];for(var A in r){var M=A.split(".")[0],B=u[M]||u["*"],F=void 0;if(f[M])F=f[M];else if(u[M])F=kr;else if(f["*"])F=f["*"];else{if(!u["*"]){x.push(new Jt(i,r[A],'unknown property "'+A+'"'));continue}F=kr}x=x.concat(F({key:(i&&i+".")+A,value:r[A],valueSpec:B,style:d,styleSpec:y,object:r,objectKey:A},r))}for(var U in u)f[U]||u[U].required&&u[U].default===void 0&&r[U]===void 0&&x.push(new Jt(i,r,'missing required property "'+U+'"'));return x}function zu(t){var i=t.value,r=t.valueSpec,u=t.style,f=t.styleSpec,d=t.key,y=t.arrayElementValidator||kr;if(Ki(i)!=="array")return[new Jt(d,i,"array expected, "+Ki(i)+" found")];if(r.length&&i.length!==r.length)return[new Jt(d,i,"array length "+r.length+" expected, length "+i.length+" found")];if(r["min-length"]&&i.length<r["min-length"])return[new Jt(d,i,"array length at least "+r["min-length"]+" expected, length "+i.length+" found")];var x={type:r.value,values:r.values};f.$version<7&&(x.function=r.function),Ki(r.value)==="object"&&(x=r.value);for(var S=[],A=0;A<i.length;A++)S=S.concat(y({array:i,arrayIndex:A,value:i[A],valueSpec:x,style:u,styleSpec:f,key:d+"["+A+"]"}));return S}function Oo(t){var i=t.key,r=t.value,u=t.valueSpec,f=Ki(r);return f==="number"&&r!=r&&(f="NaN"),f!=="number"?[new Jt(i,r,"number expected, "+f+" found")]:"minimum"in u&&r<u.minimum?[new Jt(i,r,r+" is less than the minimum value "+u.minimum)]:"maximum"in u&&r>u.maximum?[new Jt(i,r,r+" is greater than the maximum value "+u.maximum)]:[]}function rp(t){var i,r,u,f=t.valueSpec,d=pn(t.value.type),y={},x=d!=="categorical"&&t.value.property===void 0,S=!x,A=Ki(t.value.stops)==="array"&&Ki(t.value.stops[0])==="array"&&Ki(t.value.stops[0][0])==="object",M=Ma({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(U){if(d==="identity")return[new Jt(U.key,U.value,'identity function may not have a "stops" property')];var V=[],J=U.value;return V=V.concat(zu({key:U.key,value:J,valueSpec:U.valueSpec,style:U.style,styleSpec:U.styleSpec,arrayElementValidator:B})),Ki(J)==="array"&&J.length===0&&V.push(new Jt(U.key,J,"array must have at least one stop")),V},default:function(U){return kr({key:U.key,value:U.value,valueSpec:f,style:U.style,styleSpec:U.styleSpec})}}});return d==="identity"&&x&&M.push(new Jt(t.key,t.value,'missing required property "property"')),d==="identity"||t.value.stops||M.push(new Jt(t.key,t.value,'missing required property "stops"')),d==="exponential"&&t.valueSpec.expression&&!Yi(t.valueSpec)&&M.push(new Jt(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(S&&!ls(t.valueSpec)?M.push(new Jt(t.key,t.value,"property functions not supported")):x&&!ep(t.valueSpec)&&M.push(new Jt(t.key,t.value,"zoom functions not supported"))),d!=="categorical"&&!A||t.value.property!==void 0||M.push(new Jt(t.key,t.value,'"property" property is required')),M;function B(U){var V=[],J=U.value,W=U.key;if(Ki(J)!=="array")return[new Jt(W,J,"array expected, "+Ki(J)+" found")];if(J.length!==2)return[new Jt(W,J,"array length 2 expected, length "+J.length+" found")];if(A){if(Ki(J[0])!=="object")return[new Jt(W,J,"object expected, "+Ki(J[0])+" found")];if(J[0].zoom===void 0)return[new Jt(W,J,"object stop key must have zoom")];if(J[0].value===void 0)return[new Jt(W,J,"object stop key must have value")];if(u&&u>pn(J[0].zoom))return[new Jt(W,J[0].zoom,"stop zoom values must appear in ascending order")];pn(J[0].zoom)!==u&&(u=pn(J[0].zoom),r=void 0,y={}),V=V.concat(Ma({key:W+"[0]",value:J[0],valueSpec:{zoom:{}},style:U.style,styleSpec:U.styleSpec,objectElementValidators:{zoom:Oo,value:F}}))}else V=V.concat(F({key:W+"[0]",value:J[0],style:U.style,styleSpec:U.styleSpec},J));return Eu(Vi(J[1]))?V.concat([new Jt(W+"[1]",J[1],"expressions are not allowed in function stops.")]):V.concat(kr({key:W+"[1]",value:J[1],valueSpec:f,style:U.style,styleSpec:U.styleSpec}))}function F(U,V){var J=Ki(U.value),W=pn(U.value),et=U.value!==null?U.value:V;if(i){if(J!==i)return[new Jt(U.key,et,J+" stop domain type must match previous stop domain type "+i)]}else i=J;if(J!=="number"&&J!=="string"&&J!=="boolean")return[new Jt(U.key,et,"stop domain value must be a number, string, or boolean")];if(J!=="number"&&d!=="categorical"){var mt="number expected, "+J+" found";return ls(f)&&d===void 0&&(mt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Jt(U.key,et,mt)]}return d!=="categorical"||J!=="number"||isFinite(W)&&Math.floor(W)===W?d!=="categorical"&&J==="number"&&r!==void 0&&W<r?[new Jt(U.key,et,"stop domain values must appear in ascending order")]:(r=W,d==="categorical"&&W in y?[new Jt(U.key,et,"stop domain values must be unique")]:(y[W]=!0,[])):[new Jt(U.key,et,"integer expected, found "+W)]}}function cs(t){var i=(t.expressionContext==="property"?Au:Tu)(Vi(t.value),t.valueSpec);if(i.result==="error")return i.value.map((function(u){return new Jt(""+t.key+u.key,t.value,u.message)}));var r=i.value.expression||i.value._styleExpression.expression;if(t.expressionContext==="property"&&t.propertyKey==="text-font"&&r.possibleOutputs().indexOf(void 0)!==-1)return[new Jt(t.key,t.value,'Invalid data expression for "'+t.propertyKey+'". Output values must be contained as literals within the expression.')];if(t.expressionContext==="property"&&t.propertyType==="layout"&&!Hn(r))return[new Jt(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if(t.expressionContext==="filter"&&!Hn(r))return[new Jt(t.key,t.value,'"feature-state" data expressions are not supported with filters.')];if(t.expressionContext&&t.expressionContext.indexOf("cluster")===0){if(!ho(r,["zoom","feature-state"]))return[new Jt(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(t.expressionContext==="cluster-initial"&&!Ca(r))return[new Jt(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function zl(t){var i=t.key,r=t.value,u=t.valueSpec,f=[];return Array.isArray(u.values)?u.values.indexOf(pn(r))===-1&&f.push(new Jt(i,r,"expected one of ["+u.values.join(", ")+"], "+JSON.stringify(r)+" found")):Object.keys(u.values).indexOf(pn(r))===-1&&f.push(new Jt(i,r,"expected one of ["+Object.keys(u.values).join(", ")+"], "+JSON.stringify(r)+" found")),f}function Cl(t){if(t===!0||t===!1)return!0;if(!Array.isArray(t)||t.length===0)return!1;switch(t[0]){case"has":return t.length>=2&&t[1]!=="$id"&&t[1]!=="$type";case"in":return t.length>=3&&Array.isArray(t[2]);case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return t.length!==3||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var i=0,r=t.slice(1);i<r.length;i+=1){var u=r[i];if(!Cl(u)&&typeof u!="boolean")return!1}return!0;default:return!0}}Zs.deserialize=function(t){return new Zs(t._parameters,t._specification)},Zs.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}};var bc={type:"boolean",default:!1};function Ml(t){if(t==null)return function(){return!0};Cl(t)||(t=Dl(t));var i=Tu(t,bc);if(i.result==="error")throw new Error(i.value.map((function(r){return r.key+": "+r.message})).join(", "));return function(r,u){return i.value.evaluate(r,u)}}function Gs(t,i){return t<i?-1:t>i?1:0}function Dl(t){if(!t)return!0;var i,r=t[0];return t.length<=1?r!=="any":r==="=="?Cu(t[1],t[2],"=="):r==="!="?Ll(Cu(t[1],t[2],"==")):r==="<"||r===">"||r==="<="||r===">="?Cu(t[1],t[2],r):r==="any"?(i=t.slice(1),["any"].concat(i.map(Dl))):r==="all"?["all"].concat(t.slice(1).map(Dl)):r==="none"?["all"].concat(t.slice(1).map(Dl).map(Ll)):r==="in"?ap(t[1],t.slice(2)):r==="!in"?Ll(ap(t[1],t.slice(2))):r==="has"?wc(t[1]):r!=="!has"||Ll(wc(t[1]))}function Cu(t,i,r){switch(t){case"$type":return["filter-type-"+r,i];case"$id":return["filter-id-"+r,i];default:return["filter-"+r,t,i]}}function ap(t,i){if(i.length===0)return!1;switch(t){case"$type":return["filter-type-in",["literal",i]];case"$id":return["filter-id-in",["literal",i]];default:return i.length>200&&!i.some((function(r){return typeof r!=typeof i[0]}))?["filter-in-large",t,["literal",i.sort(Gs)]]:["filter-in-small",t,["literal",i]]}}function wc(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function Ll(t){return["!",t]}function ps(t){return Cl(Vi(t.value))?cs(Aa({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):(function i(r){var u=r.value,f=r.key;if(Ki(u)!=="array")return[new Jt(f,u,"array expected, "+Ki(u)+" found")];var d,y=r.styleSpec,x=[];if(u.length<1)return[new Jt(f,u,"filter array must have at least 1 element")];switch(x=x.concat(zl({key:f+"[0]",value:u[0],valueSpec:y.filter_operator,style:r.style,styleSpec:r.styleSpec})),pn(u[0])){case"<":case"<=":case">":case">=":u.length>=2&&pn(u[1])==="$type"&&x.push(new Jt(f,u,'"$type" cannot be use with operator "'+u[0]+'"'));case"==":case"!=":u.length!==3&&x.push(new Jt(f,u,'filter array for operator "'+u[0]+'" must have 3 elements'));case"in":case"!in":u.length>=2&&(d=Ki(u[1]))!=="string"&&x.push(new Jt(f+"[1]",u[1],"string expected, "+d+" found"));for(var S=2;S<u.length;S++)d=Ki(u[S]),pn(u[1])==="$type"?x=x.concat(zl({key:f+"["+S+"]",value:u[S],valueSpec:y.geometry_type,style:r.style,styleSpec:r.styleSpec})):d!=="string"&&d!=="number"&&d!=="boolean"&&x.push(new Jt(f+"["+S+"]",u[S],"string, number, or boolean expected, "+d+" found"));break;case"any":case"all":case"none":for(var A=1;A<u.length;A++)x=x.concat(i({key:f+"["+A+"]",value:u[A],style:r.style,styleSpec:r.styleSpec}));break;case"has":case"!has":d=Ki(u[1]),u.length!==2?x.push(new Jt(f,u,'filter array for "'+u[0]+'" operator must have 2 elements')):d!=="string"&&x.push(new Jt(f+"[1]",u[1],"string expected, "+d+" found"))}return x})(t)}function hs(t,i){var r=t.key,u=t.style,f=t.styleSpec,d=t.value,y=t.objectKey,x=f[i+"_"+t.layerType];if(!x)return[];var S=y.match(/^(.*)-transition$/);if(i==="paint"&&S&&x[S[1]]&&x[S[1]].transition)return kr({key:r,value:d,valueSpec:f.transition,style:u,styleSpec:f});var A,M=t.valueSpec||x[y];if(!M)return[new Jt(r,d,'unknown property "'+y+'"')];if(Ki(d)==="string"&&ls(M)&&!M.tokens&&(A=/^{([^}]+)}$/.exec(d)))return[new Jt(r,d,'"'+y+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(A[1])+" }`.")];var B=[];return t.layerType==="symbol"&&(y==="text-field"&&u&&!u.glyphs&&B.push(new Jt(r,d,'use of "text-field" requires a style "glyphs" property')),y==="text-font"&&us(Vi(d))&&pn(d.type)==="identity"&&B.push(new Jt(r,d,'"text-font" does not support identity functions'))),B.concat(kr({key:t.key,value:d,valueSpec:M,style:u,styleSpec:f,expressionContext:"property",propertyType:i,propertyKey:y}))}function Sc(t){return hs(t,"paint")}function Rl(t){return hs(t,"layout")}function Ec(t){var i=[],r=t.value,u=t.key,f=t.style,d=t.styleSpec;r.type||r.ref||i.push(new Jt(u,r,'either "type" or "ref" is required'));var y,x=pn(r.type),S=pn(r.ref);if(r.id)for(var A=pn(r.id),M=0;M<t.arrayIndex;M++){var B=f.layers[M];pn(B.id)===A&&i.push(new Jt(u,r.id,'duplicate layer id "'+r.id+'", previously used at line '+B.id.__line__))}if("ref"in r)["type","source","source-layer","filter","layout"].forEach((function(V){V in r&&i.push(new Jt(u,r[V],'"'+V+'" is prohibited for ref layers'))})),f.layers.forEach((function(V){pn(V.id)===S&&(y=V)})),y?y.ref?i.push(new Jt(u,r.ref,"ref cannot reference another ref layer")):x=pn(y.type):i.push(new Jt(u,r.ref,'ref layer "'+S+'" not found'));else if(x!=="background")if(r.source){var F=f.sources&&f.sources[r.source],U=F&&pn(F.type);F?U==="vector"&&x==="raster"?i.push(new Jt(u,r.source,'layer "'+r.id+'" requires a raster source')):U==="raster"&&x!=="raster"?i.push(new Jt(u,r.source,'layer "'+r.id+'" requires a vector source')):U!=="vector"||r["source-layer"]?U==="raster-dem"&&x!=="hillshade"?i.push(new Jt(u,r.source,"raster-dem source can only be used with layer type 'hillshade'.")):x!=="line"||!r.paint||!r.paint["line-gradient"]||U==="geojson"&&F.lineMetrics||i.push(new Jt(u,r,'layer "'+r.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):i.push(new Jt(u,r,'layer "'+r.id+'" must specify a "source-layer"')):i.push(new Jt(u,r.source,'source "'+r.source+'" not found'))}else i.push(new Jt(u,r,'missing required property "source"'));return i=i.concat(Ma({key:u,value:r,valueSpec:d.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return kr({key:u+".type",value:r.type,valueSpec:d.layer.type,style:t.style,styleSpec:t.styleSpec,object:r,objectKey:"type"})},filter:ps,layout:function(V){return Ma({layer:r,key:V.key,value:V.value,style:V.style,styleSpec:V.styleSpec,objectElementValidators:{"*":function(J){return Rl(Aa({layerType:x},J))}}})},paint:function(V){return Ma({layer:r,key:V.key,value:V.value,style:V.style,styleSpec:V.styleSpec,objectElementValidators:{"*":function(J){return Sc(Aa({layerType:x},J))}}})}}}))}function fs(t){var i=t.value,r=t.key,u=Ki(i);return u!=="string"?[new Jt(r,i,"string expected, "+u+" found")]:[]}var Mu={promoteId:function(t){var i=t.key,r=t.value;if(Ki(r)==="string")return fs({key:i,value:r});var u=[];for(var f in r)u.push.apply(u,fs({key:i+"."+f,value:r[f]}));return u}};function kl(t){var i=t.value,r=t.key,u=t.styleSpec,f=t.style;if(!i.type)return[new Jt(r,i,'"type" is required')];var d,y=pn(i.type);switch(y){case"vector":case"raster":case"raster-dem":return d=Ma({key:r,value:i,valueSpec:u["source_"+y.replace("-","_")],style:t.style,styleSpec:u,objectElementValidators:Mu});case"geojson":if(d=Ma({key:r,value:i,valueSpec:u.source_geojson,style:f,styleSpec:u,objectElementValidators:Mu}),i.cluster)for(var x in i.clusterProperties){var S=i.clusterProperties[x],A=S[0],M=S[1],B=typeof A=="string"?[A,["accumulated"],["get",x]]:A;d.push.apply(d,cs({key:r+"."+x+".map",value:M,expressionContext:"cluster-map"})),d.push.apply(d,cs({key:r+"."+x+".reduce",value:B,expressionContext:"cluster-reduce"}))}return d;case"video":return Ma({key:r,value:i,valueSpec:u.source_video,style:f,styleSpec:u});case"image":return Ma({key:r,value:i,valueSpec:u.source_image,style:f,styleSpec:u});case"canvas":return[new Jt(r,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return zl({key:r+".type",value:i.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function Du(t){var i=t.value,r=t.styleSpec,u=r.light,f=t.style,d=[],y=Ki(i);if(i===void 0)return d;if(y!=="object")return d=d.concat([new Jt("light",i,"object expected, "+y+" found")]);for(var x in i){var S=x.match(/^(.*)-transition$/);d=S&&u[S[1]]&&u[S[1]].transition?d.concat(kr({key:x,value:i[x],valueSpec:r.transition,style:f,styleSpec:r})):u[x]?d.concat(kr({key:x,value:i[x],valueSpec:u[x],style:f,styleSpec:r})):d.concat([new Jt(x,i[x],'unknown property "'+x+'"')])}return d}var Lu={"*":function(){return[]},array:zu,boolean:function(t){var i=t.value,r=t.key,u=Ki(i);return u!=="boolean"?[new Jt(r,i,"boolean expected, "+u+" found")]:[]},number:Oo,color:function(t){var i=t.key,r=t.value,u=Ki(r);return u!=="string"?[new Jt(i,r,"color expected, "+u+" found")]:de(r)===null?[new Jt(i,r,'color expected, "'+r+'" found')]:[]},constants:ma,enum:zl,filter:ps,function:rp,layer:Ec,object:Ma,source:kl,light:Du,string:fs,formatted:function(t){return fs(t).length===0?[]:cs(t)},resolvedImage:function(t){return fs(t).length===0?[]:cs(t)}};function kr(t){var i=t.value,r=t.valueSpec,u=t.styleSpec;return r.expression&&us(pn(i))?rp(t):r.expression&&Eu(Vi(i))?cs(t):r.type&&Lu[r.type]?Lu[r.type](t):Ma(Aa({},t,{valueSpec:r.type?u[r.type]:r}))}function oh(t){var i=t.value,r=t.key,u=fs(t);return u.length||(i.indexOf("{fontstack}")===-1&&u.push(new Jt(r,i,'"glyphs" url must include a "{fontstack}" token')),i.indexOf("{range}")===-1&&u.push(new Jt(r,i,'"glyphs" url must include a "{range}" token'))),u}function ds(t,i){i===void 0&&(i=zt);var r=[];return r=r.concat(kr({key:"",value:t,valueSpec:i.$root,styleSpec:i,style:t,objectElementValidators:{glyphs:oh,"*":function(){return[]}}})),t.constants&&(r=r.concat(ma({key:"constants",value:t.constants}))),op(r)}function op(t){return[].concat(t).sort((function(i,r){return i.line-r.line}))}function Hs(t){return function(){for(var i=[],r=arguments.length;r--;)i[r]=arguments[r];return op(t.apply(this,i))}}ds.source=Hs(kl),ds.light=Hs(Du),ds.layer=Hs(Ec),ds.filter=Hs(ps),ds.paintProperty=Hs(Sc),ds.layoutProperty=Hs(Rl);var Il=ds,Ir=Il.light,qi=Il.paintProperty,Ru=Il.layoutProperty;function ku(t,i){var r=!1;if(i&&i.length)for(var u=0,f=i;u<f.length;u+=1){var d=f[u];t.fire(new gn(new Error(d.message))),r=!0}return r}var Uo=li;function li(t,i,r){var u=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var f=new Int32Array(this.arrayBuffer);t=f[0],i=f[1],r=f[2],this.d=i+2*r;for(var d=0;d<this.d*this.d;d++){var y=f[3+d],x=f[3+d+1];u.push(y===x?null:f.subarray(y,x))}var S=f[3+u.length],A=f[3+u.length+1];this.keys=f.subarray(S,A),this.bboxes=f.subarray(A),this.insert=this._insertReadonly}else{this.d=i+2*r;for(var M=0;M<this.d*this.d;M++)u.push([]);this.keys=[],this.bboxes=[]}this.n=i,this.extent=t,this.padding=r,this.scale=i/t,this.uid=0;var B=r/i*t;this.min=-B,this.max=t+B}li.prototype.insert=function(t,i,r,u,f){this._forEachCell(i,r,u,f,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(i),this.bboxes.push(r),this.bboxes.push(u),this.bboxes.push(f)},li.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},li.prototype._insertCell=function(t,i,r,u,f,d){this.cells[f].push(d)},li.prototype.query=function(t,i,r,u,f){var d=this.min,y=this.max;if(t<=d&&i<=d&&y<=r&&y<=u&&!f)return Array.prototype.slice.call(this.keys);var x=[];return this._forEachCell(t,i,r,u,this._queryCell,x,{},f),x},li.prototype._queryCell=function(t,i,r,u,f,d,y,x){var S=this.cells[f];if(S!==null)for(var A=this.keys,M=this.bboxes,B=0;B<S.length;B++){var F=S[B];if(y[F]===void 0){var U=4*F;(x?x(M[U+0],M[U+1],M[U+2],M[U+3]):t<=M[U+2]&&i<=M[U+3]&&r>=M[U+0]&&u>=M[U+1])?(y[F]=!0,d.push(A[F])):y[F]=!1}}},li.prototype._forEachCell=function(t,i,r,u,f,d,y,x){for(var S=this._convertToCellCoord(t),A=this._convertToCellCoord(i),M=this._convertToCellCoord(r),B=this._convertToCellCoord(u),F=S;F<=M;F++)for(var U=A;U<=B;U++){var V=this.d*U+F;if((!x||x(this._convertFromCellCoord(F),this._convertFromCellCoord(U),this._convertFromCellCoord(F+1),this._convertFromCellCoord(U+1)))&&f.call(this,t,i,r,u,V,d,y,x))return}},li.prototype._convertFromCellCoord=function(t){return(t-this.padding)/this.scale},li.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},li.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,i=3+this.cells.length+1+1,r=0,u=0;u<this.cells.length;u++)r+=this.cells[u].length;var f=new Int32Array(i+r+this.keys.length+this.bboxes.length);f[0]=this.extent,f[1]=this.n,f[2]=this.padding;for(var d=i,y=0;y<t.length;y++){var x=t[y];f[3+y]=d,f.set(x,d),d+=x.length}return f[3+t.length]=d,f.set(this.keys,d),d+=this.keys.length,f[3+t.length+1]=d,f.set(this.bboxes,d),d+=this.bboxes.length,f.buffer};var ji=self.ImageData,Po=self.ImageBitmap,Rn={};function ue(t,i,r){r===void 0&&(r={}),Object.defineProperty(i,"_classRegistryKey",{value:t,writeable:!1}),Rn[t]={klass:i,omit:r.omit||[],shallow:r.shallow||[]}}for(var ms in ue("Object",Object),Uo.serialize=function(t,i){var r=t.toArrayBuffer();return i&&i.push(r),{buffer:r}},Uo.deserialize=function(t){return new Uo(t.buffer)},ue("Grid",Uo),ue("Color",Ht),ue("Error",Error),ue("ResolvedImage",Me),ue("StylePropertyFunction",Zs),ue("StyleExpression",Al,{omit:["_evaluator"]}),ue("ZoomDependentExpression",js),ue("ZoomConstantExpression",qs),ue("CompoundExpression",Gn,{omit:["_evaluate"]}),Ns)Ns[ms]._classRegistryKey||ue("Expression_"+ms,Ns[ms]);function vr(t){return t&&typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||t.constructor&&t.constructor.name==="ArrayBuffer")}function Kr(t){return Po&&t instanceof Po}function va(t,i){if(t==null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(vr(t)||Kr(t))return i&&i.push(t),t;if(ArrayBuffer.isView(t)){var r=t;return i&&i.push(r.buffer),r}if(t instanceof ji)return i&&i.push(t.data.buffer),t;if(Array.isArray(t)){for(var u=[],f=0,d=t;f<d.length;f+=1){var y=d[f];u.push(va(y,i))}return u}if(typeof t=="object"){var x=t.constructor,S=x._classRegistryKey;if(!S)throw new Error("can't serialize object of unregistered class");var A=x.serialize?x.serialize(t,i):{};if(!x.serialize){for(var M in t)if(t.hasOwnProperty(M)&&!(Rn[S].omit.indexOf(M)>=0)){var B=t[M];A[M]=Rn[S].shallow.indexOf(M)>=0?B:va(B,i)}t instanceof Error&&(A.message=t.message)}if(A.$name)throw new Error("$name property is reserved for worker serialization logic.");return S!=="Object"&&(A.$name=S),A}throw new Error("can't serialize object of type "+typeof t)}function sn(t){if(t==null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||vr(t)||Kr(t)||ArrayBuffer.isView(t)||t instanceof ji)return t;if(Array.isArray(t))return t.map(sn);if(typeof t=="object"){var i=t.$name||"Object",r=Rn[i].klass;if(!r)throw new Error("can't deserialize unregistered class "+i);if(r.deserialize)return r.deserialize(t);for(var u=Object.create(r.prototype),f=0,d=Object.keys(t);f<d.length;f+=1){var y=d[f];if(y!=="$name"){var x=t[y];u[y]=Rn[i].shallow.indexOf(y)>=0?x:sn(x)}}return u}throw new Error("can't deserialize object of type "+typeof t)}var Xs=function(){this.first=!0};Xs.prototype.update=function(t,i){var r=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=r,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=r,!0):(this.lastFloorZoom>r?(this.lastIntegerZoom=r+1,this.lastIntegerZoomTime=i):this.lastFloorZoom<r&&(this.lastIntegerZoom=r,this.lastIntegerZoomTime=i),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=r,!0))};var Zt={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},Khmer:function(t){return t>=6016&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}};function Jr(t){for(var i=0,r=t;i<r.length;i+=1)if(Qr(r[i].charCodeAt(0)))return!0;return!1}function sp(t){return!Zt.Arabic(t)&&!Zt["Arabic Supplement"](t)&&!Zt["Arabic Extended-A"](t)&&!Zt["Arabic Presentation Forms-A"](t)&&!Zt["Arabic Presentation Forms-B"](t)}function Qr(t){return t===746||t===747||!(t<4352)&&(!!Zt["Bopomofo Extended"](t)||!!Zt.Bopomofo(t)||!(!Zt["CJK Compatibility Forms"](t)||t>=65097&&t<=65103)||!!Zt["CJK Compatibility Ideographs"](t)||!!Zt["CJK Compatibility"](t)||!!Zt["CJK Radicals Supplement"](t)||!!Zt["CJK Strokes"](t)||!(!Zt["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||t===12336)||!!Zt["CJK Unified Ideographs Extension A"](t)||!!Zt["CJK Unified Ideographs"](t)||!!Zt["Enclosed CJK Letters and Months"](t)||!!Zt["Hangul Compatibility Jamo"](t)||!!Zt["Hangul Jamo Extended-A"](t)||!!Zt["Hangul Jamo Extended-B"](t)||!!Zt["Hangul Jamo"](t)||!!Zt["Hangul Syllables"](t)||!!Zt.Hiragana(t)||!!Zt["Ideographic Description Characters"](t)||!!Zt.Kanbun(t)||!!Zt["Kangxi Radicals"](t)||!!Zt["Katakana Phonetic Extensions"](t)||!(!Zt.Katakana(t)||t===12540)||!(!Zt["Halfwidth and Fullwidth Forms"](t)||t===65288||t===65289||t===65293||t>=65306&&t<=65310||t===65339||t===65341||t===65343||t>=65371&&t<=65503||t===65507||t>=65512&&t<=65519)||!(!Zt["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||!!Zt["Unified Canadian Aboriginal Syllabics"](t)||!!Zt["Unified Canadian Aboriginal Syllabics Extended"](t)||!!Zt["Vertical Forms"](t)||!!Zt["Yijing Hexagram Symbols"](t)||!!Zt["Yi Syllables"](t)||!!Zt["Yi Radicals"](t))}function Tc(t){return!(Qr(t)||(function(i){return!(!Zt["Latin-1 Supplement"](i)||i!==167&&i!==169&&i!==174&&i!==177&&i!==188&&i!==189&&i!==190&&i!==215&&i!==247)||!(!Zt["General Punctuation"](i)||i!==8214&&i!==8224&&i!==8225&&i!==8240&&i!==8241&&i!==8251&&i!==8252&&i!==8258&&i!==8263&&i!==8264&&i!==8265&&i!==8273)||!!Zt["Letterlike Symbols"](i)||!!Zt["Number Forms"](i)||!(!Zt["Miscellaneous Technical"](i)||!(i>=8960&&i<=8967||i>=8972&&i<=8991||i>=8996&&i<=9e3||i===9003||i>=9085&&i<=9114||i>=9150&&i<=9165||i===9167||i>=9169&&i<=9179||i>=9186&&i<=9215))||!(!Zt["Control Pictures"](i)||i===9251)||!!Zt["Optical Character Recognition"](i)||!!Zt["Enclosed Alphanumerics"](i)||!!Zt["Geometric Shapes"](i)||!(!Zt["Miscellaneous Symbols"](i)||i>=9754&&i<=9759)||!(!Zt["Miscellaneous Symbols and Arrows"](i)||!(i>=11026&&i<=11055||i>=11088&&i<=11097||i>=11192&&i<=11243))||!!Zt["CJK Symbols and Punctuation"](i)||!!Zt.Katakana(i)||!!Zt["Private Use Area"](i)||!!Zt["CJK Compatibility Forms"](i)||!!Zt["Small Form Variants"](i)||!!Zt["Halfwidth and Fullwidth Forms"](i)||i===8734||i===8756||i===8757||i>=9984&&i<=10087||i>=10102&&i<=10131||i===65532||i===65533})(t))}function Br(t){return t>=1424&&t<=2303||Zt["Arabic Presentation Forms-A"](t)||Zt["Arabic Presentation Forms-B"](t)}function lp(t,i){return!(!i&&Br(t))&&!(t>=2304&&t<=3583||t>=3840&&t<=4255||Zt.Khmer(t))}function sh(t){for(var i=0,r=t;i<r.length;i+=1)if(Br(r[i].charCodeAt(0)))return!0;return!1}var ga="deferred",Ha="loading",yo="loaded",Wr=null,tr="unavailable",Xn=null,_a=function(t){Wr&&Wr(t)};function Bl(){Ys.fire(new oi("pluginStateChange",{pluginStatus:tr,pluginURL:Xn}))}var Ys=new Xi,No=function(){return tr},Iu=function(){if(tr!==ga||!Xn)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");tr=Ha,Bl(),Xn&&Gr({url:Xn},(function(t){t?_a(t):(tr=yo,Bl())}))},hn={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return tr===yo||hn.applyArabicShaping!=null},isLoading:function(){return tr===Ha},setState:function(t){tr=t.pluginStatus,Xn=t.pluginURL},isParsed:function(){return hn.applyArabicShaping!=null&&hn.processBidirectionalText!=null&&hn.processStyledBidirectionalText!=null},getPluginURL:function(){return Xn}},Pi=function(t,i){this.zoom=t,i?(this.now=i.now,this.fadeDuration=i.fadeDuration,this.zoomHistory=i.zoomHistory,this.transition=i.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Xs,this.transition={})};Pi.prototype.isSupportedScript=function(t){return(function(i,r){for(var u=0,f=i;u<f.length;u+=1)if(!lp(f[u].charCodeAt(0),r))return!1;return!0})(t,hn.isLoaded())},Pi.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Pi.prototype.getCrossfadeParameters=function(){var t=this.zoom,i=t-Math.floor(t),r=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:i+(1-i)*r}:{fromScale:.5,toScale:1,t:1-(1-r)*i}};var Da=function(t,i){this.property=t,this.value=i,this.expression=(function(r,u){if(us(r))return new Zs(r,u);if(Eu(r)){var f=Au(r,u);if(f.result==="error")throw new Error(f.value.map((function(y){return y.key+": "+y.message})).join(", "));return f.value}var d=r;return typeof r=="string"&&u.type==="color"&&(d=Ht.parse(r)),{kind:"constant",evaluate:function(){return d}}})(i===void 0?t.specification.default:i,t.specification)};Da.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Da.prototype.possiblyEvaluate=function(t,i){return this.property.possiblyEvaluate(this,t,i)};var La=function(t){this.property=t,this.value=new Da(t,void 0)};La.prototype.transitioned=function(t,i){return new gr(this.property,this.value,i,ne({},t.transition,this.transition),t.now)},La.prototype.untransitioned=function(){return new gr(this.property,this.value,null,{},0)};var Or=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};Or.prototype.getValue=function(t){return ni(this._values[t].value.value)},Or.prototype.setValue=function(t,i){this._values.hasOwnProperty(t)||(this._values[t]=new La(this._values[t].property)),this._values[t].value=new Da(this._values[t].property,i===null?void 0:ni(i))},Or.prototype.getTransition=function(t){return ni(this._values[t].transition)},Or.prototype.setTransition=function(t,i){this._values.hasOwnProperty(t)||(this._values[t]=new La(this._values[t].property)),this._values[t].transition=ni(i)||void 0},Or.prototype.serialize=function(){for(var t={},i=0,r=Object.keys(this._values);i<r.length;i+=1){var u=r[i],f=this.getValue(u);f!==void 0&&(t[u]=f);var d=this.getTransition(u);d!==void 0&&(t[u+"-transition"]=d)}return t},Or.prototype.transitioned=function(t,i){for(var r=new Ks(this._properties),u=0,f=Object.keys(this._values);u<f.length;u+=1){var d=f[u];r._values[d]=this._values[d].transitioned(t,i._values[d])}return r},Or.prototype.untransitioned=function(){for(var t=new Ks(this._properties),i=0,r=Object.keys(this._values);i<r.length;i+=1){var u=r[i];t._values[u]=this._values[u].untransitioned()}return t};var gr=function(t,i,r,u,f){this.property=t,this.value=i,this.begin=f+u.delay||0,this.end=this.begin+u.duration||0,t.specification.transition&&(u.delay||u.duration)&&(this.prior=r)};gr.prototype.possiblyEvaluate=function(t,i){var r=t.now||0,u=this.value.possiblyEvaluate(t,i),f=this.prior;if(f){if(r>this.end)return this.prior=null,u;if(this.value.isDataDriven())return this.prior=null,u;if(r<this.begin)return f.possiblyEvaluate(t,i);var d=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(f.possiblyEvaluate(t,i),u,(function(y){if(y<=0)return 0;if(y>=1)return 1;var x=y*y,S=x*y;return 4*(y<.5?S:3*(y-x)+S-.75)})(d))}return u};var Ks=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};Ks.prototype.possiblyEvaluate=function(t,i){for(var r=new Ra(this._properties),u=0,f=Object.keys(this._values);u<f.length;u+=1){var d=f[u];r._values[d]=this._values[d].possiblyEvaluate(t,i)}return r},Ks.prototype.hasTransition=function(){for(var t=0,i=Object.keys(this._values);t<i.length;t+=1){var r=i[t];if(this._values[r].prior)return!0}return!1};var $r=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};$r.prototype.getValue=function(t){return ni(this._values[t].value)},$r.prototype.setValue=function(t,i){this._values[t]=new Da(this._values[t].property,i===null?void 0:ni(i))},$r.prototype.serialize=function(){for(var t={},i=0,r=Object.keys(this._values);i<r.length;i+=1){var u=r[i],f=this.getValue(u);f!==void 0&&(t[u]=f)}return t},$r.prototype.possiblyEvaluate=function(t,i){for(var r=new Ra(this._properties),u=0,f=Object.keys(this._values);u<f.length;u+=1){var d=f[u];r._values[d]=this._values[d].possiblyEvaluate(t,i)}return r};var Sr=function(t,i,r){this.property=t,this.value=i,this.parameters=r};Sr.prototype.isConstant=function(){return this.value.kind==="constant"},Sr.prototype.constantOr=function(t){return this.value.kind==="constant"?this.value.value:t},Sr.prototype.evaluate=function(t,i,r){return this.property.evaluate(this.value,this.parameters,t,i,r)};var Ra=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};Ra.prototype.get=function(t){return this._values[t]};var fe=function(t){this.specification=t};fe.prototype.possiblyEvaluate=function(t,i){return t.expression.evaluate(i)},fe.prototype.interpolate=function(t,i,r){var u=gu[this.specification.type];return u?u(t,i,r):t};var _e=function(t,i){this.specification=t,this.overrides=i};_e.prototype.possiblyEvaluate=function(t,i,r){return t.expression.kind==="constant"||t.expression.kind==="camera"?new Sr(this,{kind:"constant",value:t.expression.evaluate(i,null,{},r)},i):new Sr(this,t.expression,i)},_e.prototype.interpolate=function(t,i,r){if(t.value.kind!=="constant"||i.value.kind!=="constant")return t;if(t.value.value===void 0||i.value.value===void 0)return new Sr(this,{kind:"constant",value:void 0},t.parameters);var u=gu[this.specification.type];return u?new Sr(this,{kind:"constant",value:u(t.value.value,i.value.value,r)},t.parameters):t},_e.prototype.evaluate=function(t,i,r,u,f){return t.kind==="constant"?t.value:t.evaluate(i,r,u,f)};var Ur=(function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.possiblyEvaluate=function(r,u,f){if(r.value===void 0)return new Sr(this,{kind:"constant",value:void 0},u);if(r.expression.kind==="constant"){var d=r.expression.evaluate(u,null,{},f),y=r.property.specification.type==="resolvedImage"&&typeof d!="string"?d.name:d,x=this._calculate(y,y,y,u);return new Sr(this,{kind:"constant",value:x},u)}if(r.expression.kind==="camera"){var S=this._calculate(r.expression.evaluate({zoom:u.zoom-1}),r.expression.evaluate({zoom:u.zoom}),r.expression.evaluate({zoom:u.zoom+1}),u);return new Sr(this,{kind:"constant",value:S},u)}return new Sr(this,r.expression,u)},i.prototype.evaluate=function(r,u,f,d,y){if(r.kind==="source"){var x=r.evaluate(u,f,d,y);return this._calculate(x,x,x,u)}return r.kind==="composite"?this._calculate(r.evaluate({zoom:Math.floor(u.zoom)-1},f,d),r.evaluate({zoom:Math.floor(u.zoom)},f,d),r.evaluate({zoom:Math.floor(u.zoom)+1},f,d),u):r.value},i.prototype._calculate=function(r,u,f,d){return d.zoom>d.zoomHistory.lastIntegerZoom?{from:r,to:u}:{from:f,to:u}},i.prototype.interpolate=function(r){return r},i})(_e),Fo=function(t){this.specification=t};Fo.prototype.possiblyEvaluate=function(t,i,r){if(t.value!==void 0){if(t.expression.kind==="constant"){var u=t.expression.evaluate(i,null,{},r);return this._calculate(u,u,u,i)}return this._calculate(t.expression.evaluate(new Pi(Math.floor(i.zoom-1),i)),t.expression.evaluate(new Pi(Math.floor(i.zoom),i)),t.expression.evaluate(new Pi(Math.floor(i.zoom+1),i)),i)}},Fo.prototype._calculate=function(t,i,r,u){return u.zoom>u.zoomHistory.lastIntegerZoom?{from:t,to:i}:{from:r,to:i}},Fo.prototype.interpolate=function(t){return t};var Js=function(t){this.specification=t};Js.prototype.possiblyEvaluate=function(t,i,r){return!!t.expression.evaluate(i,null,{},r)},Js.prototype.interpolate=function(){return!1};var fn=function(t){for(var i in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],t){var r=t[i];r.specification.overridable&&this.overridableProperties.push(i);var u=this.defaultPropertyValues[i]=new Da(r,void 0),f=this.defaultTransitionablePropertyValues[i]=new La(r);this.defaultTransitioningPropertyValues[i]=f.untransitioned(),this.defaultPossiblyEvaluatedValues[i]=u.possiblyEvaluate({})}};ue("DataDrivenProperty",_e),ue("DataConstantProperty",fe),ue("CrossFadedDataDrivenProperty",Ur),ue("CrossFadedProperty",Fo),ue("ColorRampProperty",Js);var _r=(function(t){function i(r,u){if(t.call(this),this.id=r.id,this.type=r.type,this._featureFilter=function(){return!0},r.type!=="custom"&&(r=r,this.metadata=r.metadata,this.minzoom=r.minzoom,this.maxzoom=r.maxzoom,r.type!=="background"&&(this.source=r.source,this.sourceLayer=r["source-layer"],this.filter=r.filter),u.layout&&(this._unevaluatedLayout=new $r(u.layout)),u.paint)){for(var f in this._transitionablePaint=new Or(u.paint),r.paint)this.setPaintProperty(f,r.paint[f],{validate:!1});for(var d in r.layout)this.setLayoutProperty(d,r.layout[d],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},i.prototype.getLayoutProperty=function(r){return r==="visibility"?this.visibility:this._unevaluatedLayout.getValue(r)},i.prototype.setLayoutProperty=function(r,u,f){if(f===void 0&&(f={}),u!=null){var d="layers."+this.id+".layout."+r;if(this._validate(Ru,d,r,u,f))return}r!=="visibility"?this._unevaluatedLayout.setValue(r,u):this.visibility=u},i.prototype.getPaintProperty=function(r){return tn(r,"-transition")?this._transitionablePaint.getTransition(r.slice(0,-11)):this._transitionablePaint.getValue(r)},i.prototype.setPaintProperty=function(r,u,f){if(f===void 0&&(f={}),u!=null){var d="layers."+this.id+".paint."+r;if(this._validate(qi,d,r,u,f))return!1}if(tn(r,"-transition"))return this._transitionablePaint.setTransition(r.slice(0,-11),u||void 0),!1;var y=this._transitionablePaint._values[r],x=y.property.specification["property-type"]==="cross-faded-data-driven",S=y.value.isDataDriven(),A=y.value;this._transitionablePaint.setValue(r,u),this._handleSpecialPaintPropertyUpdate(r);var M=this._transitionablePaint._values[r].value;return M.isDataDriven()||S||x||this._handleOverridablePaintPropertyUpdate(r,A,M)},i.prototype._handleSpecialPaintPropertyUpdate=function(r){},i.prototype._handleOverridablePaintPropertyUpdate=function(r,u,f){return!1},i.prototype.isHidden=function(r){return!!(this.minzoom&&r<this.minzoom)||!!(this.maxzoom&&r>=this.maxzoom)||this.visibility==="none"},i.prototype.updateTransitions=function(r){this._transitioningPaint=this._transitionablePaint.transitioned(r,this._transitioningPaint)},i.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},i.prototype.recalculate=function(r,u){r.getCrossfadeParameters&&(this._crossfadeParameters=r.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(r,u)),this.paint=this._transitioningPaint.possiblyEvaluate(r,u)},i.prototype.serialize=function(){var r={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(r.layout=r.layout||{},r.layout.visibility=this.visibility),yn(r,(function(u,f){return!(u===void 0||f==="layout"&&!Object.keys(u).length||f==="paint"&&!Object.keys(u).length)}))},i.prototype._validate=function(r,u,f,d,y){return y===void 0&&(y={}),(!y||y.validate!==!1)&&ku(this,r.call(Il,{key:u,layerType:this.type,objectKey:f,value:d,styleSpec:zt,style:{glyphs:!0,sprite:!0}}))},i.prototype.is3D=function(){return!1},i.prototype.isTileClipped=function(){return!1},i.prototype.hasOffscreenPass=function(){return!1},i.prototype.resize=function(){},i.prototype.isStateDependent=function(){for(var r in this.paint._values){var u=this.paint.get(r);if(u instanceof Sr&&ls(u.property.specification)&&(u.value.kind==="source"||u.value.kind==="composite")&&u.value.isStateDependent)return!0}return!1},i})(Xi),a={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},l=function(t,i){this._structArray=t,this._pos1=i*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},s=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function c(t,i){i===void 0&&(i=1);var r=0,u=0;return{members:t.map((function(f){var d,y=(d=f.type,a[d].BYTES_PER_ELEMENT),x=r=m(r,Math.max(i,y)),S=f.components||1;return u=Math.max(u,y),r+=y*S,{name:f.name,type:f.type,components:S,offset:x}})),size:m(r,Math.max(u,i)),alignment:i}}function m(t,i){return Math.ceil(t/i)*i}s.serialize=function(t,i){return t._trim(),i&&(t.isTransferred=!0,i.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},s.deserialize=function(t){var i=Object.create(this.prototype);return i.arrayBuffer=t.arrayBuffer,i.length=t.length,i.capacity=t.arrayBuffer.byteLength/i.bytesPerElement,i._refreshViews(),i},s.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},s.prototype.clear=function(){this.length=0},s.prototype.resize=function(t){this.reserve(t),this.length=t},s.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var i=this.uint8;this._refreshViews(),i&&this.uint8.set(i)}},s.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var g=(function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},i.prototype.emplaceBack=function(r,u){var f=this.length;return this.resize(f+1),this.emplace(f,r,u)},i.prototype.emplace=function(r,u,f){var d=2*r;return this.int16[d+0]=u,this.int16[d+1]=f,r},i})(s);g.prototype.bytesPerElement=4,ue("StructArrayLayout2i4",g);var b=(function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},i.prototype.emplaceBack=function(r,u,f,d){var y=this.length;return this.resize(y+1),this.emplace(y,r,u,f,d)},i.prototype.emplace=function(r,u,f,d,y){var x=4*r;return this.int16[x+0]=u,this.int16[x+1]=f,this.int16[x+2]=d,this.int16[x+3]=y,r},i})(s);b.prototype.bytesPerElement=8,ue("StructArrayLayout4i8",b);var w=(function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},i.prototype.emplaceBack=function(r,u,f,d,y,x){var S=this.length;return this.resize(S+1),this.emplace(S,r,u,f,d,y,x)},i.prototype.emplace=function(r,u,f,d,y,x,S){var A=6*r;return this.int16[A+0]=u,this.int16[A+1]=f,this.int16[A+2]=d,this.int16[A+3]=y,this.int16[A+4]=x,this.int16[A+5]=S,r},i})(s);w.prototype.bytesPerElement=12,ue("StructArrayLayout2i4i12",w);var E=(function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},i.prototype.emplaceBack=function(r,u,f,d,y,x){var S=this.length;return this.resize(S+1),this.emplace(S,r,u,f,d,y,x)},i.prototype.emplace=function(r,u,f,d,y,x,S){var A=4*r,M=8*r;return this.int16[A+0]=u,this.int16[A+1]=f,this.uint8[M+4]=d,this.uint8[M+5]=y,this.uint8[M+6]=x,this.uint8[M+7]=S,r},i})(s);E.prototype.bytesPerElement=8,ue("StructArrayLayout2i4ub8",E);var L=(function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},i.prototype.emplaceBack=function(r,u,f,d,y,x,S,A){var M=this.length;return this.resize(M+1),this.emplace(M,r,u,f,d,y,x,S,A)},i.prototype.emplace=function(r,u,f,d,y,x,S,A,M){var B=8*r;return this.uint16[B+0]=u,this.uint16[B+1]=f,this.uint16[B+2]=d,this.uint16[B+3]=y,this.uint16[B+4]=x,this.uint16[B+5]=S,this.uint16[B+6]=A,this.uint16[B+7]=M,r},i})(s);L.prototype.bytesPerElement=16,ue("StructArrayLayout8ui16",L);var R=(function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},i.prototype.emplaceBack=function(r,u,f,d,y,x,S,A,M,B,F,U){var V=this.length;return this.resize(V+1),this.emplace(V,r,u,f,d,y,x,S,A,M,B,F,U)},i.prototype.emplace=function(r,u,f,d,y,x,S,A,M,B,F,U,V){var J=12*r;return this.int16[J+0]=u,this.int16[J+1]=f,this.int16[J+2]=d,this.int16[J+3]=y,this.uint16[J+4]=x,this.uint16[J+5]=S,this.uint16[J+6]=A,this.uint16[J+7]=M,this.int16[J+8]=B,this.int16[J+9]=F,this.int16[J+10]=U,this.int16[J+11]=V,r},i})(s);R.prototype.bytesPerElement=24,ue("StructArrayLayout4i4ui4i24",R);var N=(function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},i.prototype.emplaceBack=function(r,u,f){var d=this.length;return this.resize(d+1),this.emplace(d,r,u,f)},i.prototype.emplace=function(r,u,f,d){var y=3*r;return this.float32[y+0]=u,this.float32[y+1]=f,this.float32[y+2]=d,r},i})(s);N.prototype.bytesPerElement=12,ue("StructArrayLayout3f12",N);var Y=(function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},i.prototype.emplaceBack=function(r){var u=this.length;return this.resize(u+1),this.emplace(u,r)},i.prototype.emplace=function(r,u){var f=1*r;return this.uint32[f+0]=u,r},i})(s);Y.prototype.bytesPerElement=4,ue("StructArrayLayout1ul4",Y);var H=(function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},i.prototype.emplaceBack=function(r,u,f,d,y,x,S,A,M,B,F){var U=this.length;return this.resize(U+1),this.emplace(U,r,u,f,d,y,x,S,A,M,B,F)},i.prototype.emplace=function(r,u,f,d,y,x,S,A,M,B,F,U){var V=12*r,J=6*r;return this.int16[V+0]=u,this.int16[V+1]=f,this.int16[V+2]=d,this.int16[V+3]=y,this.int16[V+4]=x,this.int16[V+5]=S,this.uint32[J+3]=A,this.uint16[V+8]=M,this.uint16[V+9]=B,this.int16[V+10]=F,this.int16[V+11]=U,r},i})(s);H.prototype.bytesPerElement=24,ue("StructArrayLayout6i1ul2ui2i24",H);var X=(function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},i.prototype.emplaceBack=function(r,u,f,d,y,x){var S=this.length;return this.resize(S+1),this.emplace(S,r,u,f,d,y,x)},i.prototype.emplace=function(r,u,f,d,y,x,S){var A=6*r;return this.int16[A+0]=u,this.int16[A+1]=f,this.int16[A+2]=d,this.int16[A+3]=y,this.int16[A+4]=x,this.int16[A+5]=S,r},i})(s);X.prototype.bytesPerElement=12,ue("StructArrayLayout2i2i2i12",X);var Z=(function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},i.prototype.emplaceBack=function(r,u,f,d){var y=this.length;return this.resize(y+1),this.emplace(y,r,u,f,d)},i.prototype.emplace=function(r,u,f,d,y){var x=12*r,S=3*r;return this.uint8[x+0]=u,this.uint8[x+1]=f,this.float32[S+1]=d,this.float32[S+2]=y,r},i})(s);Z.prototype.bytesPerElement=12,ue("StructArrayLayout2ub2f12",Z);var at=(function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},i.prototype.emplaceBack=function(r,u,f,d,y,x,S,A,M,B,F,U,V,J,W,et,mt){var vt=this.length;return this.resize(vt+1),this.emplace(vt,r,u,f,d,y,x,S,A,M,B,F,U,V,J,W,et,mt)},i.prototype.emplace=function(r,u,f,d,y,x,S,A,M,B,F,U,V,J,W,et,mt,vt){var gt=24*r,Lt=12*r,Ot=48*r;return this.int16[gt+0]=u,this.int16[gt+1]=f,this.uint16[gt+2]=d,this.uint16[gt+3]=y,this.uint32[Lt+2]=x,this.uint32[Lt+3]=S,this.uint32[Lt+4]=A,this.uint16[gt+10]=M,this.uint16[gt+11]=B,this.uint16[gt+12]=F,this.float32[Lt+7]=U,this.float32[Lt+8]=V,this.uint8[Ot+36]=J,this.uint8[Ot+37]=W,this.uint8[Ot+38]=et,this.uint32[Lt+10]=mt,this.int16[gt+22]=vt,r},i})(s);at.prototype.bytesPerElement=48,ue("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",at);var tt=(function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},i.prototype.emplaceBack=function(r,u,f,d,y,x,S,A,M,B,F,U,V,J,W,et,mt,vt,gt,Lt,Ot,kt,Wt,$t,oe,ie){var se=this.length;return this.resize(se+1),this.emplace(se,r,u,f,d,y,x,S,A,M,B,F,U,V,J,W,et,mt,vt,gt,Lt,Ot,kt,Wt,$t,oe,ie)},i.prototype.emplace=function(r,u,f,d,y,x,S,A,M,B,F,U,V,J,W,et,mt,vt,gt,Lt,Ot,kt,Wt,$t,oe,ie,se){var te=30*r,Gt=15*r;return this.int16[te+0]=u,this.int16[te+1]=f,this.int16[te+2]=d,this.int16[te+3]=y,this.int16[te+4]=x,this.int16[te+5]=S,this.int16[te+6]=A,this.int16[te+7]=M,this.uint16[te+8]=B,this.uint16[te+9]=F,this.uint16[te+10]=U,this.uint16[te+11]=V,this.uint16[te+12]=J,this.uint16[te+13]=W,this.uint16[te+14]=et,this.uint16[te+15]=mt,this.uint16[te+16]=vt,this.uint16[te+17]=gt,this.uint16[te+18]=Lt,this.uint16[te+19]=Ot,this.uint16[te+20]=kt,this.uint16[te+21]=Wt,this.uint32[Gt+11]=$t,this.float32[Gt+12]=oe,this.float32[Gt+13]=ie,this.float32[Gt+14]=se,r},i})(s);tt.prototype.bytesPerElement=60,ue("StructArrayLayout8i14ui1ul3f60",tt);var ht=(function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},i.prototype.emplaceBack=function(r){var u=this.length;return this.resize(u+1),this.emplace(u,r)},i.prototype.emplace=function(r,u){var f=1*r;return this.float32[f+0]=u,r},i})(s);ht.prototype.bytesPerElement=4,ue("StructArrayLayout1f4",ht);var ct=(function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},i.prototype.emplaceBack=function(r,u,f){var d=this.length;return this.resize(d+1),this.emplace(d,r,u,f)},i.prototype.emplace=function(r,u,f,d){var y=3*r;return this.int16[y+0]=u,this.int16[y+1]=f,this.int16[y+2]=d,r},i})(s);ct.prototype.bytesPerElement=6,ue("StructArrayLayout3i6",ct);var ft=(function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},i.prototype.emplaceBack=function(r,u,f){var d=this.length;return this.resize(d+1),this.emplace(d,r,u,f)},i.prototype.emplace=function(r,u,f,d){var y=2*r,x=4*r;return this.uint32[y+0]=u,this.uint16[x+2]=f,this.uint16[x+3]=d,r},i})(s);ft.prototype.bytesPerElement=8,ue("StructArrayLayout1ul2ui8",ft);var wt=(function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},i.prototype.emplaceBack=function(r,u,f){var d=this.length;return this.resize(d+1),this.emplace(d,r,u,f)},i.prototype.emplace=function(r,u,f,d){var y=3*r;return this.uint16[y+0]=u,this.uint16[y+1]=f,this.uint16[y+2]=d,r},i})(s);wt.prototype.bytesPerElement=6,ue("StructArrayLayout3ui6",wt);var Mt=(function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},i.prototype.emplaceBack=function(r,u){var f=this.length;return this.resize(f+1),this.emplace(f,r,u)},i.prototype.emplace=function(r,u,f){var d=2*r;return this.uint16[d+0]=u,this.uint16[d+1]=f,r},i})(s);Mt.prototype.bytesPerElement=4,ue("StructArrayLayout2ui4",Mt);var Bt=(function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},i.prototype.emplaceBack=function(r){var u=this.length;return this.resize(u+1),this.emplace(u,r)},i.prototype.emplace=function(r,u){var f=1*r;return this.uint16[f+0]=u,r},i})(s);Bt.prototype.bytesPerElement=2,ue("StructArrayLayout1ui2",Bt);var ee=(function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},i.prototype.emplaceBack=function(r,u){var f=this.length;return this.resize(f+1),this.emplace(f,r,u)},i.prototype.emplace=function(r,u,f){var d=2*r;return this.float32[d+0]=u,this.float32[d+1]=f,r},i})(s);ee.prototype.bytesPerElement=8,ue("StructArrayLayout2f8",ee);var Kt=(function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},i.prototype.emplaceBack=function(r,u,f,d){var y=this.length;return this.resize(y+1),this.emplace(y,r,u,f,d)},i.prototype.emplace=function(r,u,f,d,y){var x=4*r;return this.float32[x+0]=u,this.float32[x+1]=f,this.float32[x+2]=d,this.float32[x+3]=y,r},i})(s);Kt.prototype.bytesPerElement=16,ue("StructArrayLayout4f16",Kt);var le=(function(t){function i(){t.apply(this,arguments)}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var r={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},radius:{configurable:!0},signedDistanceFromAnchor:{configurable:!0},anchorPoint:{configurable:!0}};return r.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorPointX.set=function(u){this._structArray.int16[this._pos2+0]=u},r.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},r.anchorPointY.set=function(u){this._structArray.int16[this._pos2+1]=u},r.x1.get=function(){return this._structArray.int16[this._pos2+2]},r.x1.set=function(u){this._structArray.int16[this._pos2+2]=u},r.y1.get=function(){return this._structArray.int16[this._pos2+3]},r.y1.set=function(u){this._structArray.int16[this._pos2+3]=u},r.x2.get=function(){return this._structArray.int16[this._pos2+4]},r.x2.set=function(u){this._structArray.int16[this._pos2+4]=u},r.y2.get=function(){return this._structArray.int16[this._pos2+5]},r.y2.set=function(u){this._structArray.int16[this._pos2+5]=u},r.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},r.featureIndex.set=function(u){this._structArray.uint32[this._pos4+3]=u},r.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},r.sourceLayerIndex.set=function(u){this._structArray.uint16[this._pos2+8]=u},r.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},r.bucketIndex.set=function(u){this._structArray.uint16[this._pos2+9]=u},r.radius.get=function(){return this._structArray.int16[this._pos2+10]},r.radius.set=function(u){this._structArray.int16[this._pos2+10]=u},r.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},r.signedDistanceFromAnchor.set=function(u){this._structArray.int16[this._pos2+11]=u},r.anchorPoint.get=function(){return new yt(this.anchorPointX,this.anchorPointY)},Object.defineProperties(i.prototype,r),i})(l);le.prototype.size=24;var Yt=(function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.get=function(r){return new le(this,r)},i})(H);ue("CollisionBoxArray",Yt);var ye=(function(t){function i(){t.apply(this,arguments)}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var r={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return r.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorX.set=function(u){this._structArray.int16[this._pos2+0]=u},r.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},r.anchorY.set=function(u){this._structArray.int16[this._pos2+1]=u},r.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},r.glyphStartIndex.set=function(u){this._structArray.uint16[this._pos2+2]=u},r.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},r.numGlyphs.set=function(u){this._structArray.uint16[this._pos2+3]=u},r.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},r.vertexStartIndex.set=function(u){this._structArray.uint32[this._pos4+2]=u},r.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},r.lineStartIndex.set=function(u){this._structArray.uint32[this._pos4+3]=u},r.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},r.lineLength.set=function(u){this._structArray.uint32[this._pos4+4]=u},r.segment.get=function(){return this._structArray.uint16[this._pos2+10]},r.segment.set=function(u){this._structArray.uint16[this._pos2+10]=u},r.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},r.lowerSize.set=function(u){this._structArray.uint16[this._pos2+11]=u},r.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},r.upperSize.set=function(u){this._structArray.uint16[this._pos2+12]=u},r.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},r.lineOffsetX.set=function(u){this._structArray.float32[this._pos4+7]=u},r.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},r.lineOffsetY.set=function(u){this._structArray.float32[this._pos4+8]=u},r.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},r.writingMode.set=function(u){this._structArray.uint8[this._pos1+36]=u},r.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},r.placedOrientation.set=function(u){this._structArray.uint8[this._pos1+37]=u},r.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},r.hidden.set=function(u){this._structArray.uint8[this._pos1+38]=u},r.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},r.crossTileID.set=function(u){this._structArray.uint32[this._pos4+10]=u},r.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},r.associatedIconIndex.set=function(u){this._structArray.int16[this._pos2+22]=u},Object.defineProperties(i.prototype,r),i})(l);ye.prototype.size=48;var Qt=(function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.get=function(r){return new ye(this,r)},i})(at);ue("PlacedSymbolArray",Qt);var we=(function(t){function i(){t.apply(this,arguments)}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var r={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0}};return r.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorX.set=function(u){this._structArray.int16[this._pos2+0]=u},r.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},r.anchorY.set=function(u){this._structArray.int16[this._pos2+1]=u},r.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},r.rightJustifiedTextSymbolIndex.set=function(u){this._structArray.int16[this._pos2+2]=u},r.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},r.centerJustifiedTextSymbolIndex.set=function(u){this._structArray.int16[this._pos2+3]=u},r.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},r.leftJustifiedTextSymbolIndex.set=function(u){this._structArray.int16[this._pos2+4]=u},r.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},r.verticalPlacedTextSymbolIndex.set=function(u){this._structArray.int16[this._pos2+5]=u},r.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},r.placedIconSymbolIndex.set=function(u){this._structArray.int16[this._pos2+6]=u},r.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},r.verticalPlacedIconSymbolIndex.set=function(u){this._structArray.int16[this._pos2+7]=u},r.key.get=function(){return this._structArray.uint16[this._pos2+8]},r.key.set=function(u){this._structArray.uint16[this._pos2+8]=u},r.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},r.textBoxStartIndex.set=function(u){this._structArray.uint16[this._pos2+9]=u},r.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},r.textBoxEndIndex.set=function(u){this._structArray.uint16[this._pos2+10]=u},r.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},r.verticalTextBoxStartIndex.set=function(u){this._structArray.uint16[this._pos2+11]=u},r.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},r.verticalTextBoxEndIndex.set=function(u){this._structArray.uint16[this._pos2+12]=u},r.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},r.iconBoxStartIndex.set=function(u){this._structArray.uint16[this._pos2+13]=u},r.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},r.iconBoxEndIndex.set=function(u){this._structArray.uint16[this._pos2+14]=u},r.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},r.verticalIconBoxStartIndex.set=function(u){this._structArray.uint16[this._pos2+15]=u},r.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},r.verticalIconBoxEndIndex.set=function(u){this._structArray.uint16[this._pos2+16]=u},r.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},r.featureIndex.set=function(u){this._structArray.uint16[this._pos2+17]=u},r.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},r.numHorizontalGlyphVertices.set=function(u){this._structArray.uint16[this._pos2+18]=u},r.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},r.numVerticalGlyphVertices.set=function(u){this._structArray.uint16[this._pos2+19]=u},r.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},r.numIconVertices.set=function(u){this._structArray.uint16[this._pos2+20]=u},r.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},r.numVerticalIconVertices.set=function(u){this._structArray.uint16[this._pos2+21]=u},r.crossTileID.get=function(){return this._structArray.uint32[this._pos4+11]},r.crossTileID.set=function(u){this._structArray.uint32[this._pos4+11]=u},r.textBoxScale.get=function(){return this._structArray.float32[this._pos4+12]},r.textBoxScale.set=function(u){this._structArray.float32[this._pos4+12]=u},r.textOffset0.get=function(){return this._structArray.float32[this._pos4+13]},r.textOffset0.set=function(u){this._structArray.float32[this._pos4+13]=u},r.textOffset1.get=function(){return this._structArray.float32[this._pos4+14]},r.textOffset1.set=function(u){this._structArray.float32[this._pos4+14]=u},Object.defineProperties(i.prototype,r),i})(l);we.prototype.size=60;var ke=(function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.get=function(r){return new we(this,r)},i})(tt);ue("SymbolInstanceArray",ke);var ze=(function(t){function i(){t.apply(this,arguments)}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var r={offsetX:{configurable:!0}};return r.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},r.offsetX.set=function(u){this._structArray.float32[this._pos4+0]=u},Object.defineProperties(i.prototype,r),i})(l);ze.prototype.size=4;var Te=(function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.getoffsetX=function(r){return this.float32[1*r+0]},i.prototype.get=function(r){return new ze(this,r)},i})(ht);ue("GlyphOffsetArray",Te);var gi=(function(t){function i(){t.apply(this,arguments)}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var r={x:{configurable:!0},y:{configurable:!0},tileUnitDistanceFromAnchor:{configurable:!0}};return r.x.get=function(){return this._structArray.int16[this._pos2+0]},r.x.set=function(u){this._structArray.int16[this._pos2+0]=u},r.y.get=function(){return this._structArray.int16[this._pos2+1]},r.y.set=function(u){this._structArray.int16[this._pos2+1]=u},r.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},r.tileUnitDistanceFromAnchor.set=function(u){this._structArray.int16[this._pos2+2]=u},Object.defineProperties(i.prototype,r),i})(l);gi.prototype.size=6;var Ie=(function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.getx=function(r){return this.int16[3*r+0]},i.prototype.gety=function(r){return this.int16[3*r+1]},i.prototype.gettileUnitDistanceFromAnchor=function(r){return this.int16[3*r+2]},i.prototype.get=function(r){return new gi(this,r)},i})(ct);ue("SymbolLineVertexArray",Ie);var xe=(function(t){function i(){t.apply(this,arguments)}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var r={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return r.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},r.featureIndex.set=function(u){this._structArray.uint32[this._pos4+0]=u},r.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},r.sourceLayerIndex.set=function(u){this._structArray.uint16[this._pos2+2]=u},r.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},r.bucketIndex.set=function(u){this._structArray.uint16[this._pos2+3]=u},Object.defineProperties(i.prototype,r),i})(l);xe.prototype.size=8;var nn=(function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.get=function(r){return new xe(this,r)},i})(ft);ue("FeatureIndexArray",nn);var pi=c([{name:"a_pos",components:2,type:"Int16"}],4).members,qe=function(t){t===void 0&&(t=[]),this.segments=t};function Nn(t,i){return 256*(t=pe(Math.floor(t),0,255))+(i=pe(Math.floor(i),0,255))}qe.prototype.prepareSegment=function(t,i,r,u){var f=this.segments[this.segments.length-1];return t>qe.MAX_VERTEX_ARRAY_LENGTH&&zi("Max vertices per segment is "+qe.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+t),(!f||f.vertexLength+t>qe.MAX_VERTEX_ARRAY_LENGTH||f.sortKey!==u)&&(f={vertexOffset:i.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0},u!==void 0&&(f.sortKey=u),this.segments.push(f)),f},qe.prototype.get=function(){return this.segments},qe.prototype.destroy=function(){for(var t=0,i=this.segments;t<i.length;t+=1){var r=i[t];for(var u in r.vaos)r.vaos[u].destroy()}},qe.simpleSegment=function(t,i,r,u){return new qe([{vertexOffset:t,primitiveOffset:i,vertexLength:r,primitiveLength:u,vaos:{},sortKey:0}])},qe.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,ue("SegmentVector",qe);var En=xt((function(t){t.exports=function(i,r){var u,f,d,y,x,S,A,M;for(u=3&i.length,f=i.length-u,d=r,x=3432918353,S=461845907,M=0;M<f;)A=255&i.charCodeAt(M)|(255&i.charCodeAt(++M))<<8|(255&i.charCodeAt(++M))<<16|(255&i.charCodeAt(++M))<<24,++M,d=27492+(65535&(y=5*(65535&(d=(d^=A=(65535&(A=(A=(65535&A)*x+(((A>>>16)*x&65535)<<16)&4294967295)<<15|A>>>17))*S+(((A>>>16)*S&65535)<<16)&4294967295)<<13|d>>>19))+((5*(d>>>16)&65535)<<16)&4294967295))+((58964+(y>>>16)&65535)<<16);switch(A=0,u){case 3:A^=(255&i.charCodeAt(M+2))<<16;case 2:A^=(255&i.charCodeAt(M+1))<<8;case 1:d^=A=(65535&(A=(A=(65535&(A^=255&i.charCodeAt(M)))*x+(((A>>>16)*x&65535)<<16)&4294967295)<<15|A>>>17))*S+(((A>>>16)*S&65535)<<16)&4294967295}return d^=i.length,d=2246822507*(65535&(d^=d>>>16))+((2246822507*(d>>>16)&65535)<<16)&4294967295,d=3266489909*(65535&(d^=d>>>13))+((3266489909*(d>>>16)&65535)<<16)&4294967295,(d^=d>>>16)>>>0}})),Zi=xt((function(t){t.exports=function(i,r){for(var u,f=i.length,d=r^f,y=0;f>=4;)u=1540483477*(65535&(u=255&i.charCodeAt(y)|(255&i.charCodeAt(++y))<<8|(255&i.charCodeAt(++y))<<16|(255&i.charCodeAt(++y))<<24))+((1540483477*(u>>>16)&65535)<<16),d=1540483477*(65535&d)+((1540483477*(d>>>16)&65535)<<16)^(u=1540483477*(65535&(u^=u>>>24))+((1540483477*(u>>>16)&65535)<<16)),f-=4,++y;switch(f){case 3:d^=(255&i.charCodeAt(y+2))<<16;case 2:d^=(255&i.charCodeAt(y+1))<<8;case 1:d=1540483477*(65535&(d^=255&i.charCodeAt(y)))+((1540483477*(d>>>16)&65535)<<16)}return d=1540483477*(65535&(d^=d>>>13))+((1540483477*(d>>>16)&65535)<<16),(d^=d>>>15)>>>0}})),xr=En,ta=En,ka=Zi;xr.murmur3=ta,xr.murmur2=ka;var kn=function(){this.ids=[],this.positions=[],this.indexed=!1};kn.prototype.add=function(t,i,r,u){this.ids.push(xa(t)),this.positions.push(i,r,u)},kn.prototype.getPositions=function(t){for(var i=xa(t),r=0,u=this.ids.length-1;r<u;){var f=r+u>>1;this.ids[f]>=i?u=f:r=f+1}for(var d=[];this.ids[r]===i;){var y=this.positions[3*r],x=this.positions[3*r+1],S=this.positions[3*r+2];d.push({index:y,start:x,end:S}),r++}return d},kn.serialize=function(t,i){var r=new Float64Array(t.ids),u=new Uint32Array(t.positions);return(function f(d,y,x,S){if(!(x>=S)){for(var A=d[x+S>>1],M=x-1,B=S+1;;){do M++;while(d[M]<A);do B--;while(d[B]>A);if(M>=B)break;Vo(d,M,B),Vo(y,3*M,3*B),Vo(y,3*M+1,3*B+1),Vo(y,3*M+2,3*B+2)}f(d,y,x,B),f(d,y,B+1,S)}})(r,u,0,r.length-1),i&&i.push(r.buffer,u.buffer),{ids:r,positions:u}},kn.deserialize=function(t){var i=new kn;return i.ids=t.ids,i.positions=t.positions,i.indexed=!0,i};var Xa=Math.pow(2,53)-1;function xa(t){var i=+t;return!isNaN(i)&&i<=Xa?i:xr(String(t))}function Vo(t,i,r){var u=t[i];t[i]=t[r],t[r]=u}ue("FeaturePositionMap",kn);var Pr=function(t,i){this.gl=t.gl,this.location=i},Bu=(function(t){function i(r,u){t.call(this,r,u),this.current=0}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.set=function(r){this.current!==r&&(this.current=r,this.gl.uniform1i(this.location,r))},i})(Pr),Ya=(function(t){function i(r,u){t.call(this,r,u),this.current=0}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.set=function(r){this.current!==r&&(this.current=r,this.gl.uniform1f(this.location,r))},i})(Pr),ba=(function(t){function i(r,u){t.call(this,r,u),this.current=[0,0]}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.set=function(r){r[0]===this.current[0]&&r[1]===this.current[1]||(this.current=r,this.gl.uniform2f(this.location,r[0],r[1]))},i})(Pr),Qs=(function(t){function i(r,u){t.call(this,r,u),this.current=[0,0,0]}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.set=function(r){r[0]===this.current[0]&&r[1]===this.current[1]&&r[2]===this.current[2]||(this.current=r,this.gl.uniform3f(this.location,r[0],r[1],r[2]))},i})(Pr),vo=(function(t){function i(r,u){t.call(this,r,u),this.current=[0,0,0,0]}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.set=function(r){r[0]===this.current[0]&&r[1]===this.current[1]&&r[2]===this.current[2]&&r[3]===this.current[3]||(this.current=r,this.gl.uniform4f(this.location,r[0],r[1],r[2],r[3]))},i})(Pr),qo=(function(t){function i(r,u){t.call(this,r,u),this.current=Ht.transparent}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.set=function(r){r.r===this.current.r&&r.g===this.current.g&&r.b===this.current.b&&r.a===this.current.a||(this.current=r,this.gl.uniform4f(this.location,r.r,r.g,r.b,r.a))},i})(Pr),Ka=new Float32Array(16),Gi=(function(t){function i(r,u){t.call(this,r,u),this.current=Ka}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.set=function(r){if(r[12]!==this.current[12]||r[0]!==this.current[0])return this.current=r,void this.gl.uniformMatrix4fv(this.location,!1,r);for(var u=1;u<16;u++)if(r[u]!==this.current[u]){this.current=r,this.gl.uniformMatrix4fv(this.location,!1,r);break}},i})(Pr);function mi(t){return[Nn(255*t.r,255*t.g),Nn(255*t.b,255*t.a)]}var wi=function(t,i,r){this.value=t,this.names=i,this.uniformNames=this.names.map((function(u){return"u_"+u})),this.type=r,this.maxValue=-1/0};wi.prototype.defines=function(){return this.names.map((function(t){return"#define HAS_UNIFORM_u_"+t}))},wi.prototype.setConstantPatternPositions=function(){},wi.prototype.populatePaintArray=function(){},wi.prototype.updatePaintArray=function(){},wi.prototype.upload=function(){},wi.prototype.destroy=function(){},wi.prototype.setUniforms=function(t,i,r,u){i.set(u.constantOr(this.value))},wi.prototype.getBinding=function(t,i){return this.type==="color"?new qo(t,i):new Ya(t,i)},wi.serialize=function(t){var i=t.value,r=t.names,u=t.type;return{value:va(i),names:r,type:u}},wi.deserialize=function(t){var i=t.value,r=t.names,u=t.type;return new wi(sn(i),r,u)};var pr=function(t,i,r){this.value=t,this.names=i,this.uniformNames=this.names.map((function(u){return"u_"+u})),this.type=r,this.maxValue=-1/0,this.patternPositions={patternTo:null,patternFrom:null}};pr.prototype.defines=function(){return this.names.map((function(t){return"#define HAS_UNIFORM_u_"+t}))},pr.prototype.populatePaintArray=function(){},pr.prototype.updatePaintArray=function(){},pr.prototype.upload=function(){},pr.prototype.destroy=function(){},pr.prototype.setConstantPatternPositions=function(t,i){this.patternPositions.patternTo=t.tlbr,this.patternPositions.patternFrom=i.tlbr},pr.prototype.setUniforms=function(t,i,r,u,f){var d=this.patternPositions;f==="u_pattern_to"&&d.patternTo&&i.set(d.patternTo),f==="u_pattern_from"&&d.patternFrom&&i.set(d.patternFrom)},pr.prototype.getBinding=function(t,i){return new vo(t,i)};var Er=function(t,i,r,u){this.expression=t,this.names=i,this.type=r,this.uniformNames=this.names.map((function(f){return"a_"+f})),this.maxValue=-1/0,this.paintVertexAttributes=i.map((function(f){return{name:"a_"+f,type:"Float32",components:r==="color"?2:1,offset:0}})),this.paintVertexArray=new u};Er.prototype.defines=function(){return[]},Er.prototype.setConstantPatternPositions=function(){},Er.prototype.populatePaintArray=function(t,i,r,u){var f=this.paintVertexArray,d=f.length;f.reserve(t);var y=this.expression.evaluate(new Pi(0),i,{},[],u);if(this.type==="color")for(var x=mi(y),S=d;S<t;S++)f.emplaceBack(x[0],x[1]);else{for(var A=d;A<t;A++)f.emplaceBack(y);this.maxValue=Math.max(this.maxValue,y)}},Er.prototype.updatePaintArray=function(t,i,r,u){var f=this.paintVertexArray,d=this.expression.evaluate({zoom:0},r,u);if(this.type==="color")for(var y=mi(d),x=t;x<i;x++)f.emplace(x,y[0],y[1]);else{for(var S=t;S<i;S++)f.emplace(S,d);this.maxValue=Math.max(this.maxValue,d)}},Er.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Er.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Er.prototype.setUniforms=function(t,i){i.set(0)},Er.prototype.getBinding=function(t,i){return new Ya(t,i)};var Yn=function(t,i,r,u,f,d){this.expression=t,this.names=i,this.uniformNames=this.names.map((function(x){return"u_"+x+"_t"})),this.type=r,this.useIntegerZoom=u,this.zoom=f,this.maxValue=-1/0;var y=d;this.paintVertexAttributes=i.map((function(x){return{name:"a_"+x,type:"Float32",components:r==="color"?4:2,offset:0}})),this.paintVertexArray=new y};Yn.prototype.defines=function(){return[]},Yn.prototype.setConstantPatternPositions=function(){},Yn.prototype.populatePaintArray=function(t,i,r,u){var f=this.paintVertexArray,d=f.length;f.reserve(t);var y=this.expression.evaluate(new Pi(this.zoom),i,{},[],u),x=this.expression.evaluate(new Pi(this.zoom+1),i,{},[],u);if(this.type==="color")for(var S=mi(y),A=mi(x),M=d;M<t;M++)f.emplaceBack(S[0],S[1],A[0],A[1]);else{for(var B=d;B<t;B++)f.emplaceBack(y,x);this.maxValue=Math.max(this.maxValue,y,x)}},Yn.prototype.updatePaintArray=function(t,i,r,u){var f=this.paintVertexArray,d=this.expression.evaluate({zoom:this.zoom},r,u),y=this.expression.evaluate({zoom:this.zoom+1},r,u);if(this.type==="color")for(var x=mi(d),S=mi(y),A=t;A<i;A++)f.emplace(A,x[0],x[1],S[0],S[1]);else{for(var M=t;M<i;M++)f.emplace(M,d,y);this.maxValue=Math.max(this.maxValue,d,y)}},Yn.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Yn.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Yn.prototype.interpolationFactor=function(t){return this.useIntegerZoom&&(t=Math.floor(t)),pe(this.expression.interpolationFactor(t,this.zoom,this.zoom+1),0,1)},Yn.prototype.setUniforms=function(t,i,r){i.set(this.interpolationFactor(r.zoom))},Yn.prototype.getBinding=function(t,i){return new Ya(t,i)};var hr=function(t,i,r,u,f,d,y){this.expression=t,this.names=i,this.type=r,this.uniformNames=this.names.map((function(x){return"u_"+x+"_t"})),this.useIntegerZoom=u,this.zoom=f,this.maxValue=-1/0,this.layerId=y,this.paintVertexAttributes=i.map((function(x){return{name:"a_"+x,type:"Uint16",components:4,offset:0}})),this.zoomInPaintVertexArray=new d,this.zoomOutPaintVertexArray=new d};hr.prototype.defines=function(){return[]},hr.prototype.setConstantPatternPositions=function(){},hr.prototype.populatePaintArray=function(t,i,r){var u=this.zoomInPaintVertexArray,f=this.zoomOutPaintVertexArray,d=this.layerId,y=u.length;if(u.reserve(t),f.reserve(t),r&&i.patterns&&i.patterns[d]){var x=i.patterns[d],S=x.min,A=x.mid,M=x.max,B=r[S],F=r[A],U=r[M];if(!B||!F||!U)return;for(var V=y;V<t;V++)u.emplaceBack(F.tl[0],F.tl[1],F.br[0],F.br[1],B.tl[0],B.tl[1],B.br[0],B.br[1]),f.emplaceBack(F.tl[0],F.tl[1],F.br[0],F.br[1],U.tl[0],U.tl[1],U.br[0],U.br[1])}},hr.prototype.updatePaintArray=function(t,i,r,u,f){var d=this.zoomInPaintVertexArray,y=this.zoomOutPaintVertexArray,x=this.layerId;if(f&&r.patterns&&r.patterns[x]){var S=r.patterns[x],A=S.min,M=S.mid,B=S.max,F=f[A],U=f[M],V=f[B];if(!F||!U||!V)return;for(var J=t;J<i;J++)d.emplace(J,U.tl[0],U.tl[1],U.br[0],U.br[1],F.tl[0],F.tl[1],F.br[0],F.br[1]),y.emplace(J,U.tl[0],U.tl[1],U.br[0],U.br[1],V.tl[0],V.tl[1],V.br[0],V.br[1])}},hr.prototype.upload=function(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},hr.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()},hr.prototype.setUniforms=function(t,i){i.set(0)},hr.prototype.getBinding=function(t,i){return new Ya(t,i)};var Kn=function(){this.binders={},this.cacheKey="",this._buffers=[]};Kn.createDynamic=function(t,i,r){var u=new Kn,f=[];for(var d in t.paint._values)if(r(d)){var y=t.paint.get(d);if(y instanceof Sr&&ls(y.property.specification)){var x=go(d,t.type),S=y.property.specification.type,A=y.property.useIntegerZoom;if(y.property.specification["property-type"]==="cross-faded"||y.property.specification["property-type"]==="cross-faded-data-driven")if(y.value.kind==="constant")u.binders[d]=new pr(y.value.value,x,S),f.push("/u_"+d);else{var M=ys(d,S,"source");u.binders[d]=new hr(y.value,x,S,A,i,M,t.id),f.push("/a_"+d)}else if(y.value.kind==="constant")u.binders[d]=new wi(y.value.value,x,S),f.push("/u_"+d);else if(y.value.kind==="source"){var B=ys(d,S,"source");u.binders[d]=new Er(y.value,x,S,B),f.push("/a_"+d)}else{var F=ys(d,S,"composite");u.binders[d]=new Yn(y.value,x,S,A,i,F),f.push("/z_"+d)}}}return u.cacheKey=f.sort().join(""),u},Kn.prototype.populatePaintArrays=function(t,i,r,u,f){for(var d in this.binders)this.binders[d].populatePaintArray(t,i,u,f)},Kn.prototype.setConstantPatternPositions=function(t,i){for(var r in this.binders)this.binders[r].setConstantPatternPositions(t,i)},Kn.prototype.updatePaintArrays=function(t,i,r,u,f){var d=!1;for(var y in t)for(var x=0,S=i.getPositions(y);x<S.length;x+=1){var A=S[x],M=r.feature(A.index);for(var B in this.binders){var F=this.binders[B];if(!(F instanceof wi||F instanceof pr)&&F.expression.isStateDependent===!0){var U=u.paint.get(B);F.expression=U.value,F.updatePaintArray(A.start,A.end,M,t[y],f),d=!0}}}return d},Kn.prototype.defines=function(){var t=[];for(var i in this.binders)t.push.apply(t,this.binders[i].defines());return t},Kn.prototype.getPaintVertexBuffers=function(){return this._buffers},Kn.prototype.getUniforms=function(t,i){var r=[];for(var u in this.binders)for(var f=this.binders[u],d=0,y=f.uniformNames;d<y.length;d+=1){var x=y[d];if(i[x]){var S=f.getBinding(t,i[x]);r.push({name:x,property:u,binding:S})}}return r},Kn.prototype.setUniforms=function(t,i,r,u){for(var f=0,d=i;f<d.length;f+=1){var y=d[f],x=y.name,S=y.property,A=y.binding;this.binders[S].setUniforms(t,A,u,r.get(S),x)}},Kn.prototype.updatePatternPaintBuffers=function(t){var i=[];for(var r in this.binders){var u=this.binders[r];if(u instanceof hr){var f=t.fromScale===2?u.zoomInPaintVertexBuffer:u.zoomOutPaintVertexBuffer;f&&i.push(f)}else(u instanceof Er||u instanceof Yn)&&u.paintVertexBuffer&&i.push(u.paintVertexBuffer)}this._buffers=i},Kn.prototype.upload=function(t){for(var i in this.binders)this.binders[i].upload(t);var r=[];for(var u in this.binders){var f=this.binders[u];(f instanceof Er||f instanceof Yn)&&f.paintVertexBuffer&&r.push(f.paintVertexBuffer)}this._buffers=r},Kn.prototype.destroy=function(){for(var t in this.binders)this.binders[t].destroy()};var ea=function(t,i,r,u){u===void 0&&(u=function(){return!0}),this.programConfigurations={};for(var f=0,d=i;f<d.length;f+=1){var y=d[f];this.programConfigurations[y.id]=Kn.createDynamic(y,r,u),this.programConfigurations[y.id].layoutAttributes=t}this.needsUpload=!1,this._featureMap=new kn,this._bufferOffset=0};function go(t,i){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from"],"fill-pattern":["pattern_to","pattern_from"],"fill-extrusion-pattern":["pattern_to","pattern_from"]}[t]||[t.replace(i+"-","").replace(/-/g,"_")]}function ys(t,i,r){var u={color:{source:ee,composite:Kt},number:{source:ht,composite:ee}},f=(function(d){return{"line-pattern":{source:L,composite:L},"fill-pattern":{source:L,composite:L},"fill-extrusion-pattern":{source:L,composite:L}}[d]})(t);return f&&f[r]||u[i][r]}ea.prototype.populatePaintArrays=function(t,i,r,u,f){for(var d in this.programConfigurations)this.programConfigurations[d].populatePaintArrays(t,i,r,u,f);i.id!==void 0&&this._featureMap.add(i.id,r,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0},ea.prototype.updatePaintArrays=function(t,i,r,u){for(var f=0,d=r;f<d.length;f+=1){var y=d[f];this.needsUpload=this.programConfigurations[y.id].updatePaintArrays(t,this._featureMap,i,y,u)||this.needsUpload}},ea.prototype.get=function(t){return this.programConfigurations[t]},ea.prototype.upload=function(t){if(this.needsUpload){for(var i in this.programConfigurations)this.programConfigurations[i].upload(t);this.needsUpload=!1}},ea.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()},ue("ConstantBinder",wi),ue("CrossFadedConstantBinder",pr),ue("SourceExpressionBinder",Er),ue("CrossFadedCompositeBinder",hr),ue("CompositeExpressionBinder",Yn),ue("ProgramConfiguration",Kn,{omit:["_buffers"]}),ue("ProgramConfigurationSet",ea);var Ws,Nr=(Ws=15,{min:-1*Math.pow(2,Ws-1),max:Math.pow(2,Ws-1)-1});function vs(t){for(var i=8192/t.extent,r=t.loadGeometry(),u=0;u<r.length;u++)for(var f=r[u],d=0;d<f.length;d++){var y=f[d];y.x=Math.round(y.x*i),y.y=Math.round(y.y*i),(y.x<Nr.min||y.x>Nr.max||y.y<Nr.min||y.y>Nr.max)&&(zi("Geometry exceeds allowed extent, reduce your vector tile buffer size"),y.x=pe(y.x,Nr.min,Nr.max),y.y=pe(y.y,Nr.min,Nr.max))}return r}function Ac(t,i,r,u,f){t.emplaceBack(2*i+(u+1)/2,2*r+(f+1)/2)}var Fr=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(i){return i.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new g,this.indexArray=new wt,this.segments=new qe,this.programConfigurations=new ea(pi,t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter((function(i){return i.isStateDependent()})).map((function(i){return i.id}))};function lh(t,i){for(var r=0;r<t.length;r++)if(Zo(i,t[r]))return!0;for(var u=0;u<i.length;u++)if(Zo(t,i[u]))return!0;return!!jo(t,i)}function $s(t,i,r){return!!Zo(t,i)||!!Ol(i,t,r)}function up(t,i){if(t.length===1)return pp(i,t[0]);for(var r=0;r<i.length;r++)for(var u=i[r],f=0;f<u.length;f++)if(Zo(t,u[f]))return!0;for(var d=0;d<t.length;d++)if(pp(i,t[d]))return!0;for(var y=0;y<i.length;y++)if(jo(t,i[y]))return!0;return!1}function uh(t,i,r){if(t.length>1){if(jo(t,i))return!0;for(var u=0;u<i.length;u++)if(Ol(i[u],t,r))return!0}for(var f=0;f<t.length;f++)if(Ol(t[f],i,r))return!0;return!1}function jo(t,i){if(t.length===0||i.length===0)return!1;for(var r=0;r<t.length-1;r++)for(var u=t[r],f=t[r+1],d=0;d<i.length-1;d++)if(tl(u,f,i[d],i[d+1]))return!0;return!1}function tl(t,i,r,u){return vn(t,r,u)!==vn(i,r,u)&&vn(t,i,r)!==vn(t,i,u)}function Ol(t,i,r){var u=r*r;if(i.length===1)return t.distSqr(i[0])<u;for(var f=1;f<i.length;f++)if(cp(t,i[f-1],i[f])<u)return!0;return!1}function cp(t,i,r){var u=i.distSqr(r);if(u===0)return t.distSqr(i);var f=((t.x-i.x)*(r.x-i.x)+(t.y-i.y)*(r.y-i.y))/u;return f<0?t.distSqr(i):f>1?t.distSqr(r):t.distSqr(r.sub(i)._mult(f)._add(i))}function pp(t,i){for(var r,u,f,d=!1,y=0;y<t.length;y++)for(var x=0,S=(r=t[y]).length-1;x<r.length;S=x++)u=r[x],f=r[S],u.y>i.y!=f.y>i.y&&i.x<(f.x-u.x)*(i.y-u.y)/(f.y-u.y)+u.x&&(d=!d);return d}function Zo(t,i){for(var r=!1,u=0,f=t.length-1;u<t.length;f=u++){var d=t[u],y=t[f];d.y>i.y!=y.y>i.y&&i.x<(y.x-d.x)*(i.y-d.y)/(y.y-d.y)+d.x&&(r=!r)}return r}function zc(t,i,r){var u=r[0],f=r[2];if(t.x<u.x&&i.x<u.x||t.x>f.x&&i.x>f.x||t.y<u.y&&i.y<u.y||t.y>f.y&&i.y>f.y)return!1;var d=vn(t,i,r[0]);return d!==vn(t,i,r[1])||d!==vn(t,i,r[2])||d!==vn(t,i,r[3])}function Ou(t,i,r){var u=i.paint.get(t).value;return u.kind==="constant"?u.value:r.programConfigurations.get(i.id).binders[t].maxValue}function Cc(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function gs(t,i,r,u,f){if(!i[0]&&!i[1])return t;var d=yt.convert(i)._mult(f);r==="viewport"&&d._rotate(-u);for(var y=[],x=0;x<t.length;x++){var S=t[x];y.push(S.sub(d))}return y}Fr.prototype.populate=function(t,i){var r=this.layers[0],u=[],f=null;r.type==="circle"&&(f=r.layout.get("circle-sort-key"));for(var d=0,y=t;d<y.length;d+=1){var x=y[d],S=x.feature,A=x.id,M=x.index,B=x.sourceLayerIndex;if(this.layers[0]._featureFilter(new Pi(this.zoom),S)){var F=vs(S),U=f?f.evaluate(S,{}):void 0,V={id:A,properties:S.properties,type:S.type,sourceLayerIndex:B,index:M,geometry:F,patterns:{},sortKey:U};u.push(V)}}f&&u.sort((function(kt,Wt){return kt.sortKey-Wt.sortKey}));for(var J=0,W=u;J<W.length;J+=1){var et=W[J],mt=et,vt=mt.geometry,gt=mt.index,Lt=mt.sourceLayerIndex,Ot=t[gt].feature;this.addFeature(et,vt,gt),i.featureIndex.insert(Ot,vt,gt,Lt,this.index)}},Fr.prototype.update=function(t,i,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,i,this.stateDependentLayers,r)},Fr.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Fr.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Fr.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,pi),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Fr.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Fr.prototype.addFeature=function(t,i,r){for(var u=0,f=i;u<f.length;u+=1)for(var d=0,y=f[u];d<y.length;d+=1){var x=y[d],S=x.x,A=x.y;if(!(S<0||S>=8192||A<0||A>=8192)){var M=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),B=M.vertexLength;Ac(this.layoutVertexArray,S,A,-1,-1),Ac(this.layoutVertexArray,S,A,1,-1),Ac(this.layoutVertexArray,S,A,1,1),Ac(this.layoutVertexArray,S,A,-1,1),this.indexArray.emplaceBack(B,B+1,B+2),this.indexArray.emplaceBack(B,B+3,B+2),M.vertexLength+=4,M.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,r,{})},ue("CircleBucket",Fr,{omit:["layers"]});var hp=new fn({"circle-sort-key":new _e(zt.layout_circle["circle-sort-key"])}),cf={paint:new fn({"circle-radius":new _e(zt.paint_circle["circle-radius"]),"circle-color":new _e(zt.paint_circle["circle-color"]),"circle-blur":new _e(zt.paint_circle["circle-blur"]),"circle-opacity":new _e(zt.paint_circle["circle-opacity"]),"circle-translate":new fe(zt.paint_circle["circle-translate"]),"circle-translate-anchor":new fe(zt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new fe(zt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new fe(zt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new _e(zt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new _e(zt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new _e(zt.paint_circle["circle-stroke-opacity"])}),layout:hp},Ia=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=arguments,i=0,r=arguments.length;r--;)i+=t[r]*t[r];return Math.sqrt(i)});var Uu;Uu=new Ia(3),Ia!=Float32Array&&(Uu[0]=0,Uu[1]=0,Uu[2]=0);function Vr(t,i,r){var u=i[0],f=i[1],d=i[2],y=i[3];return t[0]=r[0]*u+r[4]*f+r[8]*d+r[12]*y,t[1]=r[1]*u+r[5]*f+r[9]*d+r[13]*y,t[2]=r[2]*u+r[6]*f+r[10]*d+r[14]*y,t[3]=r[3]*u+r[7]*f+r[11]*d+r[15]*y,t}(function(){(function(){var t=new Ia(4);return Ia!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t})()})();var Ja=(function(t){function i(r){t.call(this,r,cf)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.createBucket=function(r){return new Fr(r)},i.prototype.queryRadius=function(r){var u=r;return Ou("circle-radius",this,u)+Ou("circle-stroke-width",this,u)+Cc(this.paint.get("circle-translate"))},i.prototype.queryIntersectsFeature=function(r,u,f,d,y,x,S,A){for(var M=gs(r,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),x.angle,S),B=this.paint.get("circle-radius").evaluate(u,f)+this.paint.get("circle-stroke-width").evaluate(u,f),F=this.paint.get("circle-pitch-alignment")==="map",U=F?M:(function(kt,Wt){return kt.map((function($t){return _s($t,Wt)}))})(M,A),V=F?B*S:B,J=0,W=d;J<W.length;J+=1)for(var et=0,mt=W[J];et<mt.length;et+=1){var vt=mt[et],gt=F?vt:_s(vt,A),Lt=V,Ot=Vr([],[vt.x,vt.y,0,1],A);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Lt*=Ot[3]/x.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Lt*=x.cameraToCenterDistance/Ot[3]),$s(U,gt,Lt))return!0}return!1},i})(_r);function _s(t,i){var r=Vr([],[t.x,t.y,0,1],i);return new yt(r[0]/r[3],r[1]/r[3])}var fp=(function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i})(Fr);function dp(t,i,r,u){var f=i.width,d=i.height;if(u){if(u instanceof Uint8ClampedArray)u=new Uint8Array(u.buffer);else if(u.length!==f*d*r)throw new RangeError("mismatched image size")}else u=new Uint8Array(f*d*r);return t.width=f,t.height=d,t.data=u,t}function xs(t,i,r){var u=i.width,f=i.height;if(u!==t.width||f!==t.height){var d=dp({},{width:u,height:f},r);ia(t,d,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,u),height:Math.min(t.height,f)},r),t.width=u,t.height=f,t.data=d.data}}function ia(t,i,r,u,f,d){if(f.width===0||f.height===0)return i;if(f.width>t.width||f.height>t.height||r.x>t.width-f.width||r.y>t.height-f.height)throw new RangeError("out of range source coordinates for image copy");if(f.width>i.width||f.height>i.height||u.x>i.width-f.width||u.y>i.height-f.height)throw new RangeError("out of range destination coordinates for image copy");for(var y=t.data,x=i.data,S=0;S<f.height;S++)for(var A=((r.y+S)*t.width+r.x)*d,M=((u.y+S)*i.width+u.x)*d,B=0;B<f.width*d;B++)x[M+B]=y[A+B];return i}ue("HeatmapBucket",fp,{omit:["layers"]});var dn=function(t,i){dp(this,t,1,i)};dn.prototype.resize=function(t){xs(this,t,1)},dn.prototype.clone=function(){return new dn({width:this.width,height:this.height},new Uint8Array(this.data))},dn.copy=function(t,i,r,u,f){ia(t,i,r,u,f,1)};var fr=function(t,i){dp(this,t,4,i)};fr.prototype.resize=function(t){xs(this,t,4)},fr.prototype.replace=function(t,i){i?this.data.set(t):t instanceof Uint8ClampedArray?this.data=new Uint8Array(t.buffer):this.data=t},fr.prototype.clone=function(){return new fr({width:this.width,height:this.height},new Uint8Array(this.data))},fr.copy=function(t,i,r,u,f){ia(t,i,r,u,f,4)},ue("AlphaImage",dn),ue("RGBAImage",fr);var bs={paint:new fn({"heatmap-radius":new _e(zt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new _e(zt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new fe(zt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Js(zt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new fe(zt.paint_heatmap["heatmap-opacity"])})};function ai(t,i){for(var r=new Uint8Array(1024),u={},f=0,d=0;f<256;f++,d+=4){u[i]=f/255;var y=t.evaluate(u);r[d+0]=Math.floor(255*y.r/y.a),r[d+1]=Math.floor(255*y.g/y.a),r[d+2]=Math.floor(255*y.b/y.a),r[d+3]=Math.floor(255*y.a)}return new fr({width:256,height:1},r)}var ln=(function(t){function i(r){t.call(this,r,bs),this._updateColorRamp()}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.createBucket=function(r){return new fp(r)},i.prototype._handleSpecialPaintPropertyUpdate=function(r){r==="heatmap-color"&&this._updateColorRamp()},i.prototype._updateColorRamp=function(){var r=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=ai(r,"heatmapDensity"),this.colorRampTexture=null},i.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},i.prototype.queryRadius=function(){return 0},i.prototype.queryIntersectsFeature=function(){return!1},i.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},i})(_r),er={paint:new fn({"hillshade-illumination-direction":new fe(zt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new fe(zt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new fe(zt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new fe(zt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new fe(zt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new fe(zt.paint_hillshade["hillshade-accent-color"])})},mp=(function(t){function i(r){t.call(this,r,er)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},i})(_r),Ul=c([{name:"a_pos",components:2,type:"Int16"}],4).members,ws=el,yp=el;function el(t,i,r){r=r||2;var u,f,d,y,x,S,A,M=i&&i.length,B=M?i[0]*r:t.length,F=Pl(t,0,B,r,!0),U=[];if(!F||F.next===F.prev)return U;if(M&&(F=(function(J,W,et,mt){var vt,gt,Lt,Ot,kt,Wt=[];for(vt=0,gt=W.length;vt<gt;vt++)Lt=W[vt]*mt,Ot=vt<gt-1?W[vt+1]*mt:J.length,(kt=Pl(J,Lt,Ot,mt,!1))===kt.next&&(kt.steiner=!0),Wt.push(na(kt));for(Wt.sort(Sd),vt=0;vt<Wt.length;vt++)et=il(et=hh(Wt[vt],et),et.next);return et})(t,i,F,r)),t.length>80*r){u=d=t[0],f=y=t[1];for(var V=r;V<B;V+=r)(x=t[V])<u&&(u=x),(S=t[V+1])<f&&(f=S),x>d&&(d=x),S>y&&(y=S);A=(A=Math.max(d-u,y-f))!==0?1/A:0}return _n(F,U,r,u,f,A),U}function Pl(t,i,r,u,f){var d,y;if(f===bp(t,i,r,u)>0)for(d=i;d<r;d+=u)y=dh(d,t[d],t[d+1],y);else for(d=r-u;d>=i;d-=u)y=dh(d,t[d],t[d+1],y);return y&&Nl(y,y.next)&&(Pu(y),y=y.next),y}function il(t,i){if(!t)return t;i||(i=t);var r,u=t;do if(r=!1,u.steiner||!Nl(u,u.next)&&mn(u.prev,u,u.next)!==0)u=u.next;else{if(Pu(u),(u=i=u.prev)===u.next)break;r=!0}while(r||u!==i);return i}function _n(t,i,r,u,f,d,y){if(t){!y&&d&&(function(M,B,F,U){var V=M;do V.z===null&&(V.z=Mc(V.x,V.y,B,F,U)),V.prevZ=V.prev,V.nextZ=V.next,V=V.next;while(V!==M);V.prevZ.nextZ=null,V.prevZ=null,(function(J){var W,et,mt,vt,gt,Lt,Ot,kt,Wt=1;do{for(et=J,J=null,gt=null,Lt=0;et;){for(Lt++,mt=et,Ot=0,W=0;W<Wt&&(Ot++,mt=mt.nextZ);W++);for(kt=Wt;Ot>0||kt>0&&mt;)Ot!==0&&(kt===0||!mt||et.z<=mt.z)?(vt=et,et=et.nextZ,Ot--):(vt=mt,mt=mt.nextZ,kt--),gt?gt.nextZ=vt:J=vt,vt.prevZ=gt,gt=vt;et=mt}gt.nextZ=null,Wt*=2}while(Lt>1)})(V)})(t,u,f,d);for(var x,S,A=t;t.prev!==t.next;)if(x=t.prev,S=t.next,d?ph(t,u,f,d):ch(t))i.push(x.i/r),i.push(t.i/r),i.push(S.i/r),Pu(t),t=S.next,A=S.next;else if((t=S)===A){y?y===1?_n(t=pf(il(t),i,r),i,r,u,f,d,2):y===2&&hf(t,i,r,u,f,d):_n(il(t),i,r,u,f,d,1);break}}}function ch(t){var i=t.prev,r=t,u=t.next;if(mn(i,r,u)>=0)return!1;for(var f=t.next.next;f!==t.prev;){if(xn(i.x,i.y,r.x,r.y,u.x,u.y,f.x,f.y)&&mn(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function ph(t,i,r,u){var f=t.prev,d=t,y=t.next;if(mn(f,d,y)>=0)return!1;for(var x=f.x<d.x?f.x<y.x?f.x:y.x:d.x<y.x?d.x:y.x,S=f.y<d.y?f.y<y.y?f.y:y.y:d.y<y.y?d.y:y.y,A=f.x>d.x?f.x>y.x?f.x:y.x:d.x>y.x?d.x:y.x,M=f.y>d.y?f.y>y.y?f.y:y.y:d.y>y.y?d.y:y.y,B=Mc(x,S,i,r,u),F=Mc(A,M,i,r,u),U=t.prevZ,V=t.nextZ;U&&U.z>=B&&V&&V.z<=F;){if(U!==t.prev&&U!==t.next&&xn(f.x,f.y,d.x,d.y,y.x,y.y,U.x,U.y)&&mn(U.prev,U,U.next)>=0||(U=U.prevZ,V!==t.prev&&V!==t.next&&xn(f.x,f.y,d.x,d.y,y.x,y.y,V.x,V.y)&&mn(V.prev,V,V.next)>=0))return!1;V=V.nextZ}for(;U&&U.z>=B;){if(U!==t.prev&&U!==t.next&&xn(f.x,f.y,d.x,d.y,y.x,y.y,U.x,U.y)&&mn(U.prev,U,U.next)>=0)return!1;U=U.prevZ}for(;V&&V.z<=F;){if(V!==t.prev&&V!==t.next&&xn(f.x,f.y,d.x,d.y,y.x,y.y,V.x,V.y)&&mn(V.prev,V,V.next)>=0)return!1;V=V.nextZ}return!0}function pf(t,i,r){var u=t;do{var f=u.prev,d=u.next.next;!Nl(f,d)&&gp(f,u,u.next,d)&&Vl(f,d)&&Vl(d,f)&&(i.push(f.i/r),i.push(u.i/r),i.push(d.i/r),Pu(u),Pu(u.next),u=t=d),u=u.next}while(u!==t);return il(u)}function hf(t,i,r,u,f,d){var y=t;do{for(var x=y.next.next;x!==y.prev;){if(y.i!==x.i&&vp(y,x)){var S=_p(y,x);return y=il(y,y.next),S=il(S,S.next),_n(y,i,r,u,f,d),void _n(S,i,r,u,f,d)}x=x.next}y=y.next}while(y!==t)}function Sd(t,i){return t.x-i.x}function hh(t,i){var r=(function(d,y){var x,S=y,A=d.x,M=d.y,B=-1/0;do{if(M<=S.y&&M>=S.next.y&&S.next.y!==S.y){var F=S.x+(M-S.y)*(S.next.x-S.x)/(S.next.y-S.y);if(F<=A&&F>B){if(B=F,F===A){if(M===S.y)return S;if(M===S.next.y)return S.next}x=S.x<S.next.x?S:S.next}}S=S.next}while(S!==y);if(!x)return null;if(A===B)return x;var U,V=x,J=x.x,W=x.y,et=1/0;S=x;do A>=S.x&&S.x>=J&&A!==S.x&&xn(M<W?A:B,M,J,W,M<W?B:A,M,S.x,S.y)&&(U=Math.abs(M-S.y)/(A-S.x),Vl(S,d)&&(U<et||U===et&&(S.x>x.x||S.x===x.x&&fh(x,S)))&&(x=S,et=U)),S=S.next;while(S!==V);return x})(t,i);if(!r)return i;var u=_p(r,t),f=il(r,r.next);return il(u,u.next),i===r?f:i}function fh(t,i){return mn(t.prev,t,i.prev)<0&&mn(i.next,t,t.next)<0}function Mc(t,i,r,u,f){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*f)|t<<8))|t<<4))|t<<2))|t<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=32767*(i-u)*f)|i<<8))|i<<4))|i<<2))|i<<1))<<1}function na(t){var i=t,r=t;do(i.x<r.x||i.x===r.x&&i.y<r.y)&&(r=i),i=i.next;while(i!==t);return r}function xn(t,i,r,u,f,d,y,x){return(f-y)*(i-x)-(t-y)*(d-x)>=0&&(t-y)*(u-x)-(r-y)*(i-x)>=0&&(r-y)*(d-x)-(f-y)*(u-x)>=0}function vp(t,i){return t.next.i!==i.i&&t.prev.i!==i.i&&!(function(r,u){var f=r;do{if(f.i!==r.i&&f.next.i!==r.i&&f.i!==u.i&&f.next.i!==u.i&&gp(f,f.next,r,u))return!0;f=f.next}while(f!==r);return!1})(t,i)&&(Vl(t,i)&&Vl(i,t)&&(function(r,u){var f=r,d=!1,y=(r.x+u.x)/2,x=(r.y+u.y)/2;do f.y>x!=f.next.y>x&&f.next.y!==f.y&&y<(f.next.x-f.x)*(x-f.y)/(f.next.y-f.y)+f.x&&(d=!d),f=f.next;while(f!==r);return d})(t,i)&&(mn(t.prev,t,i.prev)||mn(t,i.prev,i))||Nl(t,i)&&mn(t.prev,t,t.next)>0&&mn(i.prev,i,i.next)>0)}function mn(t,i,r){return(i.y-t.y)*(r.x-i.x)-(i.x-t.x)*(r.y-i.y)}function Nl(t,i){return t.x===i.x&&t.y===i.y}function gp(t,i,r,u){var f=Fl(mn(t,i,r)),d=Fl(mn(t,i,u)),y=Fl(mn(r,u,t)),x=Fl(mn(r,u,i));return f!==d&&y!==x||!(f!==0||!Qa(t,r,i))||!(d!==0||!Qa(t,u,i))||!(y!==0||!Qa(r,t,u))||!(x!==0||!Qa(r,i,u))}function Qa(t,i,r){return i.x<=Math.max(t.x,r.x)&&i.x>=Math.min(t.x,r.x)&&i.y<=Math.max(t.y,r.y)&&i.y>=Math.min(t.y,r.y)}function Fl(t){return t>0?1:t<0?-1:0}function Vl(t,i){return mn(t.prev,t,t.next)<0?mn(t,i,t.next)>=0&&mn(t,t.prev,i)>=0:mn(t,i,t.prev)<0||mn(t,t.next,i)<0}function _p(t,i){var r=new xp(t.i,t.x,t.y),u=new xp(i.i,i.x,i.y),f=t.next,d=i.prev;return t.next=i,i.prev=t,r.next=f,f.prev=r,u.next=r,r.prev=u,d.next=u,u.prev=d,u}function dh(t,i,r,u){var f=new xp(t,i,r);return u?(f.next=u.next,f.prev=u,u.next.prev=f,u.next=f):(f.prev=f,f.next=f),f}function Pu(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function xp(t,i,r){this.i=t,this.x=i,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function bp(t,i,r,u){for(var f=0,d=i,y=r-u;d<r;d+=u)f+=(t[y]-t[d])*(t[d+1]+t[y+1]),y=d;return f}function ff(t,i,r,u,f){(function d(y,x,S,A,M){for(;A>S;){if(A-S>600){var B=A-S+1,F=x-S+1,U=Math.log(B),V=.5*Math.exp(2*U/3),J=.5*Math.sqrt(U*V*(B-V)/B)*(F-B/2<0?-1:1),W=Math.max(S,Math.floor(x-F*V/B+J)),et=Math.min(A,Math.floor(x+(B-F)*V/B+J));d(y,x,W,et,M)}var mt=y[x],vt=S,gt=A;for(Nu(y,S,x),M(y[A],mt)>0&&Nu(y,S,A);vt<gt;){for(Nu(y,vt,gt),vt++,gt--;M(y[vt],mt)<0;)vt++;for(;M(y[gt],mt)>0;)gt--}M(y[S],mt)===0?Nu(y,S,gt):(gt++,Nu(y,gt,A)),gt<=x&&(S=gt+1),x<=gt&&(A=gt-1)}})(t,i,r,u||t.length-1,f||mh)}function Nu(t,i,r){var u=t[i];t[i]=t[r],t[r]=u}function mh(t,i){return t<i?-1:t>i?1:0}function wp(t,i){var r=t.length;if(r<=1)return[t];for(var u,f,d=[],y=0;y<r;y++){var x=ca(t[y]);x!==0&&(t[y].area=Math.abs(x),f===void 0&&(f=x<0),f===x<0?(u&&d.push(u),u=[t[y]]):u.push(t[y]))}if(u&&d.push(u),i>1)for(var S=0;S<d.length;S++)d[S].length<=i||(ff(d[S],i,1,d[S].length-1,Ed),d[S]=d[S].slice(0,i));return d}function Ed(t,i){return i.area-t.area}function Sp(t,i,r){for(var u=r.patternDependencies,f=!1,d=0,y=i;d<y.length;d+=1){var x=y[d].paint.get(t+"-pattern");x.isConstant()||(f=!0);var S=x.constantOr(null);S&&(f=!0,u[S.to]=!0,u[S.from]=!0)}return f}function Ep(t,i,r,u,f){for(var d=f.patternDependencies,y=0,x=i;y<x.length;y+=1){var S=x[y],A=S.paint.get(t+"-pattern").value;if(A.kind!=="constant"){var M=A.evaluate({zoom:u-1},r,{},f.availableImages),B=A.evaluate({zoom:u},r,{},f.availableImages),F=A.evaluate({zoom:u+1},r,{},f.availableImages);M=M&&M.name?M.name:M,B=B&&B.name?B.name:B,F=F&&F.name?F.name:F,d[M]=!0,d[B]=!0,d[F]=!0,r.patterns[S.id]={min:M,mid:B,max:F}}}return r}el.deviation=function(t,i,r,u){var f=i&&i.length,d=f?i[0]*r:t.length,y=Math.abs(bp(t,0,d,r));if(f)for(var x=0,S=i.length;x<S;x++){var A=i[x]*r,M=x<S-1?i[x+1]*r:t.length;y-=Math.abs(bp(t,A,M,r))}var B=0;for(x=0;x<u.length;x+=3){var F=u[x]*r,U=u[x+1]*r,V=u[x+2]*r;B+=Math.abs((t[F]-t[V])*(t[U+1]-t[F+1])-(t[F]-t[U])*(t[V+1]-t[F+1]))}return y===0&&B===0?0:Math.abs((B-y)/y)},el.flatten=function(t){for(var i=t[0][0].length,r={vertices:[],holes:[],dimensions:i},u=0,f=0;f<t.length;f++){for(var d=0;d<t[f].length;d++)for(var y=0;y<i;y++)r.vertices.push(t[f][d][y]);f>0&&(u+=t[f-1].length,r.holes.push(u))}return r},ws.default=yp;var Wa=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(i){return i.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new g,this.indexArray=new wt,this.indexArray2=new Mt,this.programConfigurations=new ea(Ul,t.layers,t.zoom),this.segments=new qe,this.segments2=new qe,this.stateDependentLayerIds=this.layers.filter((function(i){return i.isStateDependent()})).map((function(i){return i.id}))};Wa.prototype.populate=function(t,i){this.hasPattern=Sp("fill",this.layers,i);for(var r=this.layers[0].layout.get("fill-sort-key"),u=[],f=0,d=t;f<d.length;f+=1){var y=d[f],x=y.feature,S=y.id,A=y.index,M=y.sourceLayerIndex;if(this.layers[0]._featureFilter(new Pi(this.zoom),x)){var B=vs(x),F=r?r.evaluate(x,{},i.availableImages):void 0,U={id:S,properties:x.properties,type:x.type,sourceLayerIndex:M,index:A,geometry:B,patterns:{},sortKey:F};u.push(U)}}r&&u.sort((function(kt,Wt){return kt.sortKey-Wt.sortKey}));for(var V=0,J=u;V<J.length;V+=1){var W=J[V],et=W,mt=et.geometry,vt=et.index,gt=et.sourceLayerIndex;if(this.hasPattern){var Lt=Ep("fill",this.layers,W,this.zoom,i);this.patternFeatures.push(Lt)}else this.addFeature(W,mt,vt,{});var Ot=t[vt].feature;i.featureIndex.insert(Ot,mt,vt,gt,this.index)}},Wa.prototype.update=function(t,i,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,i,this.stateDependentLayers,r)},Wa.prototype.addFeatures=function(t,i){for(var r=0,u=this.patternFeatures;r<u.length;r+=1){var f=u[r];this.addFeature(f,f.geometry,f.index,i)}},Wa.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Wa.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Wa.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ul),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0},Wa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Wa.prototype.addFeature=function(t,i,r,u){for(var f=0,d=wp(i,500);f<d.length;f+=1){for(var y=d[f],x=0,S=0,A=y;S<A.length;S+=1)x+=A[S].length;for(var M=this.segments.prepareSegment(x,this.layoutVertexArray,this.indexArray),B=M.vertexLength,F=[],U=[],V=0,J=y;V<J.length;V+=1){var W=J[V];if(W.length!==0){W!==y[0]&&U.push(F.length/2);var et=this.segments2.prepareSegment(W.length,this.layoutVertexArray,this.indexArray2),mt=et.vertexLength;this.layoutVertexArray.emplaceBack(W[0].x,W[0].y),this.indexArray2.emplaceBack(mt+W.length-1,mt),F.push(W[0].x),F.push(W[0].y);for(var vt=1;vt<W.length;vt++)this.layoutVertexArray.emplaceBack(W[vt].x,W[vt].y),this.indexArray2.emplaceBack(mt+vt-1,mt+vt),F.push(W[vt].x),F.push(W[vt].y);et.vertexLength+=W.length,et.primitiveLength+=W.length}}for(var gt=ws(F,U),Lt=0;Lt<gt.length;Lt+=3)this.indexArray.emplaceBack(B+gt[Lt],B+gt[Lt+1],B+gt[Lt+2]);M.vertexLength+=x,M.primitiveLength+=gt.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,r,u)},ue("FillBucket",Wa,{omit:["layers","patternFeatures"]});var yh=new fn({"fill-sort-key":new _e(zt.layout_fill["fill-sort-key"])}),df={paint:new fn({"fill-antialias":new fe(zt.paint_fill["fill-antialias"]),"fill-opacity":new _e(zt.paint_fill["fill-opacity"]),"fill-color":new _e(zt.paint_fill["fill-color"]),"fill-outline-color":new _e(zt.paint_fill["fill-outline-color"]),"fill-translate":new fe(zt.paint_fill["fill-translate"]),"fill-translate-anchor":new fe(zt.paint_fill["fill-translate-anchor"]),"fill-pattern":new Ur(zt.paint_fill["fill-pattern"])}),layout:yh},mf=(function(t){function i(r){t.call(this,r,df)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.recalculate=function(r,u){t.prototype.recalculate.call(this,r,u);var f=this.paint._values["fill-outline-color"];f.value.kind==="constant"&&f.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},i.prototype.createBucket=function(r){return new Wa(r)},i.prototype.queryRadius=function(){return Cc(this.paint.get("fill-translate"))},i.prototype.queryIntersectsFeature=function(r,u,f,d,y,x,S){return up(gs(r,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),x.angle,S),d)},i.prototype.isTileClipped=function(){return!0},i})(_r),vh=c([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,gh=ql;function ql(t,i,r,u,f){this.properties={},this.extent=r,this.type=0,this._pbf=t,this._geometry=-1,this._keys=u,this._values=f,t.readFields(Td,this,i)}function Td(t,i,r){t==1?i.id=r.readVarint():t==2?(function(u,f){for(var d=u.readVarint()+u.pos;u.pos<d;){var y=f._keys[u.readVarint()],x=f._values[u.readVarint()];f.properties[y]=x}})(r,i):t==3?i.type=r.readVarint():t==4&&(i._geometry=r.pos)}function yf(t){for(var i,r,u=0,f=0,d=t.length,y=d-1;f<d;y=f++)i=t[f],u+=((r=t[y]).x-i.x)*(i.y+r.y);return u}ql.types=["Unknown","Point","LineString","Polygon"],ql.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var i,r=t.readVarint()+t.pos,u=1,f=0,d=0,y=0,x=[];t.pos<r;){if(f<=0){var S=t.readVarint();u=7&S,f=S>>3}if(f--,u===1||u===2)d+=t.readSVarint(),y+=t.readSVarint(),u===1&&(i&&x.push(i),i=[]),i.push(new yt(d,y));else{if(u!==7)throw new Error("unknown command "+u);i&&i.push(i[0].clone())}}return i&&x.push(i),x},ql.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var i=t.readVarint()+t.pos,r=1,u=0,f=0,d=0,y=1/0,x=-1/0,S=1/0,A=-1/0;t.pos<i;){if(u<=0){var M=t.readVarint();r=7&M,u=M>>3}if(u--,r===1||r===2)(f+=t.readSVarint())<y&&(y=f),f>x&&(x=f),(d+=t.readSVarint())<S&&(S=d),d>A&&(A=d);else if(r!==7)throw new Error("unknown command "+r)}return[y,S,x,A]},ql.prototype.toGeoJSON=function(t,i,r){var u,f,d=this.extent*Math.pow(2,r),y=this.extent*t,x=this.extent*i,S=this.loadGeometry(),A=ql.types[this.type];function M(U){for(var V=0;V<U.length;V++){var J=U[V],W=180-360*(J.y+x)/d;U[V]=[360*(J.x+y)/d-180,360/Math.PI*Math.atan(Math.exp(W*Math.PI/180))-90]}}switch(this.type){case 1:var B=[];for(u=0;u<S.length;u++)B[u]=S[u][0];M(S=B);break;case 2:for(u=0;u<S.length;u++)M(S[u]);break;case 3:for(S=(function(U){var V=U.length;if(V<=1)return[U];for(var J,W,et=[],mt=0;mt<V;mt++){var vt=yf(U[mt]);vt!==0&&(W===void 0&&(W=vt<0),W===vt<0?(J&&et.push(J),J=[U[mt]]):J.push(U[mt]))}return J&&et.push(J),et})(S),u=0;u<S.length;u++)for(f=0;f<S[u].length;f++)M(S[u][f])}S.length===1?S=S[0]:A="Multi"+A;var F={type:"Feature",geometry:{type:A,coordinates:S},properties:this.properties};return"id"in this&&(F.id=this.id),F};var jl=_h;function _h(t,i){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(Tp,this,i),this.length=this._features.length}function Tp(t,i,r){t===15?i.version=r.readVarint():t===1?i.name=r.readString():t===5?i.extent=r.readVarint():t===2?i._features.push(r.pos):t===3?i._keys.push(r.readString()):t===4&&i._values.push((function(u){for(var f=null,d=u.readVarint()+u.pos;u.pos<d;){var y=u.readVarint()>>3;f=y===1?u.readString():y===2?u.readFloat():y===3?u.readDouble():y===4?u.readVarint64():y===5?u.readVarint():y===6?u.readSVarint():y===7?u.readBoolean():null}return f})(r))}function Ap(t,i,r){if(t===3){var u=new jl(r,r.readVarint()+r.pos);u.length&&(i[u.name]=u)}}_h.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var i=this._pbf.readVarint()+this._pbf.pos;return new gh(this._pbf,i,this.extent,this._keys,this._values)};var Zl={VectorTile:function(t,i){this.layers=t.readFields(Ap,{},i)},VectorTileFeature:gh,VectorTileLayer:jl},xh=Zl.VectorTileFeature.types,bh=Math.pow(2,13);function Fu(t,i,r,u,f,d,y,x){t.emplaceBack(i,r,2*Math.floor(u*bh)+y,f*bh*2,d*bh*2,Math.round(x))}var $a=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(i){return i.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new w,this.indexArray=new wt,this.programConfigurations=new ea(vh,t.layers,t.zoom),this.segments=new qe,this.stateDependentLayerIds=this.layers.filter((function(i){return i.isStateDependent()})).map((function(i){return i.id}))};function vf(t,i){return t.x===i.x&&(t.x<0||t.x>8192)||t.y===i.y&&(t.y<0||t.y>8192)}function gf(t){return t.every((function(i){return i.x<0}))||t.every((function(i){return i.x>8192}))||t.every((function(i){return i.y<0}))||t.every((function(i){return i.y>8192}))}$a.prototype.populate=function(t,i){this.features=[],this.hasPattern=Sp("fill-extrusion",this.layers,i);for(var r=0,u=t;r<u.length;r+=1){var f=u[r],d=f.feature,y=f.id,x=f.index,S=f.sourceLayerIndex;if(this.layers[0]._featureFilter(new Pi(this.zoom),d)){var A=vs(d),M={id:y,sourceLayerIndex:S,index:x,geometry:A,properties:d.properties,type:d.type,patterns:{}};d.id!==void 0&&(M.id=d.id),this.hasPattern?this.features.push(Ep("fill-extrusion",this.layers,M,this.zoom,i)):this.addFeature(M,A,x,{}),i.featureIndex.insert(d,A,x,S,this.index,!0)}}},$a.prototype.addFeatures=function(t,i){for(var r=0,u=this.features;r<u.length;r+=1){var f=u[r],d=f.geometry;this.addFeature(f,d,f.index,i)}},$a.prototype.update=function(t,i,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,i,this.stateDependentLayers,r)},$a.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},$a.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},$a.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,vh),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},$a.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},$a.prototype.addFeature=function(t,i,r,u){for(var f=0,d=wp(i,500);f<d.length;f+=1){for(var y=d[f],x=0,S=0,A=y;S<A.length;S+=1)x+=A[S].length;for(var M=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),B=0,F=y;B<F.length;B+=1){var U=F[B];if(U.length!==0&&!gf(U))for(var V=0,J=0;J<U.length;J++){var W=U[J];if(J>=1){var et=U[J-1];if(!vf(W,et)){M.vertexLength+4>qe.MAX_VERTEX_ARRAY_LENGTH&&(M=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var mt=W.sub(et)._perp()._unit(),vt=et.dist(W);V+vt>32768&&(V=0),Fu(this.layoutVertexArray,W.x,W.y,mt.x,mt.y,0,0,V),Fu(this.layoutVertexArray,W.x,W.y,mt.x,mt.y,0,1,V),V+=vt,Fu(this.layoutVertexArray,et.x,et.y,mt.x,mt.y,0,0,V),Fu(this.layoutVertexArray,et.x,et.y,mt.x,mt.y,0,1,V);var gt=M.vertexLength;this.indexArray.emplaceBack(gt,gt+2,gt+1),this.indexArray.emplaceBack(gt+1,gt+2,gt+3),M.vertexLength+=4,M.primitiveLength+=2}}}}if(M.vertexLength+x>qe.MAX_VERTEX_ARRAY_LENGTH&&(M=this.segments.prepareSegment(x,this.layoutVertexArray,this.indexArray)),xh[t.type]==="Polygon"){for(var Lt=[],Ot=[],kt=M.vertexLength,Wt=0,$t=y;Wt<$t.length;Wt+=1){var oe=$t[Wt];if(oe.length!==0){oe!==y[0]&&Ot.push(Lt.length/2);for(var ie=0;ie<oe.length;ie++){var se=oe[ie];Fu(this.layoutVertexArray,se.x,se.y,0,0,1,1,0),Lt.push(se.x),Lt.push(se.y)}}}for(var te=ws(Lt,Ot),Gt=0;Gt<te.length;Gt+=3)this.indexArray.emplaceBack(kt+te[Gt],kt+te[Gt+2],kt+te[Gt+1]);M.primitiveLength+=te.length/3,M.vertexLength+=x}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,r,u)},ue("FillExtrusionBucket",$a,{omit:["layers","features"]});var _f={paint:new fn({"fill-extrusion-opacity":new fe(zt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new _e(zt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new fe(zt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new fe(zt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Ur(zt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new _e(zt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new _e(zt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new fe(zt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},wh=(function(t){function i(r){t.call(this,r,_f)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.createBucket=function(r){return new $a(r)},i.prototype.queryRadius=function(){return Cc(this.paint.get("fill-extrusion-translate"))},i.prototype.is3D=function(){return!0},i.prototype.queryIntersectsFeature=function(r,u,f,d,y,x,S,A){var M=gs(r,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),x.angle,S),B=this.paint.get("fill-extrusion-height").evaluate(u,f),F=this.paint.get("fill-extrusion-base").evaluate(u,f),U=(function(J,W,et,mt){for(var vt=[],gt=0,Lt=J;gt<Lt.length;gt+=1){var Ot=Lt[gt],kt=[Ot.x,Ot.y,mt,1];Vr(kt,kt,W),vt.push(new yt(kt[0]/kt[3],kt[1]/kt[3]))}return vt})(M,A,0,0),V=(function(J,W,et,mt){for(var vt=[],gt=[],Lt=mt[8]*W,Ot=mt[9]*W,kt=mt[10]*W,Wt=mt[11]*W,$t=mt[8]*et,oe=mt[9]*et,ie=mt[10]*et,se=mt[11]*et,te=0,Gt=J;te<Gt.length;te+=1){for(var Oe=Gt[te],xi=[],ui=[],Ae=0,Ye=Oe;Ae<Ye.length;Ae+=1){var ei=Ye[Ae],Ue=ei.x,$e=ei.y,ci=mt[0]*Ue+mt[4]*$e+mt[12],Hi=mt[1]*Ue+mt[5]*$e+mt[13],cn=mt[2]*Ue+mt[6]*$e+mt[14],mr=mt[3]*Ue+mt[7]*$e+mt[15],yr=cn+kt,zn=mr+Wt,Fn=ci+$t,Cn=Hi+oe,Vn=cn+ie,In=mr+se,Qi=new yt((ci+Lt)/zn,(Hi+Ot)/zn);Qi.z=yr/zn,xi.push(Qi);var bn=new yt(Fn/In,Cn/In);bn.z=Vn/In,ui.push(bn)}vt.push(xi),gt.push(ui)}return[vt,gt]})(d,F,B,A);return(function(J,W,et){var mt=1/0;up(et,W)&&(mt=Sh(et,W[0]));for(var vt=0;vt<W.length;vt++)for(var gt=W[vt],Lt=J[vt],Ot=0;Ot<gt.length-1;Ot++){var kt=gt[Ot],Wt=gt[Ot+1],$t=Lt[Ot],oe=Lt[Ot+1],ie=[kt,Wt,oe,$t,kt];lh(et,ie)&&(mt=Math.min(mt,Sh(et,ie)))}return mt!==1/0&&mt})(V[0],V[1],U)},i})(_r);function Vu(t,i){return t.x*i.x+t.y*i.y}function Sh(t,i){if(t.length===1){var r=i[0],u=i[1],f=i[3],d=t[0],y=u.sub(r),x=f.sub(r),S=d.sub(r),A=Vu(y,y),M=Vu(y,x),B=Vu(x,x),F=Vu(S,y),U=Vu(S,x),V=A*B-M*M,J=(B*F-M*U)/V,W=(A*U-M*F)/V,et=1-J-W;return r.z*et+u.z*J+f.z*W}for(var mt=1/0,vt=0,gt=i;vt<gt.length;vt+=1){var Lt=gt[vt];mt=Math.min(mt,Lt.z)}return mt}var zp=c([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,xf=Zl.VectorTileFeature.types,bf=Math.cos(Math.PI/180*37.5),wf=Math.pow(2,14)/.5,Tr=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(i){return i.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new E,this.indexArray=new wt,this.programConfigurations=new ea(zp,t.layers,t.zoom),this.segments=new qe,this.stateDependentLayerIds=this.layers.filter((function(i){return i.isStateDependent()})).map((function(i){return i.id}))};Tr.prototype.populate=function(t,i){this.hasPattern=Sp("line",this.layers,i);for(var r=this.layers[0].layout.get("line-sort-key"),u=[],f=0,d=t;f<d.length;f+=1){var y=d[f],x=y.feature,S=y.index,A=y.sourceLayerIndex;if(this.layers[0]._featureFilter(new Pi(this.zoom),x)){var M=vs(x),B=r?r.evaluate(x,{}):void 0,F={id:x.id,properties:x.properties,type:x.type,sourceLayerIndex:A,index:S,geometry:M,patterns:{},sortKey:B};u.push(F)}}r&&u.sort((function(Ot,kt){return Ot.sortKey-kt.sortKey}));for(var U=0,V=u;U<V.length;U+=1){var J=V[U],W=J,et=W.geometry,mt=W.index,vt=W.sourceLayerIndex;if(this.hasPattern){var gt=Ep("line",this.layers,J,this.zoom,i);this.patternFeatures.push(gt)}else this.addFeature(J,et,mt,{});var Lt=t[mt].feature;i.featureIndex.insert(Lt,et,mt,vt,this.index)}},Tr.prototype.update=function(t,i,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,i,this.stateDependentLayers,r)},Tr.prototype.addFeatures=function(t,i){for(var r=0,u=this.patternFeatures;r<u.length;r+=1){var f=u[r];this.addFeature(f,f.geometry,f.index,i)}},Tr.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Tr.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Tr.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,zp),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Tr.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Tr.prototype.addFeature=function(t,i,r,u){for(var f=this.layers[0].layout,d=f.get("line-join").evaluate(t,{}),y=f.get("line-cap"),x=f.get("line-miter-limit"),S=f.get("line-round-limit"),A=0,M=i;A<M.length;A+=1){var B=M[A];this.addLine(B,t,d,y,x,S,r,u)}},Tr.prototype.addLine=function(t,i,r,u,f,d,y,x){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,i.properties&&i.properties.hasOwnProperty("mapbox_clip_start")&&i.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+i.properties.mapbox_clip_start,this.clipEnd=+i.properties.mapbox_clip_end;for(var S=0;S<t.length-1;S++)this.totalDistance+=t[S].dist(t[S+1])}for(var A=xf[i.type]==="Polygon",M=t.length;M>=2&&t[M-1].equals(t[M-2]);)M--;for(var B=0;B<M-1&&t[B].equals(t[B+1]);)B++;if(!(M<(A?3:2))){r==="bevel"&&(f=1.05);var F,U=this.overscaling<=16?122880/(512*this.overscaling):0,V=this.segments.prepareSegment(10*M,this.layoutVertexArray,this.indexArray),J=void 0,W=void 0,et=void 0,mt=void 0;this.e1=this.e2=-1,A&&(F=t[M-2],mt=t[B].sub(F)._unit()._perp());for(var vt=B;vt<M;vt++)if(!(W=A&&vt===M-1?t[B+1]:t[vt+1])||!t[vt].equals(W)){mt&&(et=mt),F&&(J=F),F=t[vt],mt=W?W.sub(F)._unit()._perp():et;var gt=(et=et||mt).add(mt);gt.x===0&&gt.y===0||gt._unit();var Lt=et.x*mt.x+et.y*mt.y,Ot=gt.x*mt.x+gt.y*mt.y,kt=Ot!==0?1/Ot:1/0,Wt=2*Math.sqrt(2-2*Ot),$t=Ot<bf&&J&&W,oe=et.x*mt.y-et.y*mt.x>0;if($t&&vt>B){var ie=F.dist(J);if(ie>2*U){var se=F.sub(F.sub(J)._mult(U/ie)._round());this.updateDistance(J,se),this.addCurrentVertex(se,et,0,0,V),J=se}}var te=J&&W,Gt=te?r:A?"butt":u;if(te&&Gt==="round"&&(kt<d?Gt="miter":kt<=2&&(Gt="fakeround")),Gt==="miter"&&kt>f&&(Gt="bevel"),Gt==="bevel"&&(kt>2&&(Gt="flipbevel"),kt<f&&(Gt="miter")),J&&this.updateDistance(J,F),Gt==="miter")gt._mult(kt),this.addCurrentVertex(F,gt,0,0,V);else if(Gt==="flipbevel"){if(kt>100)gt=mt.mult(-1);else{var Oe=kt*et.add(mt).mag()/et.sub(mt).mag();gt._perp()._mult(Oe*(oe?-1:1))}this.addCurrentVertex(F,gt,0,0,V),this.addCurrentVertex(F,gt.mult(-1),0,0,V)}else if(Gt==="bevel"||Gt==="fakeround"){var xi=-Math.sqrt(kt*kt-1),ui=oe?xi:0,Ae=oe?0:xi;if(J&&this.addCurrentVertex(F,et,ui,Ae,V),Gt==="fakeround")for(var Ye=Math.round(180*Wt/Math.PI/20),ei=1;ei<Ye;ei++){var Ue=ei/Ye;if(Ue!==.5){var $e=Ue-.5;Ue+=Ue*$e*(Ue-1)*((1.0904+Lt*(Lt*(3.55645-1.43519*Lt)-3.2452))*$e*$e+(.848013+Lt*(.215638*Lt-1.06021)))}var ci=mt.sub(et)._mult(Ue)._add(et)._unit()._mult(oe?-1:1);this.addHalfVertex(F,ci.x,ci.y,!1,oe,0,V)}W&&this.addCurrentVertex(F,mt,-ui,-Ae,V)}else if(Gt==="butt")this.addCurrentVertex(F,gt,0,0,V);else if(Gt==="square"){var Hi=J?1:-1;this.addCurrentVertex(F,gt,Hi,Hi,V)}else Gt==="round"&&(J&&(this.addCurrentVertex(F,et,0,0,V),this.addCurrentVertex(F,et,1,1,V,!0)),W&&(this.addCurrentVertex(F,mt,-1,-1,V,!0),this.addCurrentVertex(F,mt,0,0,V)));if($t&&vt<M-1){var cn=F.dist(W);if(cn>2*U){var mr=F.add(W.sub(F)._mult(U/cn)._round());this.updateDistance(F,mr),this.addCurrentVertex(mr,mt,0,0,V),F=mr}}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,y,x)}},Tr.prototype.addCurrentVertex=function(t,i,r,u,f,d){d===void 0&&(d=!1);var y=i.x+i.y*r,x=i.y-i.x*r,S=-i.x+i.y*u,A=-i.y-i.x*u;this.addHalfVertex(t,y,x,d,!1,r,f),this.addHalfVertex(t,S,A,d,!0,-u,f),this.distance>wf/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(t,i,r,u,f,d))},Tr.prototype.addHalfVertex=function(t,i,r,u,f,d,y){var x=t.x,S=t.y,A=.5*this.scaledDistance;this.layoutVertexArray.emplaceBack((x<<1)+(u?1:0),(S<<1)+(f?1:0),Math.round(63*i)+128,Math.round(63*r)+128,1+(d===0?0:d<0?-1:1)|(63&A)<<2,A>>6);var M=y.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,M),y.primitiveLength++),f?this.e2=M:this.e1=M},Tr.prototype.updateDistance=function(t,i){this.distance+=t.dist(i),this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(wf-1):this.distance},ue("LineBucket",Tr,{omit:["layers","patternFeatures"]});var Sf=new fn({"line-cap":new fe(zt.layout_line["line-cap"]),"line-join":new _e(zt.layout_line["line-join"]),"line-miter-limit":new fe(zt.layout_line["line-miter-limit"]),"line-round-limit":new fe(zt.layout_line["line-round-limit"]),"line-sort-key":new _e(zt.layout_line["line-sort-key"])}),Eh={paint:new fn({"line-opacity":new _e(zt.paint_line["line-opacity"]),"line-color":new _e(zt.paint_line["line-color"]),"line-translate":new fe(zt.paint_line["line-translate"]),"line-translate-anchor":new fe(zt.paint_line["line-translate-anchor"]),"line-width":new _e(zt.paint_line["line-width"]),"line-gap-width":new _e(zt.paint_line["line-gap-width"]),"line-offset":new _e(zt.paint_line["line-offset"]),"line-blur":new _e(zt.paint_line["line-blur"]),"line-dasharray":new Fo(zt.paint_line["line-dasharray"]),"line-pattern":new Ur(zt.paint_line["line-pattern"]),"line-gradient":new Js(zt.paint_line["line-gradient"])}),layout:Sf},Cp=new((function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.possiblyEvaluate=function(r,u){return u=new Pi(Math.floor(u.zoom),{now:u.now,fadeDuration:u.fadeDuration,zoomHistory:u.zoomHistory,transition:u.transition}),t.prototype.possiblyEvaluate.call(this,r,u)},i.prototype.evaluate=function(r,u,f,d){return u=ne({},u,{zoom:Math.floor(u.zoom)}),t.prototype.evaluate.call(this,r,u,f,d)},i})(_e))(Eh.paint.properties["line-width"].specification);Cp.useIntegerZoom=!0;var Ef=(function(t){function i(r){t.call(this,r,Eh)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype._handleSpecialPaintPropertyUpdate=function(r){r==="line-gradient"&&this._updateGradient()},i.prototype._updateGradient=function(){var r=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=ai(r,"lineProgress"),this.gradientTexture=null},i.prototype.recalculate=function(r,u){t.prototype.recalculate.call(this,r,u),this.paint._values["line-floorwidth"]=Cp.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,r)},i.prototype.createBucket=function(r){return new Tr(r)},i.prototype.queryRadius=function(r){var u=r,f=Th(Ou("line-width",this,u),Ou("line-gap-width",this,u)),d=Ou("line-offset",this,u);return f/2+Math.abs(d)+Cc(this.paint.get("line-translate"))},i.prototype.queryIntersectsFeature=function(r,u,f,d,y,x,S){var A=gs(r,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),x.angle,S),M=S/2*Th(this.paint.get("line-width").evaluate(u,f),this.paint.get("line-gap-width").evaluate(u,f)),B=this.paint.get("line-offset").evaluate(u,f);return B&&(d=(function(F,U){for(var V=[],J=new yt(0,0),W=0;W<F.length;W++){for(var et=F[W],mt=[],vt=0;vt<et.length;vt++){var gt=et[vt-1],Lt=et[vt],Ot=et[vt+1],kt=vt===0?J:Lt.sub(gt)._unit()._perp(),Wt=vt===et.length-1?J:Ot.sub(Lt)._unit()._perp(),$t=kt._add(Wt)._unit(),oe=$t.x*Wt.x+$t.y*Wt.y;$t._mult(1/oe),mt.push($t._mult(U)._add(Lt))}V.push(mt)}return V})(d,B*S)),(function(F,U,V){for(var J=0;J<U.length;J++){var W=U[J];if(F.length>=3){for(var et=0;et<W.length;et++)if(Zo(F,W[et]))return!0}if(uh(F,W,V))return!0}return!1})(A,d,M)},i.prototype.isTileClipped=function(){return!0},i})(_r);function Th(t,i){return i>0?i+2*t:t}var Ah=c([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Ad=c([{name:"a_projected_pos",components:3,type:"Float32"}],4),Tf=(c([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),c([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),qu=(c([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),c([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Mp=c([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4);c([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),c([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"}]),c([{type:"Float32",name:"offsetX"}]),c([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function Dp(t,i,r){return t.sections.forEach((function(u){u.text=(function(f,d,y){var x=d.layout.get("text-transform").evaluate(y,{});return x==="uppercase"?f=f.toLocaleUpperCase():x==="lowercase"&&(f=f.toLocaleLowerCase()),hn.applyArabicShaping&&(f=hn.applyArabicShaping(f)),f})(u.text,i,r)})),t}var ju={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},zh=function(t,i,r,u,f){var d,y,x=8*f-u-1,S=(1<<x)-1,A=S>>1,M=-7,B=f-1,F=-1,U=t[i+B];for(B+=F,d=U&(1<<-M)-1,U>>=-M,M+=x;M>0;d=256*d+t[i+B],B+=F,M-=8);for(y=d&(1<<-M)-1,d>>=-M,M+=u;M>0;y=256*y+t[i+B],B+=F,M-=8);if(d===0)d=1-A;else{if(d===S)return y?NaN:1/0*(U?-1:1);y+=Math.pow(2,u),d-=A}return(U?-1:1)*y*Math.pow(2,d-u)},Zu=function(t,i,r,u,f,d){var y,x,S,A=8*d-f-1,M=(1<<A)-1,B=M>>1,F=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,U=0,V=1,J=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(x=isNaN(i)?1:0,y=M):(y=Math.floor(Math.log(i)/Math.LN2),i*(S=Math.pow(2,-y))<1&&(y--,S*=2),(i+=y+B>=1?F/S:F*Math.pow(2,1-B))*S>=2&&(y++,S/=2),y+B>=M?(x=0,y=M):y+B>=1?(x=(i*S-1)*Math.pow(2,f),y+=B):(x=i*Math.pow(2,B-1)*Math.pow(2,f),y=0));f>=8;t[r+U]=255&x,U+=V,x/=256,f-=8);for(y=y<<f|x,A+=f;A>0;t[r+U]=255&y,U+=V,y/=256,A-=8);t[r+U-V]|=128*J},Dc=ki;function ki(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}ki.Varint=0,ki.Fixed64=1,ki.Bytes=2,ki.Fixed32=5;var Ch=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function _o(t){return t.type===ki.Bytes?t.readVarint()+t.pos:t.pos+1}function nl(t,i,r){return r?4294967296*i+(t>>>0):4294967296*(i>>>0)+(t>>>0)}function Mh(t,i,r){var u=i<=16383?1:i<=2097151?2:i<=268435455?3:Math.floor(Math.log(i)/(7*Math.LN2));r.realloc(u);for(var f=r.pos-1;f>=t;f--)r.buf[f+u]=r.buf[f]}function Af(t,i){for(var r=0;r<t.length;r++)i.writeVarint(t[r])}function Gl(t,i){for(var r=0;r<t.length;r++)i.writeSVarint(t[r])}function zf(t,i){for(var r=0;r<t.length;r++)i.writeFloat(t[r])}function Cf(t,i){for(var r=0;r<t.length;r++)i.writeDouble(t[r])}function Mf(t,i){for(var r=0;r<t.length;r++)i.writeBoolean(t[r])}function Lp(t,i){for(var r=0;r<t.length;r++)i.writeFixed32(t[r])}function Df(t,i){for(var r=0;r<t.length;r++)i.writeSFixed32(t[r])}function Dh(t,i){for(var r=0;r<t.length;r++)i.writeFixed64(t[r])}function Lf(t,i){for(var r=0;r<t.length;r++)i.writeSFixed64(t[r])}function Lc(t,i){return(t[i]|t[i+1]<<8|t[i+2]<<16)+16777216*t[i+3]}function Gu(t,i,r){t[r]=i,t[r+1]=i>>>8,t[r+2]=i>>>16,t[r+3]=i>>>24}function Rp(t,i){return(t[i]|t[i+1]<<8|t[i+2]<<16)+(t[i+3]<<24)}ki.prototype={destroy:function(){this.buf=null},readFields:function(t,i,r){for(r=r||this.length;this.pos<r;){var u=this.readVarint(),f=u>>3,d=this.pos;this.type=7&u,t(f,i,this),this.pos===d&&this.skip(u)}return i},readMessage:function(t,i){return this.readFields(t,i,this.readVarint()+this.pos)},readFixed32:function(){var t=Lc(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=Rp(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=Lc(this.buf,this.pos)+4294967296*Lc(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=Lc(this.buf,this.pos)+4294967296*Rp(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=zh(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=zh(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var i,r,u=this.buf;return i=127&(r=u[this.pos++]),r<128?i:(i|=(127&(r=u[this.pos++]))<<7,r<128?i:(i|=(127&(r=u[this.pos++]))<<14,r<128?i:(i|=(127&(r=u[this.pos++]))<<21,r<128?i:(function(f,d,y){var x,S,A=y.buf;if(S=A[y.pos++],x=(112&S)>>4,S<128||(S=A[y.pos++],x|=(127&S)<<3,S<128)||(S=A[y.pos++],x|=(127&S)<<10,S<128)||(S=A[y.pos++],x|=(127&S)<<17,S<128)||(S=A[y.pos++],x|=(127&S)<<24,S<128)||(S=A[y.pos++],x|=(1&S)<<31,S<128))return nl(f,x,d);throw new Error("Expected varint not more than 10 bytes")})(i|=(15&(r=u[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var t=this.readVarint()+this.pos,i=this.pos;return this.pos=t,t-i>=12&&Ch?(function(r,u,f){return Ch.decode(r.subarray(u,f))})(this.buf,i,t):(function(r,u,f){for(var d="",y=u;y<f;){var x,S,A,M=r[y],B=null,F=M>239?4:M>223?3:M>191?2:1;if(y+F>f)break;F===1?M<128&&(B=M):F===2?(192&(x=r[y+1]))==128&&(B=(31&M)<<6|63&x)<=127&&(B=null):F===3?(x=r[y+1],S=r[y+2],(192&x)==128&&(192&S)==128&&((B=(15&M)<<12|(63&x)<<6|63&S)<=2047||B>=55296&&B<=57343)&&(B=null)):F===4&&(x=r[y+1],S=r[y+2],A=r[y+3],(192&x)==128&&(192&S)==128&&(192&A)==128&&((B=(15&M)<<18|(63&x)<<12|(63&S)<<6|63&A)<=65535||B>=1114112)&&(B=null)),B===null?(B=65533,F=1):B>65535&&(B-=65536,d+=String.fromCharCode(B>>>10&1023|55296),B=56320|1023&B),d+=String.fromCharCode(B),y+=F}return d})(this.buf,i,t)},readBytes:function(){var t=this.readVarint()+this.pos,i=this.buf.subarray(this.pos,t);return this.pos=t,i},readPackedVarint:function(t,i){if(this.type!==ki.Bytes)return t.push(this.readVarint(i));var r=_o(this);for(t=t||[];this.pos<r;)t.push(this.readVarint(i));return t},readPackedSVarint:function(t){if(this.type!==ki.Bytes)return t.push(this.readSVarint());var i=_o(this);for(t=t||[];this.pos<i;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==ki.Bytes)return t.push(this.readBoolean());var i=_o(this);for(t=t||[];this.pos<i;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==ki.Bytes)return t.push(this.readFloat());var i=_o(this);for(t=t||[];this.pos<i;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==ki.Bytes)return t.push(this.readDouble());var i=_o(this);for(t=t||[];this.pos<i;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==ki.Bytes)return t.push(this.readFixed32());var i=_o(this);for(t=t||[];this.pos<i;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==ki.Bytes)return t.push(this.readSFixed32());var i=_o(this);for(t=t||[];this.pos<i;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==ki.Bytes)return t.push(this.readFixed64());var i=_o(this);for(t=t||[];this.pos<i;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==ki.Bytes)return t.push(this.readSFixed64());var i=_o(this);for(t=t||[];this.pos<i;)t.push(this.readSFixed64());return t},skip:function(t){var i=7&t;if(i===ki.Varint)for(;this.buf[this.pos++]>127;);else if(i===ki.Bytes)this.pos=this.readVarint()+this.pos;else if(i===ki.Fixed32)this.pos+=4;else{if(i!==ki.Fixed64)throw new Error("Unimplemented type: "+i);this.pos+=8}},writeTag:function(t,i){this.writeVarint(t<<3|i)},realloc:function(t){for(var i=this.length||16;i<this.pos+t;)i*=2;if(i!==this.length){var r=new Uint8Array(i);r.set(this.buf),this.buf=r,this.length=i}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),Gu(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),Gu(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),Gu(this.buf,-1&t,this.pos),Gu(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),Gu(this.buf,-1&t,this.pos),Gu(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?(function(i,r){var u,f;if(i>=0?(u=i%4294967296|0,f=i/4294967296|0):(f=~(-i/4294967296),4294967295^(u=~(-i%4294967296))?u=u+1|0:(u=0,f=f+1|0)),i>=18446744073709552e3||i<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");r.realloc(10),(function(d,y,x){x.buf[x.pos++]=127&d|128,d>>>=7,x.buf[x.pos++]=127&d|128,d>>>=7,x.buf[x.pos++]=127&d|128,d>>>=7,x.buf[x.pos++]=127&d|128,d>>>=7,x.buf[x.pos]=127&d})(u,0,r),(function(d,y){var x=(7&d)<<4;y.buf[y.pos++]|=x|((d>>>=3)?128:0),d&&(y.buf[y.pos++]=127&d|((d>>>=7)?128:0),d&&(y.buf[y.pos++]=127&d|((d>>>=7)?128:0),d&&(y.buf[y.pos++]=127&d|((d>>>=7)?128:0),d&&(y.buf[y.pos++]=127&d|((d>>>=7)?128:0),d&&(y.buf[y.pos++]=127&d)))))})(f,r)})(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(!!t)},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var i=this.pos;this.pos=(function(u,f,d){for(var y,x,S=0;S<f.length;S++){if((y=f.charCodeAt(S))>55295&&y<57344){if(!x){y>56319||S+1===f.length?(u[d++]=239,u[d++]=191,u[d++]=189):x=y;continue}if(y<56320){u[d++]=239,u[d++]=191,u[d++]=189,x=y;continue}y=x-55296<<10|y-56320|65536,x=null}else x&&(u[d++]=239,u[d++]=191,u[d++]=189,x=null);y<128?u[d++]=y:(y<2048?u[d++]=y>>6|192:(y<65536?u[d++]=y>>12|224:(u[d++]=y>>18|240,u[d++]=y>>12&63|128),u[d++]=y>>6&63|128),u[d++]=63&y|128)}return d})(this.buf,t,this.pos);var r=this.pos-i;r>=128&&Mh(i,r,this),this.pos=i-1,this.writeVarint(r),this.pos+=r},writeFloat:function(t){this.realloc(4),Zu(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),Zu(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var i=t.length;this.writeVarint(i),this.realloc(i);for(var r=0;r<i;r++)this.buf[this.pos++]=t[r]},writeRawMessage:function(t,i){this.pos++;var r=this.pos;t(i,this);var u=this.pos-r;u>=128&&Mh(r,u,this),this.pos=r-1,this.writeVarint(u),this.pos+=u},writeMessage:function(t,i,r){this.writeTag(t,ki.Bytes),this.writeRawMessage(i,r)},writePackedVarint:function(t,i){i.length&&this.writeMessage(t,Af,i)},writePackedSVarint:function(t,i){i.length&&this.writeMessage(t,Gl,i)},writePackedBoolean:function(t,i){i.length&&this.writeMessage(t,Mf,i)},writePackedFloat:function(t,i){i.length&&this.writeMessage(t,zf,i)},writePackedDouble:function(t,i){i.length&&this.writeMessage(t,Cf,i)},writePackedFixed32:function(t,i){i.length&&this.writeMessage(t,Lp,i)},writePackedSFixed32:function(t,i){i.length&&this.writeMessage(t,Df,i)},writePackedFixed64:function(t,i){i.length&&this.writeMessage(t,Dh,i)},writePackedSFixed64:function(t,i){i.length&&this.writeMessage(t,Lf,i)},writeBytesField:function(t,i){this.writeTag(t,ki.Bytes),this.writeBytes(i)},writeFixed32Field:function(t,i){this.writeTag(t,ki.Fixed32),this.writeFixed32(i)},writeSFixed32Field:function(t,i){this.writeTag(t,ki.Fixed32),this.writeSFixed32(i)},writeFixed64Field:function(t,i){this.writeTag(t,ki.Fixed64),this.writeFixed64(i)},writeSFixed64Field:function(t,i){this.writeTag(t,ki.Fixed64),this.writeSFixed64(i)},writeVarintField:function(t,i){this.writeTag(t,ki.Varint),this.writeVarint(i)},writeSVarintField:function(t,i){this.writeTag(t,ki.Varint),this.writeSVarint(i)},writeStringField:function(t,i){this.writeTag(t,ki.Bytes),this.writeString(i)},writeFloatField:function(t,i){this.writeTag(t,ki.Fixed32),this.writeFloat(i)},writeDoubleField:function(t,i){this.writeTag(t,ki.Fixed64),this.writeDouble(i)},writeBooleanField:function(t,i){this.writeVarintField(t,!!i)}};function ir(t,i,r){t===1&&r.readMessage(Ar,i)}function Ar(t,i,r){if(t===3){var u=r.readMessage(Rf,{}),f=u.id,d=u.bitmap,y=u.width,x=u.height,S=u.left,A=u.top,M=u.advance;i.push({id:f,bitmap:new dn({width:y+6,height:x+6},d),metrics:{width:y,height:x,left:S,top:A,advance:M}})}}function Rf(t,i,r){t===1?i.id=r.readVarint():t===2?i.bitmap=r.readBytes():t===3?i.width=r.readVarint():t===4?i.height=r.readVarint():t===5?i.left=r.readSVarint():t===6?i.top=r.readSVarint():t===7&&(i.advance=r.readVarint())}function Lh(t){for(var i=0,r=0,u=0,f=t;u<f.length;u+=1){var d=f[u];i+=d.w*d.h,r=Math.max(r,d.w)}t.sort((function(J,W){return W.h-J.h}));for(var y=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(i/.95)),r),h:1/0}],x=0,S=0,A=0,M=t;A<M.length;A+=1)for(var B=M[A],F=y.length-1;F>=0;F--){var U=y[F];if(!(B.w>U.w||B.h>U.h)){if(B.x=U.x,B.y=U.y,S=Math.max(S,B.y+B.h),x=Math.max(x,B.x+B.w),B.w===U.w&&B.h===U.h){var V=y.pop();F<y.length&&(y[F]=V)}else B.h===U.h?(U.x+=B.w,U.w-=B.w):B.w===U.w?(U.y+=B.h,U.h-=B.h):(y.push({x:U.x+B.w,y:U.y,w:U.w-B.w,h:B.h}),U.y+=B.h,U.h-=B.h);break}}return{w:x,h:S,fill:i/(x*S)||0}}var Rc=function(t,i){var r=i.pixelRatio,u=i.version,f=i.stretchX,d=i.stretchY,y=i.content;this.paddedRect=t,this.pixelRatio=r,this.stretchX=f,this.stretchY=d,this.content=y,this.version=u},Hu={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Hu.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},Hu.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},Hu.tlbr.get=function(){return this.tl.concat(this.br)},Hu.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(Rc.prototype,Hu);var Ss=function(t,i){var r={},u={};this.haveRenderCallbacks=[];var f=[];this.addImages(t,r,f),this.addImages(i,u,f);var d=Lh(f),y=d.w,x=d.h,S=new fr({width:y||1,height:x||1});for(var A in t){var M=t[A],B=r[A].paddedRect;fr.copy(M.data,S,{x:0,y:0},{x:B.x+1,y:B.y+1},M.data)}for(var F in i){var U=i[F],V=u[F].paddedRect,J=V.x+1,W=V.y+1,et=U.data.width,mt=U.data.height;fr.copy(U.data,S,{x:0,y:0},{x:J,y:W},U.data),fr.copy(U.data,S,{x:0,y:mt-1},{x:J,y:W-1},{width:et,height:1}),fr.copy(U.data,S,{x:0,y:0},{x:J,y:W+mt},{width:et,height:1}),fr.copy(U.data,S,{x:et-1,y:0},{x:J-1,y:W},{width:1,height:mt}),fr.copy(U.data,S,{x:0,y:0},{x:J+et,y:W},{width:1,height:mt})}this.image=S,this.iconPositions=r,this.patternPositions=u};Ss.prototype.addImages=function(t,i,r){for(var u in t){var f=t[u],d={x:0,y:0,w:f.data.width+2,h:f.data.height+2};r.push(d),i[u]=new Rc(d,f),f.hasRenderCallback&&this.haveRenderCallbacks.push(u)}},Ss.prototype.patchUpdatedImages=function(t,i){for(var r in t.dispatchRenderCallbacks(this.haveRenderCallbacks),t.updatedImages)this.patchUpdatedImage(this.iconPositions[r],t.getImage(r),i),this.patchUpdatedImage(this.patternPositions[r],t.getImage(r),i)},Ss.prototype.patchUpdatedImage=function(t,i,r){if(t&&i&&t.version!==i.version){t.version=i.version;var u=t.tl,f=u[0],d=u[1];r.update(i.data,void 0,{x:f,y:d})}},ue("ImagePosition",Rc),ue("ImageAtlas",Ss);var ra={horizontal:1,vertical:2,horizontalOnly:3},Es=function(){this.scale=1,this.fontStack="",this.imageName=null};Es.forText=function(t,i){var r=new Es;return r.scale=t||1,r.fontStack=i,r},Es.forImage=function(t){var i=new Es;return i.imageName=t,i};var dr=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function kp(t,i,r,u,f,d,y,x,S,A,M,B,F,U,V,J){var W,et=dr.fromFeature(t,f);B===ra.vertical&&et.verticalizePunctuation();var mt=hn.processBidirectionalText,vt=hn.processStyledBidirectionalText;if(mt&&et.sections.length===1){W=[];for(var gt=0,Lt=mt(et.toString(),kc(et,A,d,i,u,U,V));gt<Lt.length;gt+=1){var Ot=Lt[gt],kt=new dr;kt.text=Ot,kt.sections=et.sections;for(var Wt=0;Wt<Ot.length;Wt++)kt.sectionIndex.push(0);W.push(kt)}}else if(vt){W=[];for(var $t=0,oe=vt(et.text,et.sectionIndex,kc(et,A,d,i,u,U,V));$t<oe.length;$t+=1){var ie=oe[$t],se=new dr;se.text=ie[0],se.sectionIndex=ie[1],se.sections=et.sections,W.push(se)}}else W=(function(Oe,xi){for(var ui=[],Ae=Oe.text,Ye=0,ei=0,Ue=xi;ei<Ue.length;ei+=1){var $e=Ue[ei];ui.push(Oe.substring(Ye,$e)),Ye=$e}return Ye<Ae.length&&ui.push(Oe.substring(Ye,Ae.length)),ui})(et,kc(et,A,d,i,u,U,V));var te=[],Gt={positionedLines:te,text:et.toString(),top:M[1],bottom:M[1],left:M[0],right:M[0],writingMode:B,iconsInText:!1,verticalizable:!1};return(function(Oe,xi,ui,Ae,Ye,ei,Ue,$e,ci,Hi,cn,mr){for(var yr=0,zn=-17,Fn=0,Cn=0,Vn=$e==="right"?1:$e==="left"?0:.5,In=0,Qi=0,bn=Ye;Qi<bn.length;Qi+=1){var ii=bn[Qi];ii.trim();var Si=ii.getMaxScale(),Fi=24*(Si-1),Ci={positionedGlyphs:[],lineOffset:0};Oe.positionedLines[In]=Ci;var Bn=Ci.positionedGlyphs,Mi=0;if(ii.length()){for(var Ke=0;Ke<ii.length();Ke++){var an=ii.getSection(Ke),So=ii.getSectionIndex(Ke),rr=ii.getCharCode(Ke),br=0,Ba=null,Jn=null,sa=null,la=24,Oa=!(ci===ra.horizontal||!cn&&!Qr(rr)||cn&&(Hl[rr]||(fl=rr,Zt.Arabic(fl)||Zt["Arabic Supplement"](fl)||Zt["Arabic Extended-A"](fl)||Zt["Arabic Presentation Forms-A"](fl)||Zt["Arabic Presentation Forms-B"](fl))));if(an.imageName){var pl=Ae[an.imageName];if(!pl)continue;sa=an.imageName,Oe.iconsInText=Oe.iconsInText||!0,Jn=pl.paddedRect;var no=pl.displaySize;an.scale=24*an.scale/mr,Ba={width:no[0],height:no[1],left:1,top:-3,advance:Oa?no[1]:no[0]};var Yo=24-no[1]*an.scale;br=Fi+Yo,la=Ba.advance;var ua=Oa?no[0]*an.scale-24*Si:no[1]*an.scale-24*Si;ua>0&&ua>Mi&&(Mi=ua)}else{var hl=ui[an.fontStack],Qu=hl&&hl[rr];if(Qu&&Qu.rect)Jn=Qu.rect,Ba=Qu.metrics;else{var Wu=xi[an.fontStack],Vc=Wu&&Wu[rr];if(!Vc)continue;Ba=Vc.metrics}br=24*(Si-an.scale)}Oa?(Oe.verticalizable=!0,Bn.push({glyph:rr,imageName:sa,x:yr,y:zn+br,vertical:Oa,scale:an.scale,fontStack:an.fontStack,sectionIndex:So,metrics:Ba,rect:Jn}),yr+=la*an.scale+Hi):(Bn.push({glyph:rr,imageName:sa,x:yr,y:zn+br,vertical:Oa,scale:an.scale,fontStack:an.fontStack,sectionIndex:So,metrics:Ba,rect:Jn}),yr+=Ba.advance*an.scale+Hi)}if(Bn.length!==0){var Zp=yr-Hi;Fn=Math.max(Zp,Fn),If(Bn,0,Bn.length-1,Vn,Mi)}yr=0;var $u=ei*Si+Mi;Ci.lineOffset=Math.max(Mi,Fi),zn+=$u,Cn=Math.max($u,Cn),++In}else zn+=ei,++In}var fl,Cs=zn- -17,Ms=Ic(Ue),eu=Ms.horizontalAlign,qc=Ms.verticalAlign;(function(tc,jc,Zc,Gc,dl,Gp,iu,hi,nu){var ru=(jc-Zc)*dl,ml=0;ml=Gp!==iu?-hi*Gc- -17:(-Gc*nu+.5)*iu;for(var au=0,ou=tc;au<ou.length;au+=1)for(var yl=ou[au],Ko=0,Hc=yl.positionedGlyphs;Ko<Hc.length;Ko+=1){var su=Hc[Ko];su.x+=ru,su.y+=ml}})(Oe.positionedLines,Vn,eu,qc,Fn,Cn,ei,Cs,Ye.length),Oe.top+=-qc*Cs,Oe.bottom=Oe.top+Cs,Oe.left+=-eu*Fn,Oe.right=Oe.left+Fn})(Gt,i,r,u,W,y,x,S,B,A,F,J),!(function(Oe){for(var xi=0,ui=Oe;xi<ui.length;xi+=1)if(ui[xi].positionedGlyphs.length!==0)return!1;return!0})(te)&&Gt}dr.fromFeature=function(t,i){for(var r=new dr,u=0;u<t.sections.length;u++){var f=t.sections[u];f.image?r.addImageSection(f):r.addTextSection(f,i)}return r},dr.prototype.length=function(){return this.text.length},dr.prototype.getSection=function(t){return this.sections[this.sectionIndex[t]]},dr.prototype.getSectionIndex=function(t){return this.sectionIndex[t]},dr.prototype.getCharCode=function(t){return this.text.charCodeAt(t)},dr.prototype.verticalizePunctuation=function(){this.text=(function(t){for(var i="",r=0;r<t.length;r++){var u=t.charCodeAt(r+1)||null,f=t.charCodeAt(r-1)||null;(!u||!Tc(u)||ju[t[r+1]])&&(!f||!Tc(f)||ju[t[r-1]])&&ju[t[r]]?i+=ju[t[r]]:i+=t[r]}return i})(this.text)},dr.prototype.trim=function(){for(var t=0,i=0;i<this.text.length&&Hl[this.text.charCodeAt(i)];i++)t++;for(var r=this.text.length,u=this.text.length-1;u>=0&&u>=t&&Hl[this.text.charCodeAt(u)];u--)r--;this.text=this.text.substring(t,r),this.sectionIndex=this.sectionIndex.slice(t,r)},dr.prototype.substring=function(t,i){var r=new dr;return r.text=this.text.substring(t,i),r.sectionIndex=this.sectionIndex.slice(t,i),r.sections=this.sections,r},dr.prototype.toString=function(){return this.text},dr.prototype.getMaxScale=function(){var t=this;return this.sectionIndex.reduce((function(i,r){return Math.max(i,t.sections[r].scale)}),0)},dr.prototype.addTextSection=function(t,i){this.text+=t.text,this.sections.push(Es.forText(t.scale,t.fontStack||i));for(var r=this.sections.length-1,u=0;u<t.text.length;++u)this.sectionIndex.push(r)},dr.prototype.addImageSection=function(t){var i=t.image?t.image.name:"";if(i.length!==0){var r=this.getNextImageSectionCharCode();r?(this.text+=String.fromCharCode(r),this.sections.push(Es.forImage(i)),this.sectionIndex.push(this.sections.length-1)):zi("Reached maximum number of images 6401")}else zi("Can't add FormattedSection with an empty image.")},dr.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Hl={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},zr={};function Rh(t,i,r,u,f,d){if(i.imageName){var y=u[i.imageName];return y?y.displaySize[0]*i.scale*24/d+f:0}var x=r[i.fontStack],S=x&&x[t];return S?S.metrics.advance*i.scale+f:0}function kh(t,i,r,u){var f=Math.pow(t-i,2);return u?t<i?f/2:2*f:f+Math.abs(r)*r}function kf(t,i,r){var u=0;return t===10&&(u-=1e4),r&&(u+=150),t!==40&&t!==65288||(u+=50),i!==41&&i!==65289||(u+=50),u}function Ip(t,i,r,u,f,d){for(var y=null,x=kh(i,r,f,d),S=0,A=u;S<A.length;S+=1){var M=A[S],B=kh(i-M.x,r,f,d)+M.badness;B<=x&&(y=M,x=B)}return{index:t,x:i,priorBreak:y,badness:x}}function kc(t,i,r,u,f,d,y){if(d!=="point")return[];if(!t)return[];for(var x,S=[],A=(function(W,et,mt,vt,gt,Lt){for(var Ot=0,kt=0;kt<W.length();kt++){var Wt=W.getSection(kt);Ot+=Rh(W.getCharCode(kt),Wt,vt,gt,et,Lt)}return Ot/Math.max(1,Math.ceil(Ot/mt))})(t,i,r,u,f,y),M=t.text.indexOf("")>=0,B=0,F=0;F<t.length();F++){var U=t.getSection(F),V=t.getCharCode(F);if(Hl[V]||(B+=Rh(V,U,u,f,i,y)),F<t.length()-1){var J=!!(!((x=V)<11904)&&(Zt["Bopomofo Extended"](x)||Zt.Bopomofo(x)||Zt["CJK Compatibility Forms"](x)||Zt["CJK Compatibility Ideographs"](x)||Zt["CJK Compatibility"](x)||Zt["CJK Radicals Supplement"](x)||Zt["CJK Strokes"](x)||Zt["CJK Symbols and Punctuation"](x)||Zt["CJK Unified Ideographs Extension A"](x)||Zt["CJK Unified Ideographs"](x)||Zt["Enclosed CJK Letters and Months"](x)||Zt["Halfwidth and Fullwidth Forms"](x)||Zt.Hiragana(x)||Zt["Ideographic Description Characters"](x)||Zt["Kangxi Radicals"](x)||Zt["Katakana Phonetic Extensions"](x)||Zt.Katakana(x)||Zt["Vertical Forms"](x)||Zt["Yi Radicals"](x)||Zt["Yi Syllables"](x)));(zr[V]||J||U.imageName)&&S.push(Ip(F+1,B,A,S,kf(V,t.getCharCode(F+1),J&&M),!1))}}return(function W(et){return et?W(et.priorBreak).concat(et.index):[]})(Ip(t.length(),B,A,S,0,!0))}function Ic(t){var i=.5,r=.5;switch(t){case"right":case"top-right":case"bottom-right":i=1;break;case"left":case"top-left":case"bottom-left":i=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":r=1;break;case"top":case"top-right":case"top-left":r=0}return{horizontalAlign:i,verticalAlign:r}}function If(t,i,r,u,f){if(u||f)for(var d=t[r],y=d.metrics.advance*d.scale,x=(t[r].x+y)*u,S=i;S<=r;S++)t[S].x-=x,t[S].y+=f}function Bp(t,i,r,u,f,d){var y,x=t.image;if(x.content){var S=x.content,A=x.pixelRatio||1;y=[S[0]/A,S[1]/A,x.displaySize[0]-S[2]/A,x.displaySize[1]-S[3]/A]}var M,B,F,U,V=i.left*d,J=i.right*d;r==="width"||r==="both"?(U=f[0]+V-u[3],B=f[0]+J+u[1]):B=(U=f[0]+(V+J-x.displaySize[0])/2)+x.displaySize[0];var W=i.top*d,et=i.bottom*d;return r==="height"||r==="both"?(M=f[1]+W-u[0],F=f[1]+et+u[2]):F=(M=f[1]+(W+et-x.displaySize[1])/2)+x.displaySize[1],{image:x,top:M,right:B,bottom:F,left:U,collisionPadding:y}}zr[10]=!0,zr[32]=!0,zr[38]=!0,zr[40]=!0,zr[41]=!0,zr[43]=!0,zr[45]=!0,zr[47]=!0,zr[173]=!0,zr[183]=!0,zr[8203]=!0,zr[8208]=!0,zr[8211]=!0,zr[8231]=!0;var Ts=(function(t){function i(r,u,f,d){t.call(this,r,u),this.angle=f,d!==void 0&&(this.segment=d)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.clone=function(){return new i(this.x,this.y,this.angle,this.segment)},i})(yt);ue("Anchor",Ts);function Bc(t,i){var r=i.expression;if(r.kind==="constant")return{kind:"constant",layoutSize:r.evaluate(new Pi(t+1))};if(r.kind==="source")return{kind:"source"};for(var u=r.zoomStops,f=r.interpolationType,d=0;d<u.length&&u[d]<=t;)d++;for(var y=d=Math.max(0,d-1);y<u.length&&u[y]<t+1;)y++;y=Math.min(u.length-1,y);var x=u[d],S=u[y];return r.kind==="composite"?{kind:"composite",minZoom:x,maxZoom:S,interpolationType:f}:{kind:"camera",minZoom:x,maxZoom:S,minSize:r.evaluate(new Pi(x)),maxSize:r.evaluate(new Pi(S)),interpolationType:f}}function Ih(t,i,r){var u=i.uSize,f=i.uSizeT,d=r.lowerSize,y=r.upperSize;return t.kind==="source"?d/128:t.kind==="composite"?Mn(d/128,y/128,f):u}function Op(t,i){var r=0,u=0;if(t.kind==="constant")u=t.layoutSize;else if(t.kind!=="source"){var f=t.interpolationType,d=t.minZoom,y=t.maxZoom,x=f?pe(Ui.interpolationFactor(f,i,d,y),0,1):0;t.kind==="camera"?u=Mn(t.minSize,t.maxSize,x):r=x}return{uSizeT:r,uSize:u}}var Bf=Object.freeze({__proto__:null,getSizeData:Bc,evaluateSizeForFeature:Ih,evaluateSizeForZoom:Op,SIZE_PACK_FACTOR:128});function Go(t,i,r,u,f){if(i.segment===void 0)return!0;for(var d=i,y=i.segment+1,x=0;x>-r/2;){if(--y<0)return!1;x-=t[y].dist(d),d=t[y]}x+=t[y].dist(t[y+1]),y++;for(var S=[],A=0;x<r/2;){var M=t[y-1],B=t[y],F=t[y+1];if(!F)return!1;var U=M.angleTo(B)-B.angleTo(F);for(U=Math.abs((U+3*Math.PI)%(2*Math.PI)-Math.PI),S.push({distance:x,angleDelta:U}),A+=U;x-S[0].distance>u;)A-=S.shift().angleDelta;if(A>f)return!1;y++,x+=B.dist(F)}return!0}function Up(t){for(var i=0,r=0;r<t.length-1;r++)i+=t[r].dist(t[r+1]);return i}function Of(t,i,r){return t?.6*i*r:0}function Bh(t,i){return Math.max(t?t.right-t.left:0,i?i.right-i.left:0)}function As(t,i,r,u,f,d){for(var y=Of(r,f,d),x=Bh(r,u)*d,S=0,A=Up(t)/2,M=0;M<t.length-1;M++){var B=t[M],F=t[M+1],U=B.dist(F);if(S+U>A){var V=(A-S)/U,J=Mn(B.x,F.x,V),W=Mn(B.y,F.y,V),et=new Ts(J,W,F.angleTo(B),M);return et._round(),!y||Go(t,et,x,y,i)?et:void 0}S+=U}}function Oh(t,i,r,u,f,d,y,x,S){var A=Of(u,d,y),M=Bh(u,f),B=M*y,F=t[0].x===0||t[0].x===S||t[0].y===0||t[0].y===S;return i-B<i/4&&(i=B+i/4),(function U(V,J,W,et,mt,vt,gt,Lt,Ot){for(var kt=vt/2,Wt=Up(V),$t=0,oe=J-W,ie=[],se=0;se<V.length-1;se++){for(var te=V[se],Gt=V[se+1],Oe=te.dist(Gt),xi=Gt.angleTo(te);oe+W<$t+Oe;){var ui=((oe+=W)-$t)/Oe,Ae=Mn(te.x,Gt.x,ui),Ye=Mn(te.y,Gt.y,ui);if(Ae>=0&&Ae<Ot&&Ye>=0&&Ye<Ot&&oe-kt>=0&&oe+kt<=Wt){var ei=new Ts(Ae,Ye,xi,se);ei._round(),et&&!Go(V,ei,vt,et,mt)||ie.push(ei)}}$t+=Oe}return Lt||ie.length||gt||(ie=U(V,$t/2,W,et,mt,vt,gt,!0,Ot)),ie})(t,F?i/2*x%i:(M/2+2*d)*y*x%i,i,A,r,B,F,!1,S)}function Uh(t,i,r,u){var f=[],d=t.image,y=d.pixelRatio,x=d.paddedRect.w-2,S=d.paddedRect.h-2,A=t.right-t.left,M=t.bottom-t.top,B=d.stretchX||[[0,x]],F=d.stretchY||[[0,S]],U=function(ei,Ue){return ei+Ue[1]-Ue[0]},V=B.reduce(U,0),J=F.reduce(U,0),W=x-V,et=S-J,mt=0,vt=V,gt=0,Lt=J,Ot=0,kt=W,Wt=0,$t=et;if(d.content&&u){var oe=d.content;mt=Xl(B,0,oe[0]),gt=Xl(F,0,oe[1]),vt=Xl(B,oe[0],oe[2]),Lt=Xl(F,oe[1],oe[3]),Ot=oe[0]-mt,Wt=oe[1]-gt,kt=oe[2]-oe[0]-vt,$t=oe[3]-oe[1]-Lt}var ie=function(ei,Ue,$e,ci){var Hi=un(ei.stretch-mt,vt,A,t.left),cn=Pp(ei.fixed-Ot,kt,ei.stretch,V),mr=un(Ue.stretch-gt,Lt,M,t.top),yr=Pp(Ue.fixed-Wt,$t,Ue.stretch,J),zn=un($e.stretch-mt,vt,A,t.left),Fn=Pp($e.fixed-Ot,kt,$e.stretch,V),Cn=un(ci.stretch-gt,Lt,M,t.top),Vn=Pp(ci.fixed-Wt,$t,ci.stretch,J),In=new yt(Hi,mr),Qi=new yt(zn,mr),bn=new yt(zn,Cn),ii=new yt(Hi,Cn),Si=new yt(cn/y,yr/y),Fi=new yt(Fn/y,Vn/y),Ci=i*Math.PI/180;if(Ci){var Bn=Math.sin(Ci),Mi=Math.cos(Ci),Ke=[Mi,-Bn,Bn,Mi];In._matMult(Ke),Qi._matMult(Ke),ii._matMult(Ke),bn._matMult(Ke)}var an=ei.stretch+ei.fixed,So=$e.stretch+$e.fixed,rr=Ue.stretch+Ue.fixed,br=ci.stretch+ci.fixed;return{tl:In,tr:Qi,bl:ii,br:bn,tex:{x:d.paddedRect.x+1+an,y:d.paddedRect.y+1+rr,w:So-an,h:br-rr},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Si,pixelOffsetBR:Fi,minFontScaleX:kt/y/A,minFontScaleY:$t/y/M,isSDF:r}};if(u&&(d.stretchX||d.stretchY))for(var se=Xu(B,W,V),te=Xu(F,et,J),Gt=0;Gt<se.length-1;Gt++)for(var Oe=se[Gt],xi=se[Gt+1],ui=0;ui<te.length-1;ui++){var Ae=te[ui],Ye=te[ui+1];f.push(ie(Oe,Ae,xi,Ye))}else f.push(ie({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:x+1},{fixed:0,stretch:S+1}));return f}function Xl(t,i,r){for(var u=0,f=0,d=t;f<d.length;f+=1){var y=d[f];u+=Math.max(i,Math.min(r,y[1]))-Math.max(i,Math.min(r,y[0]))}return u}function Xu(t,i,r){for(var u=[{fixed:-1,stretch:0}],f=0,d=t;f<d.length;f+=1){var y=d[f],x=y[0],S=y[1],A=u[u.length-1];u.push({fixed:x-A.stretch,stretch:A.stretch}),u.push({fixed:x-A.stretch,stretch:A.stretch+(S-x)})}return u.push({fixed:i+1,stretch:r}),u}function un(t,i,r,u){return t/i*r+u}function Pp(t,i,r,u){return t-i*r/u}var Oc=function(t,i,r,u,f,d,y,x,S,A,M,B){var F=y.top*x-S,U=y.bottom*x+S,V=y.left*x-S,J=y.right*x+S,W=y.collisionPadding;if(W&&(V-=W[0]*x,F-=W[1]*x,J+=W[2]*x,U+=W[3]*x),this.boxStartIndex=t.length,A){var et=U-F,mt=J-V;et>0&&(et=Math.max(10*x,et),this._addLineCollisionCircles(t,i,r,r.segment,mt,et,u,f,d,M))}else{if(B){var vt=new yt(V,F),gt=new yt(J,F),Lt=new yt(V,U),Ot=new yt(J,U),kt=B*Math.PI/180;vt._rotate(kt),gt._rotate(kt),Lt._rotate(kt),Ot._rotate(kt),V=Math.min(vt.x,gt.x,Lt.x,Ot.x),J=Math.max(vt.x,gt.x,Lt.x,Ot.x),F=Math.min(vt.y,gt.y,Lt.y,Ot.y),U=Math.max(vt.y,gt.y,Lt.y,Ot.y)}t.emplaceBack(r.x,r.y,V,F,J,U,u,f,d,0,0)}this.boxEndIndex=t.length};Oc.prototype._addLineCollisionCircles=function(t,i,r,u,f,d,y,x,S,A){var M=d/2,B=Math.floor(f/M)||1,F=1+.4*Math.log(A)/Math.LN2,U=Math.floor(B*F/2),V=-d/2,J=r,W=u+1,et=V,mt=-f/2,vt=mt-f/4;do{if(--W<0){if(et>mt)return;W=0;break}et-=i[W].dist(J),J=i[W]}while(et>vt);for(var gt=i[W].dist(i[W+1]),Lt=-U;Lt<B+U;Lt++){var Ot=Lt*M,kt=mt+Ot;if(Ot<0&&(kt+=Ot),Ot>f&&(kt+=Ot-f),!(kt<et)){for(;et+gt<kt;){if(et+=gt,++W+1>=i.length)return;gt=i[W].dist(i[W+1])}var Wt=kt-et,$t=i[W],oe=i[W+1].sub($t)._unit()._mult(Wt)._add($t)._round(),ie=Math.abs(kt-V)<M?0:.8*(kt-V);t.emplaceBack(oe.x,oe.y,-d/2,-d/2,d/2,d/2,y,x,S,d/2,ie)}}};var Yl=function(t,i){if(t===void 0&&(t=[]),i===void 0&&(i=Uc),this.data=t,this.length=this.data.length,this.compare=i,this.length>0)for(var r=(this.length>>1)-1;r>=0;r--)this._down(r)};function Uc(t,i){return t<i?-1:t>i?1:0}function rl(t,i,r){r===void 0&&(r=!1);for(var u=1/0,f=1/0,d=-1/0,y=-1/0,x=t[0],S=0;S<x.length;S++){var A=x[S];(!S||A.x<u)&&(u=A.x),(!S||A.y<f)&&(f=A.y),(!S||A.x>d)&&(d=A.x),(!S||A.y>y)&&(y=A.y)}var M=d-u,B=y-f,F=Math.min(M,B),U=F/2,V=new Yl([],Uf);if(F===0)return new yt(u,f);for(var J=u;J<d;J+=F)for(var W=f;W<y;W+=F)V.push(new Kl(J+U,W+U,U,t));for(var et=(function(gt){for(var Lt=0,Ot=0,kt=0,Wt=gt[0],$t=0,oe=Wt.length,ie=oe-1;$t<oe;ie=$t++){var se=Wt[$t],te=Wt[ie],Gt=se.x*te.y-te.x*se.y;Ot+=(se.x+te.x)*Gt,kt+=(se.y+te.y)*Gt,Lt+=3*Gt}return new Kl(Ot/Lt,kt/Lt,0,gt)})(t),mt=V.length;V.length;){var vt=V.pop();(vt.d>et.d||!et.d)&&(et=vt,r&&console.log("found best %d after %d probes",Math.round(1e4*vt.d)/1e4,mt)),vt.max-et.d<=i||(U=vt.h/2,V.push(new Kl(vt.p.x-U,vt.p.y-U,U,t)),V.push(new Kl(vt.p.x+U,vt.p.y-U,U,t)),V.push(new Kl(vt.p.x-U,vt.p.y+U,U,t)),V.push(new Kl(vt.p.x+U,vt.p.y+U,U,t)),mt+=4)}return r&&(console.log("num probes: "+mt),console.log("best distance: "+et.d)),et.p}function Uf(t,i){return i.max-t.max}function Kl(t,i,r,u){this.p=new yt(t,i),this.h=r,this.d=(function(f,d){for(var y=!1,x=1/0,S=0;S<d.length;S++)for(var A=d[S],M=0,B=A.length,F=B-1;M<B;F=M++){var U=A[M],V=A[F];U.y>f.y!=V.y>f.y&&f.x<(V.x-U.x)*(f.y-U.y)/(V.y-U.y)+U.x&&(y=!y),x=Math.min(x,cp(f,U,V))}return(y?1:-1)*Math.sqrt(x)})(this.p,u),this.max=this.d+this.h*Math.SQRT2}Yl.prototype.push=function(t){this.data.push(t),this.length++,this._up(this.length-1)},Yl.prototype.pop=function(){if(this.length!==0){var t=this.data[0],i=this.data.pop();return this.length--,this.length>0&&(this.data[0]=i,this._down(0)),t}},Yl.prototype.peek=function(){return this.data[0]},Yl.prototype._up=function(t){for(var i=this.data,r=this.compare,u=i[t];t>0;){var f=t-1>>1,d=i[f];if(r(u,d)>=0)break;i[t]=d,t=f}i[t]=u},Yl.prototype._down=function(t){for(var i=this.data,r=this.compare,u=this.length>>1,f=i[t];t<u;){var d=1+(t<<1),y=i[d],x=d+1;if(x<this.length&&r(i[x],y)<0&&(d=x,y=i[x]),r(y,f)>=0)break;i[t]=y,t=d}i[t]=f};var Jl=Number.POSITIVE_INFINITY;function xo(t,i){return i[1]!==Jl?(function(r,u,f){var d=0,y=0;switch(u=Math.abs(u),f=Math.abs(f),r){case"top-right":case"top-left":case"top":y=f-7;break;case"bottom-right":case"bottom-left":case"bottom":y=7-f}switch(r){case"top-right":case"bottom-right":case"right":d=-u;break;case"top-left":case"bottom-left":case"left":d=u}return[d,y]})(t,i[0],i[1]):(function(r,u){var f=0,d=0;u<0&&(u=0);var y=u/Math.sqrt(2);switch(r){case"top-right":case"top-left":d=y-7;break;case"bottom-right":case"bottom-left":d=7-y;break;case"bottom":d=7-u;break;case"top":d=u-7}switch(r){case"top-right":case"bottom-right":f=-y;break;case"top-left":case"bottom-left":f=y;break;case"left":f=u;break;case"right":f=-u}return[f,d]})(t,i[0])}function Np(t){switch(t){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Fp(t,i,r,u,f,d,y,x,S,A,M,B,F,U){var V=(function(vt,gt,Lt,Ot,kt,Wt,$t,oe){for(var ie=Ot.layout.get("text-rotate").evaluate(Wt,{})*Math.PI/180,se=[],te=0,Gt=gt.positionedLines;te<Gt.length;te+=1)for(var Oe=Gt[te],xi=0,ui=Oe.positionedGlyphs;xi<ui.length;xi+=1){var Ae=ui[xi];if(Ae.rect){var Ye=Ae.rect||{},ei=4,Ue=!0,$e=1,ci=0,Hi=(kt||oe)&&Ae.vertical,cn=Ae.metrics.advance*Ae.scale/2;if(oe&&gt.verticalizable){var mr=24*(Ae.scale-1),yr=(24-Ae.metrics.width*Ae.scale)/2;ci=Oe.lineOffset/2-(Ae.imageName?-yr:mr)}if(Ae.imageName){var zn=$t[Ae.imageName];Ue=zn.sdf,ei=1/($e=zn.pixelRatio)}var Fn=kt?[Ae.x+cn,Ae.y]:[0,0],Cn=kt?[0,0]:[Ae.x+cn+Lt[0],Ae.y+Lt[1]-ci],Vn=[0,0];Hi&&(Vn=Cn,Cn=[0,0]);var In=(Ae.metrics.left-ei)*Ae.scale-cn+Cn[0],Qi=(-Ae.metrics.top-ei)*Ae.scale+Cn[1],bn=In+Ye.w*Ae.scale/$e,ii=Qi+Ye.h*Ae.scale/$e,Si=new yt(In,Qi),Fi=new yt(bn,Qi),Ci=new yt(In,ii),Bn=new yt(bn,ii);if(Hi){var Mi=new yt(-cn,cn- -17),Ke=-Math.PI/2,an=12-cn,So=Ae.imageName?an:0,rr=new yt(22-an,-So),br=new(Function.prototype.bind.apply(yt,[null].concat(Vn)));Si._rotateAround(Ke,Mi)._add(rr)._add(br),Fi._rotateAround(Ke,Mi)._add(rr)._add(br),Ci._rotateAround(Ke,Mi)._add(rr)._add(br),Bn._rotateAround(Ke,Mi)._add(rr)._add(br)}if(ie){var Ba=Math.sin(ie),Jn=Math.cos(ie),sa=[Jn,-Ba,Ba,Jn];Si._matMult(sa),Fi._matMult(sa),Ci._matMult(sa),Bn._matMult(sa)}var la=new yt(0,0),Oa=new yt(0,0);se.push({tl:Si,tr:Fi,bl:Ci,br:Bn,tex:Ye,writingMode:gt.writingMode,glyphOffset:Fn,sectionIndex:Ae.sectionIndex,isSDF:Ue,pixelOffsetTL:la,pixelOffsetBR:Oa,minFontScaleX:0,minFontScaleY:0})}}return se})(0,r,x,f,d,y,u,t.allowVerticalPlacement),J=t.textSizeData,W=null;J.kind==="source"?(W=[128*f.layout.get("text-size").evaluate(y,{})])[0]>32640&&zi(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):J.kind==="composite"&&((W=[128*U.compositeTextSizes[0].evaluate(y,{}),128*U.compositeTextSizes[1].evaluate(y,{})])[0]>32640||W[1]>32640)&&zi(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),t.addSymbols(t.text,V,W,x,d,y,A,i,S.lineStartIndex,S.lineLength,F);for(var et=0,mt=M;et<mt.length;et+=1)B[mt[et]]=t.text.placedSymbolArray.length-1;return 4*V.length}function Ph(t){for(var i in t)return t[i];return null}function Nh(t,i,r,u){var f=t.compareText;if(i in f){for(var d=f[i],y=d.length-1;y>=0;y--)if(u.dist(d[y])<r)return!0}else f[i]=[];return f[i].push(u),!1}var Fh=Zl.VectorTileFeature.types,Vp=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Pc(t,i,r,u,f,d,y,x,S,A,M,B,F){var U=x?Math.min(32640,Math.round(x[0])):0,V=x?Math.min(32640,Math.round(x[1])):0;t.emplaceBack(i,r,Math.round(32*u),Math.round(32*f),d,y,(U<<1)+(S?1:0),V,16*A,16*M,256*B,256*F)}function bo(t,i,r){t.emplaceBack(i.x,i.y,r),t.emplaceBack(i.x,i.y,r),t.emplaceBack(i.x,i.y,r),t.emplaceBack(i.x,i.y,r)}function nr(t){for(var i=0,r=t.sections;i<r.length;i+=1)if(sh(r[i].text))return!0;return!1}var Ql=function(t){this.layoutVertexArray=new R,this.indexArray=new wt,this.programConfigurations=t,this.segments=new qe,this.dynamicLayoutVertexArray=new N,this.opacityVertexArray=new Y,this.placedSymbolArray=new Qt};Ql.prototype.upload=function(t,i,r,u){r&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ah.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,i),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,Ad.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,Vp,!0),this.opacityVertexBuffer.itemSize=1),(r||u)&&this.programConfigurations.upload(t)},Ql.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},ue("SymbolBuffers",Ql);var al=function(t,i,r){this.layoutVertexArray=new t,this.layoutAttributes=i,this.indexArray=new r,this.segments=new qe,this.collisionVertexArray=new Z};al.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,Tf.members,!0)},al.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},ue("CollisionBuffers",al);var Ze=function(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(y){return y.id})),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasPaintOverrides=!1,this.hasRTLText=!1;var i=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Bc(this.zoom,i["text-size"]),this.iconSizeData=Bc(this.zoom,i["icon-size"]);var r=this.layers[0].layout,u=r.get("symbol-sort-key"),f=r.get("symbol-z-order");this.sortFeaturesByKey=f!=="viewport-y"&&u.constantOr(1)!==void 0;var d=f==="viewport-y"||f==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=d&&(r.get("text-allow-overlap")||r.get("icon-allow-overlap")||r.get("text-ignore-placement")||r.get("icon-ignore-placement")),r.get("symbol-placement")==="point"&&(this.writingModes=r.get("text-writing-mode").map((function(y){return ra[y]}))),this.stateDependentLayerIds=this.layers.filter((function(y){return y.isStateDependent()})).map((function(y){return y.id})),this.sourceID=t.sourceID};Ze.prototype.createArrays=function(){var t=this.layers[0].layout;this.hasPaintOverrides=Tn.hasPaintOverrides(t),this.text=new Ql(new ea(Ah.members,this.layers,this.zoom,(function(i){return/^text/.test(i)}))),this.icon=new Ql(new ea(Ah.members,this.layers,this.zoom,(function(i){return/^icon/.test(i)}))),this.textCollisionBox=new al(X,qu.members,Mt),this.iconCollisionBox=new al(X,qu.members,Mt),this.textCollisionCircle=new al(X,Mp.members,wt),this.iconCollisionCircle=new al(X,Mp.members,wt),this.glyphOffsetArray=new Te,this.lineVertexArray=new Ie,this.symbolInstances=new ke},Ze.prototype.calculateGlyphDependencies=function(t,i,r,u,f){for(var d=0;d<t.length;d++)if(i[t.charCodeAt(d)]=!0,(r||u)&&f){var y=ju[t.charAt(d)];y&&(i[y.charCodeAt(0)]=!0)}},Ze.prototype.populate=function(t,i){var r=this.layers[0],u=r.layout,f=u.get("text-font"),d=u.get("text-field"),y=u.get("icon-image"),x=(d.value.kind!=="constant"||d.value.value instanceof Le&&!d.value.value.isEmpty()||d.value.value.toString().length>0)&&(f.value.kind!=="constant"||f.value.value.length>0),S=(y.value.kind!=="constant"||!!y.value.value)&&Object.keys(y.parameters).length>0,A=u.get("symbol-sort-key");if(this.features=[],x||S){for(var M=i.iconDependencies,B=i.glyphDependencies,F=i.availableImages,U=new Pi(this.zoom),V=0,J=t;V<J.length;V+=1){var W=J[V],et=W.feature,mt=W.id,vt=W.index,gt=W.sourceLayerIndex;if(r._featureFilter(U,et)){var Lt=void 0;if(x){var Ot=r.getValueAndResolveTokens("text-field",et,F),kt=Le.factory(Ot);nr(kt)&&(this.hasRTLText=!0),(!this.hasRTLText||No()==="unavailable"||this.hasRTLText&&hn.isParsed())&&(Lt=Dp(kt,r,et))}var Wt=void 0;if(S){var $t=r.getValueAndResolveTokens("icon-image",et,F);Wt=$t instanceof Me?$t:Me.fromString($t)}if(Lt||Wt){var oe=this.sortFeaturesByKey?A.evaluate(et,{}):void 0,ie={id:mt,text:Lt,icon:Wt,index:vt,sourceLayerIndex:gt,geometry:vs(et),properties:et.properties,type:Fh[et.type],sortKey:oe};if(this.features.push(ie),Wt&&(M[Wt.name]=!0),Lt){var se=f.evaluate(et,{}).join(","),te=u.get("text-rotation-alignment")==="map"&&u.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(ra.vertical)>=0;for(var Gt=0,Oe=Lt.sections;Gt<Oe.length;Gt+=1){var xi=Oe[Gt];if(xi.image)M[xi.image.name]=!0;else{var ui=Jr(Lt.toString()),Ae=xi.fontStack||se,Ye=B[Ae]=B[Ae]||{};this.calculateGlyphDependencies(xi.text,Ye,te,this.allowVerticalPlacement,ui)}}}}}}u.get("symbol-placement")==="line"&&(this.features=(function(ei){var Ue={},$e={},ci=[],Hi=0;function cn(Fi){ci.push(ei[Fi]),Hi++}function mr(Fi,Ci,Bn){var Mi=$e[Fi];return delete $e[Fi],$e[Ci]=Mi,ci[Mi].geometry[0].pop(),ci[Mi].geometry[0]=ci[Mi].geometry[0].concat(Bn[0]),Mi}function yr(Fi,Ci,Bn){var Mi=Ue[Ci];return delete Ue[Ci],Ue[Fi]=Mi,ci[Mi].geometry[0].shift(),ci[Mi].geometry[0]=Bn[0].concat(ci[Mi].geometry[0]),Mi}function zn(Fi,Ci,Bn){var Mi=Bn?Ci[0][Ci[0].length-1]:Ci[0][0];return Fi+":"+Mi.x+":"+Mi.y}for(var Fn=0;Fn<ei.length;Fn++){var Cn=ei[Fn],Vn=Cn.geometry,In=Cn.text?Cn.text.toString():null;if(In){var Qi=zn(In,Vn),bn=zn(In,Vn,!0);if(Qi in $e&&bn in Ue&&$e[Qi]!==Ue[bn]){var ii=yr(Qi,bn,Vn),Si=mr(Qi,bn,ci[ii].geometry);delete Ue[Qi],delete $e[bn],$e[zn(In,ci[Si].geometry,!0)]=Si,ci[ii].geometry=null}else Qi in $e?mr(Qi,bn,Vn):bn in Ue?yr(Qi,bn,Vn):(cn(Fn),Ue[Qi]=Hi-1,$e[bn]=Hi-1)}else cn(Fn)}return ci.filter((function(Fi){return Fi.geometry}))})(this.features)),this.sortFeaturesByKey&&this.features.sort((function(ei,Ue){return ei.sortKey-Ue.sortKey}))}},Ze.prototype.update=function(t,i,r){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,i,this.layers,r),this.icon.programConfigurations.updatePaintArrays(t,i,this.layers,r))},Ze.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},Ze.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Ze.prototype.upload=function(t){this.uploaded||(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t),this.textCollisionCircle.upload(t),this.iconCollisionCircle.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Ze.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.textCollisionBox.destroy(),this.iconCollisionBox.destroy(),this.textCollisionCircle.destroy(),this.iconCollisionCircle.destroy()},Ze.prototype.addToLineVertexArray=function(t,i){var r=this.lineVertexArray.length;if(t.segment!==void 0){for(var u=t.dist(i[t.segment+1]),f=t.dist(i[t.segment]),d={},y=t.segment+1;y<i.length;y++)d[y]={x:i[y].x,y:i[y].y,tileUnitDistanceFromAnchor:u},y<i.length-1&&(u+=i[y+1].dist(i[y]));for(var x=t.segment||0;x>=0;x--)d[x]={x:i[x].x,y:i[x].y,tileUnitDistanceFromAnchor:f},x>0&&(f+=i[x-1].dist(i[x]));for(var S=0;S<i.length;S++){var A=d[S];this.lineVertexArray.emplaceBack(A.x,A.y,A.tileUnitDistanceFromAnchor)}}return{lineStartIndex:r,lineLength:this.lineVertexArray.length-r}},Ze.prototype.addSymbols=function(t,i,r,u,f,d,y,x,S,A,M){var B=this,F=t.indexArray,U=t.layoutVertexArray,V=t.dynamicLayoutVertexArray,J=t.segments.prepareSegment(4*i.length,t.layoutVertexArray,t.indexArray,d.sortKey),W=this.glyphOffsetArray.length,et=J.vertexLength,mt=this.allowVerticalPlacement&&y===ra.vertical?Math.PI/2:0,vt=function(Gt){var Oe=Gt.tl,xi=Gt.tr,ui=Gt.bl,Ae=Gt.br,Ye=Gt.tex,ei=Gt.pixelOffsetTL,Ue=Gt.pixelOffsetBR,$e=Gt.minFontScaleX,ci=Gt.minFontScaleY,Hi=J.vertexLength,cn=Gt.glyphOffset[1];Pc(U,x.x,x.y,Oe.x,cn+Oe.y,Ye.x,Ye.y,r,Gt.isSDF,ei.x,ei.y,$e,ci),Pc(U,x.x,x.y,xi.x,cn+xi.y,Ye.x+Ye.w,Ye.y,r,Gt.isSDF,Ue.x,ei.y,$e,ci),Pc(U,x.x,x.y,ui.x,cn+ui.y,Ye.x,Ye.y+Ye.h,r,Gt.isSDF,ei.x,Ue.y,$e,ci),Pc(U,x.x,x.y,Ae.x,cn+Ae.y,Ye.x+Ye.w,Ye.y+Ye.h,r,Gt.isSDF,Ue.x,Ue.y,$e,ci),bo(V,x,mt),F.emplaceBack(Hi,Hi+1,Hi+2),F.emplaceBack(Hi+1,Hi+2,Hi+3),J.vertexLength+=4,J.primitiveLength+=2,B.glyphOffsetArray.emplaceBack(Gt.glyphOffset[0])};if(d.text&&d.text.sections){var gt=d.text.sections;if(this.hasPaintOverrides){for(var Lt,Ot=function(Gt,Oe){Lt===void 0||Lt===Gt&&!Oe||t.programConfigurations.populatePaintArrays(t.layoutVertexArray.length,d,d.index,{},gt[Lt]),Lt=Gt},kt=0,Wt=i;kt<Wt.length;kt+=1){var $t=Wt[kt];Ot($t.sectionIndex,!1),vt($t)}Ot(Lt,!0)}else{for(var oe=0,ie=i;oe<ie.length;oe+=1)vt(ie[oe]);t.programConfigurations.populatePaintArrays(t.layoutVertexArray.length,d,d.index,{},gt[0])}}else{for(var se=0,te=i;se<te.length;se+=1)vt(te[se]);t.programConfigurations.populatePaintArrays(t.layoutVertexArray.length,d,d.index,{})}t.placedSymbolArray.emplaceBack(x.x,x.y,W,this.glyphOffsetArray.length-W,et,S,A,x.segment,r?r[0]:0,r?r[1]:0,u[0],u[1],y,0,!1,0,M)},Ze.prototype._addCollisionDebugVertex=function(t,i,r,u,f,d){return i.emplaceBack(0,0),t.emplaceBack(r.x,r.y,u,f,Math.round(d.x),Math.round(d.y))},Ze.prototype.addCollisionDebugVertices=function(t,i,r,u,f,d,y,x){var S=f.segments.prepareSegment(4,f.layoutVertexArray,f.indexArray),A=S.vertexLength,M=f.layoutVertexArray,B=f.collisionVertexArray,F=y.anchorX,U=y.anchorY;if(this._addCollisionDebugVertex(M,B,d,F,U,new yt(t,i)),this._addCollisionDebugVertex(M,B,d,F,U,new yt(r,i)),this._addCollisionDebugVertex(M,B,d,F,U,new yt(r,u)),this._addCollisionDebugVertex(M,B,d,F,U,new yt(t,u)),S.vertexLength+=4,x){var V=f.indexArray;V.emplaceBack(A,A+1,A+2),V.emplaceBack(A,A+2,A+3),S.primitiveLength+=2}else{var J=f.indexArray;J.emplaceBack(A,A+1),J.emplaceBack(A+1,A+2),J.emplaceBack(A+2,A+3),J.emplaceBack(A+3,A),S.primitiveLength+=4}},Ze.prototype.addDebugCollisionBoxes=function(t,i,r,u){for(var f=t;f<i;f++){var d=this.collisionBoxArray.get(f),y=d.x1,x=d.y1,S=d.x2,A=d.y2,M=d.radius>0;this.addCollisionDebugVertices(y,x,S,A,M?u?this.textCollisionCircle:this.iconCollisionCircle:u?this.textCollisionBox:this.iconCollisionBox,d.anchorPoint,r,M)}},Ze.prototype.generateCollisionDebugBuffers=function(){for(var t=0;t<this.symbolInstances.length;t++){var i=this.symbolInstances.get(t);this.addDebugCollisionBoxes(i.textBoxStartIndex,i.textBoxEndIndex,i,!0),this.addDebugCollisionBoxes(i.verticalTextBoxStartIndex,i.verticalTextBoxEndIndex,i,!0),this.addDebugCollisionBoxes(i.iconBoxStartIndex,i.iconBoxEndIndex,i,!1),this.addDebugCollisionBoxes(i.verticalIconBoxStartIndex,i.verticalIconBoxEndIndex,i,!1)}},Ze.prototype._deserializeCollisionBoxesForSymbol=function(t,i,r,u,f,d,y,x,S){for(var A={},M=i;M<r;M++){var B=t.get(M);if(B.radius===0){A.textBox={x1:B.x1,y1:B.y1,x2:B.x2,y2:B.y2,anchorPointX:B.anchorPointX,anchorPointY:B.anchorPointY},A.textFeatureIndex=B.featureIndex;break}A.textCircles||(A.textCircles=[],A.textFeatureIndex=B.featureIndex),A.textCircles.push(B.anchorPointX,B.anchorPointY,B.radius,B.signedDistanceFromAnchor,1)}for(var F=u;F<f;F++){var U=t.get(F);if(U.radius===0){A.verticalTextBox={x1:U.x1,y1:U.y1,x2:U.x2,y2:U.y2,anchorPointX:U.anchorPointX,anchorPointY:U.anchorPointY},A.verticalTextFeatureIndex=U.featureIndex;break}}for(var V=d;V<y;V++){var J=t.get(V);if(J.radius===0){A.iconBox={x1:J.x1,y1:J.y1,x2:J.x2,y2:J.y2,anchorPointX:J.anchorPointX,anchorPointY:J.anchorPointY},A.iconFeatureIndex=J.featureIndex;break}}for(var W=x;W<S;W++){var et=t.get(W);if(et.radius===0){A.verticalIconBox={x1:et.x1,y1:et.y1,x2:et.x2,y2:et.y2,anchorPointX:et.anchorPointX,anchorPointY:et.anchorPointY},A.verticalIconFeatureIndex=et.featureIndex;break}}return A},Ze.prototype.deserializeCollisionBoxes=function(t){this.collisionArrays=[];for(var i=0;i<this.symbolInstances.length;i++){var r=this.symbolInstances.get(i);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,r.textBoxStartIndex,r.textBoxEndIndex,r.verticalTextBoxStartIndex,r.verticalTextBoxEndIndex,r.iconBoxStartIndex,r.iconBoxEndIndex,r.verticalIconBoxStartIndex,r.verticalIconBoxEndIndex))}},Ze.prototype.hasTextData=function(){return this.text.segments.get().length>0},Ze.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Ze.prototype.hasTextCollisionBoxData=function(){return this.textCollisionBox.segments.get().length>0},Ze.prototype.hasIconCollisionBoxData=function(){return this.iconCollisionBox.segments.get().length>0},Ze.prototype.hasTextCollisionCircleData=function(){return this.textCollisionCircle.segments.get().length>0},Ze.prototype.hasIconCollisionCircleData=function(){return this.iconCollisionCircle.segments.get().length>0},Ze.prototype.addIndicesForPlacedSymbol=function(t,i){for(var r=t.placedSymbolArray.get(i),u=r.vertexStartIndex+4*r.numGlyphs,f=r.vertexStartIndex;f<u;f+=4)t.indexArray.emplaceBack(f,f+1,f+2),t.indexArray.emplaceBack(f+1,f+2,f+3)},Ze.prototype.getSortedSymbolIndexes=function(t){if(this.sortedAngle===t&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var i=Math.sin(t),r=Math.cos(t),u=[],f=[],d=[],y=0;y<this.symbolInstances.length;++y){d.push(y);var x=this.symbolInstances.get(y);u.push(0|Math.round(i*x.anchorX+r*x.anchorY)),f.push(x.featureIndex)}return d.sort((function(S,A){return u[S]-u[A]||f[A]-f[S]})),d},Ze.prototype.sortFeatures=function(t){var i=this;if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var r=0,u=this.symbolInstanceIndexes;r<u.length;r+=1){var f=u[r],d=this.symbolInstances.get(f);this.featureSortOrder.push(d.featureIndex),[d.rightJustifiedTextSymbolIndex,d.centerJustifiedTextSymbolIndex,d.leftJustifiedTextSymbolIndex].forEach((function(y,x,S){y>=0&&S.indexOf(y)===x&&i.addIndicesForPlacedSymbol(i.text,y)})),d.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,d.verticalPlacedTextSymbolIndex),d.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,d.placedIconSymbolIndex),d.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,d.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},ue("SymbolBucket",Ze,{omit:["layers","collisionBoxArray","features","compareText"]}),Ze.MAX_GLYPHS=65535,Ze.addDynamicAttributes=bo;var zd=new fn({"symbol-placement":new fe(zt.layout_symbol["symbol-placement"]),"symbol-spacing":new fe(zt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new fe(zt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new _e(zt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new fe(zt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new fe(zt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new fe(zt.layout_symbol["icon-ignore-placement"]),"icon-optional":new fe(zt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new fe(zt.layout_symbol["icon-rotation-alignment"]),"icon-size":new _e(zt.layout_symbol["icon-size"]),"icon-text-fit":new fe(zt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new fe(zt.layout_symbol["icon-text-fit-padding"]),"icon-image":new _e(zt.layout_symbol["icon-image"]),"icon-rotate":new _e(zt.layout_symbol["icon-rotate"]),"icon-padding":new fe(zt.layout_symbol["icon-padding"]),"icon-keep-upright":new fe(zt.layout_symbol["icon-keep-upright"]),"icon-offset":new _e(zt.layout_symbol["icon-offset"]),"icon-anchor":new _e(zt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new fe(zt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new fe(zt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new fe(zt.layout_symbol["text-rotation-alignment"]),"text-field":new _e(zt.layout_symbol["text-field"]),"text-font":new _e(zt.layout_symbol["text-font"]),"text-size":new _e(zt.layout_symbol["text-size"]),"text-max-width":new _e(zt.layout_symbol["text-max-width"]),"text-line-height":new fe(zt.layout_symbol["text-line-height"]),"text-letter-spacing":new _e(zt.layout_symbol["text-letter-spacing"]),"text-justify":new _e(zt.layout_symbol["text-justify"]),"text-radial-offset":new _e(zt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new fe(zt.layout_symbol["text-variable-anchor"]),"text-anchor":new _e(zt.layout_symbol["text-anchor"]),"text-max-angle":new fe(zt.layout_symbol["text-max-angle"]),"text-writing-mode":new fe(zt.layout_symbol["text-writing-mode"]),"text-rotate":new _e(zt.layout_symbol["text-rotate"]),"text-padding":new fe(zt.layout_symbol["text-padding"]),"text-keep-upright":new fe(zt.layout_symbol["text-keep-upright"]),"text-transform":new _e(zt.layout_symbol["text-transform"]),"text-offset":new _e(zt.layout_symbol["text-offset"]),"text-allow-overlap":new fe(zt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new fe(zt.layout_symbol["text-ignore-placement"]),"text-optional":new fe(zt.layout_symbol["text-optional"])}),Nc={paint:new fn({"icon-opacity":new _e(zt.paint_symbol["icon-opacity"]),"icon-color":new _e(zt.paint_symbol["icon-color"]),"icon-halo-color":new _e(zt.paint_symbol["icon-halo-color"]),"icon-halo-width":new _e(zt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new _e(zt.paint_symbol["icon-halo-blur"]),"icon-translate":new fe(zt.paint_symbol["icon-translate"]),"icon-translate-anchor":new fe(zt.paint_symbol["icon-translate-anchor"]),"text-opacity":new _e(zt.paint_symbol["text-opacity"]),"text-color":new _e(zt.paint_symbol["text-color"],{runtimeType:ut,getOverride:function(t){return t.textColor},hasOverride:function(t){return!!t.textColor}}),"text-halo-color":new _e(zt.paint_symbol["text-halo-color"]),"text-halo-width":new _e(zt.paint_symbol["text-halo-width"]),"text-halo-blur":new _e(zt.paint_symbol["text-halo-blur"]),"text-translate":new fe(zt.paint_symbol["text-translate"]),"text-translate-anchor":new fe(zt.paint_symbol["text-translate-anchor"])}),layout:zd},Wl=function(t){this.type=t.property.overrides?t.property.overrides.runtimeType:k,this.defaultValue=t};Wl.prototype.evaluate=function(t){if(t.formattedSection){var i=this.defaultValue.property.overrides;if(i&&i.hasOverride(t.formattedSection))return i.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default},Wl.prototype.eachChild=function(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)},Wl.prototype.possibleOutputs=function(){return[void 0]},Wl.prototype.serialize=function(){return null},ue("FormatSectionOverride",Wl,{omit:["defaultValue"]});var Tn=(function(t){function i(r){t.call(this,r,Nc)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.recalculate=function(r,u){if(t.prototype.recalculate.call(this,r,u),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var f=this.layout.get("text-writing-mode");if(f){for(var d=[],y=0,x=f;y<x.length;y+=1){var S=x[y];d.indexOf(S)<0&&d.push(S)}this.layout._values["text-writing-mode"]=d}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},i.prototype.getValueAndResolveTokens=function(r,u,f){var d=this.layout.get(r).evaluate(u,{},f),y=this._unevaluatedLayout._values[r];return y.isDataDriven()||Eu(y.value)||!d?d:(function(x,S){return S.replace(/{([^{}]+)}/g,(function(A,M){return M in x?String(x[M]):""}))})(u.properties,d)},i.prototype.createBucket=function(r){return new Ze(r)},i.prototype.queryRadius=function(){return 0},i.prototype.queryIntersectsFeature=function(){return!1},i.prototype._setPaintOverrides=function(){for(var r=0,u=Nc.paint.overridableProperties;r<u.length;r+=1){var f=u[r];if(i.hasPaintOverride(this.layout,f)){var d=this.paint.get(f),y=new Wl(d),x=new Al(y,d.property.specification),S=null;S=d.value.kind==="constant"||d.value.kind==="source"?new qs("source",x):new js("composite",x,d.value.zoomStops,d.value._interpolationType),this.paint._values[f]=new Sr(d.property,S,d.parameters)}}},i.prototype._handleOverridablePaintPropertyUpdate=function(r,u,f){return!(!this.layout||u.isDataDriven()||f.isDataDriven())&&i.hasPaintOverride(this.layout,r)},i.hasPaintOverride=function(r,u){var f=r.get("text-field"),d=Nc.paint.properties[u],y=!1,x=function(M){for(var B=0,F=M;B<F.length;B+=1){var U=F[B];if(d.overrides&&d.overrides.hasOverride(U))return void(y=!0)}};if(f.value.kind==="constant"&&f.value.value instanceof Le)x(f.value.value.sections);else if(f.value.kind==="source"){var S=function(M){if(!y)if(M instanceof di&&Re(M.value)===Dt){var B=M.value;x(B.sections)}else M instanceof en?x(M.sections):M.eachChild(S)},A=f.value;A._styleExpression&&S(A._styleExpression.expression)}return y},i.hasPaintOverrides=function(r){for(var u=0,f=Nc.paint.overridableProperties;u<f.length;u+=1){var d=f[u];if(i.hasPaintOverride(r,d))return!0}return!1},i})(_r),wa={paint:new fn({"background-color":new fe(zt.paint_background["background-color"]),"background-pattern":new Fo(zt.paint_background["background-pattern"]),"background-opacity":new fe(zt.paint_background["background-opacity"])})},zs=(function(t){function i(r){t.call(this,r,wa)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i})(_r),Pf={paint:new fn({"raster-opacity":new fe(zt.paint_raster["raster-opacity"]),"raster-hue-rotate":new fe(zt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new fe(zt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new fe(zt.paint_raster["raster-brightness-max"]),"raster-saturation":new fe(zt.paint_raster["raster-saturation"]),"raster-contrast":new fe(zt.paint_raster["raster-contrast"]),"raster-resampling":new fe(zt.paint_raster["raster-resampling"]),"raster-fade-duration":new fe(zt.paint_raster["raster-fade-duration"])})},Nf=(function(t){function i(r){t.call(this,r,Pf)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i})(_r),Ff=(function(t){function i(r){t.call(this,r,{}),this.implementation=r}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},i.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},i.prototype.recalculate=function(){},i.prototype.updateTransitions=function(){},i.prototype.hasTransition=function(){},i.prototype.serialize=function(){},i.prototype.onAdd=function(r){this.implementation.onAdd&&this.implementation.onAdd(r,r.painter.context.gl)},i.prototype.onRemove=function(r){this.implementation.onRemove&&this.implementation.onRemove(r,r.painter.context.gl)},i})(_r),Cd={circle:Ja,heatmap:ln,hillshade:mp,fill:mf,"fill-extrusion":wh,line:Ef,symbol:Tn,background:zs,raster:Nf},Fc=self.HTMLImageElement,aa=self.HTMLCanvasElement,to=self.HTMLVideoElement,Vh=self.ImageData,Cr=self.ImageBitmap,ol=function(t,i,r,u){this.context=t,this.format=r,this.texture=t.gl.createTexture(),this.update(i,u)};ol.prototype.update=function(t,i,r){var u=t.width,f=t.height,d=!(this.size&&this.size[0]===u&&this.size[1]===f||r),y=this.context,x=y.gl;if(this.useMipmap=!!(i&&i.useMipmap),x.bindTexture(x.TEXTURE_2D,this.texture),y.pixelStoreUnpackFlipY.set(!1),y.pixelStoreUnpack.set(1),y.pixelStoreUnpackPremultiplyAlpha.set(this.format===x.RGBA&&(!i||i.premultiply!==!1)),d)this.size=[u,f],t instanceof Fc||t instanceof aa||t instanceof to||t instanceof Vh||Cr&&t instanceof Cr?x.texImage2D(x.TEXTURE_2D,0,this.format,this.format,x.UNSIGNED_BYTE,t):x.texImage2D(x.TEXTURE_2D,0,this.format,u,f,0,this.format,x.UNSIGNED_BYTE,t.data);else{var S=r||{x:0,y:0},A=S.x,M=S.y;t instanceof Fc||t instanceof aa||t instanceof to||t instanceof Vh||Cr&&t instanceof Cr?x.texSubImage2D(x.TEXTURE_2D,0,A,M,x.RGBA,x.UNSIGNED_BYTE,t):x.texSubImage2D(x.TEXTURE_2D,0,A,M,u,f,x.RGBA,x.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&x.generateMipmap(x.TEXTURE_2D)},ol.prototype.bind=function(t,i,r){var u=this.context.gl;u.bindTexture(u.TEXTURE_2D,this.texture),r!==u.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(r=u.LINEAR),t!==this.filter&&(u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,t),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,r||t),this.filter=t),i!==this.wrap&&(u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,i),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,i),this.wrap=i)},ol.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},ol.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var wo=function(t){var i=this;this._callback=t,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){i._triggered=!1,i._callback()})};wo.prototype.trigger=function(){var t=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){t._triggered=!1,t._callback()}),0))},wo.prototype.remove=function(){delete this._channel,this._callback=function(){}};var eo=function(t,i,r){this.target=t,this.parent=i,this.mapId=r,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},Oi(["receive","process"],this),this.invoker=new wo(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=jn()?t:self};function Ho(t,i,r){var u=2*Math.PI*6378137/256/Math.pow(2,r);return[t*u-2*Math.PI*6378137/2,i*u-2*Math.PI*6378137/2]}eo.prototype.send=function(t,i,r,u,f){var d=this;f===void 0&&(f=!1);var y=Math.round(1e18*Math.random()).toString(36).substring(0,10);r&&(this.callbacks[y]=r);var x=re(this.globalScope)?void 0:[];return this.target.postMessage({id:y,type:t,hasCallback:!!r,targetMapId:u,mustQueue:f,sourceMapId:this.mapId,data:va(i,x)},x),{cancel:function(){r&&delete d.callbacks[y],d.target.postMessage({id:y,type:"<cancel>",targetMapId:u,sourceMapId:d.mapId})}}},eo.prototype.receive=function(t){var i=t.data,r=i.id;if(r&&(!i.targetMapId||this.mapId===i.targetMapId))if(i.type==="<cancel>"){delete this.tasks[r];var u=this.cancelCallbacks[r];delete this.cancelCallbacks[r],u&&u()}else jn()||i.mustQueue?(this.tasks[r]=i,this.taskQueue.push(r),this.invoker.trigger()):this.processTask(r,i)},eo.prototype.process=function(){if(this.taskQueue.length){var t=this.taskQueue.shift(),i=this.tasks[t];delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),i&&this.processTask(t,i)}},eo.prototype.processTask=function(t,i){var r=this;if(i.type==="<response>"){var u=this.callbacks[t];delete this.callbacks[t],u&&(i.error?u(sn(i.error)):u(null,sn(i.data)))}else{var f=!1,d=re(this.globalScope)?void 0:[],y=i.hasCallback?function(M,B){f=!0,delete r.cancelCallbacks[t],r.target.postMessage({id:t,type:"<response>",sourceMapId:r.mapId,error:M?va(M):null,data:va(B,d)},d)}:function(M){f=!0},x=null,S=sn(i.data);if(this.parent[i.type])x=this.parent[i.type](i.sourceMapId,S,y);else if(this.parent.getWorkerSource){var A=i.type.split(".");x=this.parent.getWorkerSource(i.sourceMapId,A[0],S.source)[A[1]](S,y)}else y(new Error("Could not find function "+i.type));!f&&x&&x.cancel&&(this.cancelCallbacks[t]=x.cancel)}},eo.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var An=function(t,i){t&&(i?this.setSouthWest(t).setNorthEast(i):t.length===4?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};An.prototype.setNorthEast=function(t){return this._ne=t instanceof Ji?new Ji(t.lng,t.lat):Ji.convert(t),this},An.prototype.setSouthWest=function(t){return this._sw=t instanceof Ji?new Ji(t.lng,t.lat):Ji.convert(t),this},An.prototype.extend=function(t){var i,r,u=this._sw,f=this._ne;if(t instanceof Ji)i=t,r=t;else{if(!(t instanceof An))return Array.isArray(t)?t.every(Array.isArray)?this.extend(An.convert(t)):this.extend(Ji.convert(t)):this;if(i=t._sw,r=t._ne,!i||!r)return this}return u||f?(u.lng=Math.min(i.lng,u.lng),u.lat=Math.min(i.lat,u.lat),f.lng=Math.max(r.lng,f.lng),f.lat=Math.max(r.lat,f.lat)):(this._sw=new Ji(i.lng,i.lat),this._ne=new Ji(r.lng,r.lat)),this},An.prototype.getCenter=function(){return new Ji((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},An.prototype.getSouthWest=function(){return this._sw},An.prototype.getNorthEast=function(){return this._ne},An.prototype.getNorthWest=function(){return new Ji(this.getWest(),this.getNorth())},An.prototype.getSouthEast=function(){return new Ji(this.getEast(),this.getSouth())},An.prototype.getWest=function(){return this._sw.lng},An.prototype.getSouth=function(){return this._sw.lat},An.prototype.getEast=function(){return this._ne.lng},An.prototype.getNorth=function(){return this._ne.lat},An.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},An.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},An.prototype.isEmpty=function(){return!(this._sw&&this._ne)},An.prototype.contains=function(t){var i=Ji.convert(t),r=i.lng,u=i.lat,f=this._sw.lat<=u&&u<=this._ne.lat,d=this._sw.lng<=r&&r<=this._ne.lng;return this._sw.lng>this._ne.lng&&(d=this._sw.lng>=r&&r>=this._ne.lng),f&&d},An.convert=function(t){return!t||t instanceof An?t:new An(t)};var Ji=function(t,i){if(isNaN(t)||isNaN(i))throw new Error("Invalid LngLat object: ("+t+", "+i+")");if(this.lng=+t,this.lat=+i,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Ji.prototype.wrap=function(){return new Ji(Ee(this.lng,-180,180),this.lat)},Ji.prototype.toArray=function(){return[this.lng,this.lat]},Ji.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Ji.prototype.toBounds=function(t){t===void 0&&(t=0);var i=360*t/40075017,r=i/Math.cos(Math.PI/180*this.lat);return new An(new Ji(this.lng-r,this.lat-i),new Ji(this.lng+r,this.lat+i))},Ji.convert=function(t){if(t instanceof Ji)return t;if(Array.isArray(t)&&(t.length===2||t.length===3))return new Ji(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&typeof t=="object"&&t!==null)return new Ji(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var io=2*Math.PI*6378137;function qh(t){return io*Math.cos(t*Math.PI/180)}function $l(t){return(180+t)/360}function Yu(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function Ku(t,i){return t/qh(i)}function sl(t){var i=180-360*t;return 360/Math.PI*Math.atan(Math.exp(i*Math.PI/180))-90}var ll=function(t,i,r){r===void 0&&(r=0),this.x=+t,this.y=+i,this.z=+r};ll.fromLngLat=function(t,i){i===void 0&&(i=0);var r=Ji.convert(t);return new ll($l(r.lng),Yu(r.lat),Ku(i,r.lat))},ll.prototype.toLngLat=function(){return new Ji(360*this.x-180,sl(this.y))},ll.prototype.toAltitude=function(){return t=this.z,i=this.y,t*qh(sl(i));var t,i},ll.prototype.meterInMercatorCoordinateUnits=function(){return 1/io*(t=sl(this.y),1/Math.cos(t*Math.PI/180));var t};var ul=function(t,i,r){this.z=t,this.x=i,this.y=r,this.key=cl(0,t,t,i,r)};ul.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},ul.prototype.url=function(t,i){var r,u,f,d,y,x=(r=this.x,u=this.y,f=this.z,d=Ho(256*r,256*(u=Math.pow(2,f)-u-1),f),y=Ho(256*(r+1),256*(u+1),f),d[0]+","+d[1]+","+y[0]+","+y[1]),S=(function(A,M,B){for(var F,U="",V=A;V>0;V--)U+=(M&(F=1<<V-1)?1:0)+(B&F?2:0);return U})(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(i==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",S).replace("{bbox-epsg-3857}",x)},ul.prototype.getTilePoint=function(t){var i=Math.pow(2,this.z);return new yt(8192*(t.x*i-this.x),8192*(t.y*i-this.y))},ul.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Ju=function(t,i){this.wrap=t,this.canonical=i,this.key=cl(t,i.z,i.z,i.x,i.y)},Dn=function(t,i,r,u,f){this.overscaledZ=t,this.wrap=i,this.canonical=new ul(r,+u,+f),this.key=cl(i,t,r,u,f)};function cl(t,i,r,u,f){(t*=2)<0&&(t=-1*t-1);var d=1<<r;return(d*d*t+d*f+u).toString(36)+r.toString(36)+i.toString(36)}Dn.prototype.equals=function(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)},Dn.prototype.scaledTo=function(t){var i=this.canonical.z-t;return t>this.canonical.z?new Dn(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Dn(t,this.wrap,t,this.canonical.x>>i,this.canonical.y>>i)},Dn.prototype.calculateScaledKey=function(t,i){var r=this.canonical.z-t;return t>this.canonical.z?cl(this.wrap*+i,t,this.canonical.z,this.canonical.x,this.canonical.y):cl(this.wrap*+i,t,t,this.canonical.x>>r,this.canonical.y>>r)},Dn.prototype.isChildOf=function(t){if(t.wrap!==this.wrap)return!1;var i=this.canonical.z-t.canonical.z;return t.overscaledZ===0||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>i&&t.canonical.y===this.canonical.y>>i},Dn.prototype.children=function(t){if(this.overscaledZ>=t)return[new Dn(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var i=this.canonical.z+1,r=2*this.canonical.x,u=2*this.canonical.y;return[new Dn(i,this.wrap,i,r,u),new Dn(i,this.wrap,i,r+1,u),new Dn(i,this.wrap,i,r,u+1),new Dn(i,this.wrap,i,r+1,u+1)]},Dn.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},Dn.prototype.wrapped=function(){return new Dn(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Dn.prototype.unwrapTo=function(t){return new Dn(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)},Dn.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Dn.prototype.toUnwrapped=function(){return new Ju(this.wrap,this.canonical)},Dn.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Dn.prototype.getTilePoint=function(t){return this.canonical.getTilePoint(new ll(t.x-this.wrap,t.y))},ue("CanonicalTileID",ul),ue("OverscaledTileID",Dn,{omit:["posMatrix"]});var Xo=function(t,i,r){if(this.uid=t,i.height!==i.width)throw new RangeError("DEM tiles must be square");if(r&&r!=="mapbox"&&r!=="terrarium")return zi('"'+r+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=i.height;var u=this.dim=i.height-2;this.data=new Uint32Array(i.data.buffer),this.encoding=r||"mapbox";for(var f=0;f<u;f++)this.data[this._idx(-1,f)]=this.data[this._idx(0,f)],this.data[this._idx(u,f)]=this.data[this._idx(u-1,f)],this.data[this._idx(f,-1)]=this.data[this._idx(f,0)],this.data[this._idx(f,u)]=this.data[this._idx(f,u-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(u,-1)]=this.data[this._idx(u-1,0)],this.data[this._idx(-1,u)]=this.data[this._idx(0,u-1)],this.data[this._idx(u,u)]=this.data[this._idx(u-1,u-1)]};Xo.prototype.get=function(t,i){var r=new Uint8Array(this.data.buffer),u=4*this._idx(t,i);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(r[u],r[u+1],r[u+2])},Xo.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Xo.prototype._idx=function(t,i){if(t<-1||t>=this.dim+1||i<-1||i>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(i+1)*this.stride+(t+1)},Xo.prototype._unpackMapbox=function(t,i,r){return(256*t*256+256*i+r)/10-1e4},Xo.prototype._unpackTerrarium=function(t,i,r){return 256*t+i+r/256-32768},Xo.prototype.getPixels=function(){return new fr({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Xo.prototype.backfillBorder=function(t,i,r){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");var u=i*this.dim,f=i*this.dim+this.dim,d=r*this.dim,y=r*this.dim+this.dim;switch(i){case-1:u=f-1;break;case 1:f=u+1}switch(r){case-1:d=y-1;break;case 1:y=d+1}for(var x=-i*this.dim,S=-r*this.dim,A=d;A<y;A++)for(var M=u;M<f;M++)this.data[this._idx(M,A)]=t.data[this._idx(M+x,A+S)]},ue("DEMData",Xo);var qp=function(t){this._stringToNumber={},this._numberToString=[];for(var i=0;i<t.length;i++){var r=t[i];this._stringToNumber[r]=i,this._numberToString[i]=r}};qp.prototype.encode=function(t){return this._stringToNumber[t]},qp.prototype.decode=function(t){return this._numberToString[t]};var jp=function(t,i,r,u,f){this.type="Feature",this._vectorTileFeature=t,t._z=i,t._x=r,t._y=u,this.properties=t.properties,this.id=f},Ii={geometry:{configurable:!0}};Ii.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Ii.geometry.set=function(t){this._geometry=t},jp.prototype.toJSON=function(){var t={geometry:this.geometry};for(var i in this)i!=="_geometry"&&i!=="_vectorTileFeature"&&(t[i]=this[i]);return t},Object.defineProperties(jp.prototype,Ii);var Ni=function(){this.state={},this.stateChanges={},this.deletedStates={}};Ni.prototype.updateState=function(t,i,r){var u=String(i);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][u]=this.stateChanges[t][u]||{},ne(this.stateChanges[t][u],r),this.deletedStates[t]===null)for(var f in this.deletedStates[t]={},this.state[t])f!==u&&(this.deletedStates[t][f]=null);else if(this.deletedStates[t]&&this.deletedStates[t][u]===null)for(var d in this.deletedStates[t][u]={},this.state[t][u])r[d]||(this.deletedStates[t][u][d]=null);else for(var y in r)this.deletedStates[t]&&this.deletedStates[t][u]&&this.deletedStates[t][u][y]===null&&delete this.deletedStates[t][u][y]},Ni.prototype.removeFeatureState=function(t,i,r){if(this.deletedStates[t]!==null){var u=String(i);if(this.deletedStates[t]=this.deletedStates[t]||{},r&&i!==void 0)this.deletedStates[t][u]!==null&&(this.deletedStates[t][u]=this.deletedStates[t][u]||{},this.deletedStates[t][u][r]=null);else if(i!==void 0)if(this.stateChanges[t]&&this.stateChanges[t][u])for(r in this.deletedStates[t][u]={},this.stateChanges[t][u])this.deletedStates[t][u][r]=null;else this.deletedStates[t][u]=null;else this.deletedStates[t]=null}},Ni.prototype.getState=function(t,i){var r=String(i),u=this.state[t]||{},f=this.stateChanges[t]||{},d=ne({},u[r],f[r]);if(this.deletedStates[t]===null)return{};if(this.deletedStates[t]){var y=this.deletedStates[t][i];if(y===null)return{};for(var x in y)delete d[x]}return d},Ni.prototype.initializeTileState=function(t,i){t.setFeatureState(this.state,i)},Ni.prototype.coalesceChanges=function(t,i){var r={};for(var u in this.stateChanges){this.state[u]=this.state[u]||{};var f={};for(var d in this.stateChanges[u])this.state[u][d]||(this.state[u][d]={}),ne(this.state[u][d],this.stateChanges[u][d]),f[d]=this.state[u][d];r[u]=f}for(var y in this.deletedStates){this.state[y]=this.state[y]||{};var x={};if(this.deletedStates[y]===null)for(var S in this.state[y])x[S]={},this.state[y][S]={};else for(var A in this.deletedStates[y]){if(this.deletedStates[y][A]===null)this.state[y][A]={};else for(var M=0,B=Object.keys(this.deletedStates[y][A]);M<B.length;M+=1){var F=B[M];delete this.state[y][A][F]}x[A]=this.state[y][A]}r[y]=r[y]||{},ne(r[y],x)}if(this.stateChanges={},this.deletedStates={},Object.keys(r).length!==0)for(var U in t)t[U].setFeatureState(r,i)};var ti=function(t,i){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new Uo(8192,16,0),this.grid3D=new Uo(8192,16,0),this.featureIndexArray=new nn,this.promoteId=i};function _i(t){for(var i=1/0,r=1/0,u=-1/0,f=-1/0,d=0,y=t;d<y.length;d+=1){var x=y[d];i=Math.min(i,x.x),r=Math.min(r,x.y),u=Math.max(u,x.x),f=Math.max(f,x.y)}return{minX:i,minY:r,maxX:u,maxY:f}}function rn(t,i){return i-t}ti.prototype.insert=function(t,i,r,u,f,d){var y=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(r,u,f);for(var x=d?this.grid3D:this.grid,S=0;S<i.length;S++){for(var A=i[S],M=[1/0,1/0,-1/0,-1/0],B=0;B<A.length;B++){var F=A[B];M[0]=Math.min(M[0],F.x),M[1]=Math.min(M[1],F.y),M[2]=Math.max(M[2],F.x),M[3]=Math.max(M[3],F.y)}M[0]<8192&&M[1]<8192&&M[2]>=0&&M[3]>=0&&x.insert(y,M[0],M[1],M[2],M[3])}},ti.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Zl.VectorTile(new Dc(this.rawTileData)).layers,this.sourceLayerCoder=new qp(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},ti.prototype.query=function(t,i,r){var u=this;this.loadVTLayers();for(var f=t.params||{},d=8192/t.tileSize/t.scale,y=Ml(f.filter),x=t.queryGeometry,S=t.queryPadding*d,A=_i(x),M=this.grid.query(A.minX-S,A.minY-S,A.maxX+S,A.maxY+S),B=_i(t.cameraQueryGeometry),F=this.grid3D.query(B.minX-S,B.minY-S,B.maxX+S,B.maxY+S,(function(gt,Lt,Ot,kt){return(function(Wt,$t,oe,ie,se){for(var te=0,Gt=Wt;te<Gt.length;te+=1){var Oe=Gt[te];if($t<=Oe.x&&oe<=Oe.y&&ie>=Oe.x&&se>=Oe.y)return!0}var xi=[new yt($t,oe),new yt($t,se),new yt(ie,se),new yt(ie,oe)];if(Wt.length>2){for(var ui=0,Ae=xi;ui<Ae.length;ui+=1)if(Zo(Wt,Ae[ui]))return!0}for(var Ye=0;Ye<Wt.length-1;Ye++)if(zc(Wt[Ye],Wt[Ye+1],xi))return!0;return!1})(t.cameraQueryGeometry,gt-S,Lt-S,Ot+S,kt+S)})),U=0,V=F;U<V.length;U+=1){var J=V[U];M.push(J)}M.sort(rn);for(var W,et={},mt=function(gt){var Lt=M[gt];if(Lt!==W){W=Lt;var Ot=u.featureIndexArray.get(Lt),kt=null;u.loadMatchingFeature(et,Ot.bucketIndex,Ot.sourceLayerIndex,Ot.featureIndex,y,f.layers,i,(function(Wt,$t,oe){kt||(kt=vs(Wt));var ie={};return oe!==void 0&&(ie=r.getState($t.sourceLayer||"_geojsonTileLayer",oe)),$t.queryIntersectsFeature(x,Wt,ie,kt,u.z,t.transform,d,t.pixelPosMatrix)}))}},vt=0;vt<M.length;vt++)mt(vt);return et},ti.prototype.loadMatchingFeature=function(t,i,r,u,f,d,y,x){var S=this.bucketLayerIDs[i];if(!d||(function(mt,vt){for(var gt=0;gt<mt.length;gt++)if(vt.indexOf(mt[gt])>=0)return!0;return!1})(d,S)){var A=this.sourceLayerCoder.decode(r),M=this.vtLayers[A].feature(u);if(f(new Pi(this.tileID.overscaledZ),M))for(var B=this.getId(M,A),F=0;F<S.length;F++){var U=S[F];if(!(d&&d.indexOf(U)<0)){var V=y[U];if(V){var J=!x||x(M,V,B);if(J){var W=new jp(M,this.z,this.x,this.y,B);W.layer=V.serialize();var et=t[U];et===void 0&&(et=t[U]=[]),et.push({featureIndex:u,feature:W,intersectionZ:J})}}}}}},ti.prototype.lookupSymbolFeatures=function(t,i,r,u,f,d){var y={};this.loadVTLayers();for(var x=Ml(u),S=0,A=t;S<A.length;S+=1){var M=A[S];this.loadMatchingFeature(y,i,r,M,x,f,d)}return y},ti.prototype.hasLayer=function(t){for(var i=0,r=this.bucketLayerIDs;i<r.length;i+=1)for(var u=0,f=r[i];u<f.length;u+=1)if(t===f[u])return!0;return!1},ti.prototype.getId=function(t,i){var r=t.id;if(this.promoteId){var u=typeof this.promoteId=="string"?this.promoteId:this.promoteId[i];typeof(r=t.properties[u])=="boolean"&&(r=Number(r))}return r},ue("FeatureIndex",ti,{omit:["rawTileData","sourceLayerCoder"]});var Bi=function(t,i){this.tileID=t,this.uid=be(),this.uses=0,this.tileSize=i,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Bi.prototype.registerFadeDuration=function(t){var i=t+this.timeAdded;i<Je.now()||this.fadeEndTime&&i<this.fadeEndTime||(this.fadeEndTime=i)},Bi.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Bi.prototype.loadVectorData=function(t,i,r){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){for(var u in t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=(function(A,M){var B={};if(!M)return B;for(var F=function(){var J=V[U],W=J.layerIds.map((function(gt){return M.getLayer(gt)})).filter(Boolean);if(W.length!==0){J.layers=W,J.stateDependentLayerIds&&(J.stateDependentLayers=J.stateDependentLayerIds.map((function(gt){return W.filter((function(Lt){return Lt.id===gt}))[0]})));for(var et=0,mt=W;et<mt.length;et+=1){var vt=mt[et];B[vt.id]=J}}},U=0,V=A;U<V.length;U+=1)F();return B})(t.buckets,i.style),this.hasSymbolBuckets=!1,this.buckets){var f=this.buckets[u];if(f instanceof Ze){if(this.hasSymbolBuckets=!0,!r)break;f.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var d in this.buckets){var y=this.buckets[d];if(y instanceof Ze&&y.hasRTLText){this.hasRTLText=!0,hn.isLoading()||hn.isLoaded()||No()!=="deferred"||Iu();break}}for(var x in this.queryPadding=0,this.buckets){var S=this.buckets[x];this.queryPadding=Math.max(this.queryPadding,i.style.getLayer(x).queryRadius(S))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new Yt},Bi.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Bi.prototype.getBucket=function(t){return this.buckets[t.id]},Bi.prototype.upload=function(t){for(var i in this.buckets){var r=this.buckets[i];r.uploadPending()&&r.upload(t)}var u=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new ol(t,this.imageAtlas.image,u.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new ol(t,this.glyphAtlasImage,u.ALPHA),this.glyphAtlasImage=null)},Bi.prototype.prepare=function(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)},Bi.prototype.queryRenderedFeatures=function(t,i,r,u,f,d,y,x,S){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:r,cameraQueryGeometry:u,scale:f,tileSize:this.tileSize,pixelPosMatrix:S,transform:y,params:d,queryPadding:this.queryPadding*x},t,i):{}},Bi.prototype.querySourceFeatures=function(t,i){var r=this.latestFeatureIndex;if(r&&r.rawTileData){var u=r.loadVTLayers(),f=i?i.sourceLayer:"",d=u._geojsonTileLayer||u[f];if(d)for(var y=Ml(i&&i.filter),x=this.tileID.canonical,S=x.z,A=x.x,M=x.y,B={z:S,x:A,y:M},F=0;F<d.length;F++){var U=d.feature(F);if(y(new Pi(this.tileID.overscaledZ),U)){var V=r.getId(U,f),J=new jp(U,S,A,M,V);J.tile=B,t.push(J)}}}},Bi.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Bi.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Bi.prototype.setExpiryData=function(t){var i=this.expirationTime;if(t.cacheControl){var r=sr(t.cacheControl);r["max-age"]&&(this.expirationTime=Date.now()+1e3*r["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var u=Date.now(),f=!1;if(this.expirationTime>u)f=!1;else if(i)if(this.expirationTime<i)f=!0;else{var d=this.expirationTime-i;d?this.expirationTime=u+Math.max(d,3e4):f=!0}else f=!0;f?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Bi.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Bi.prototype.setFeatureState=function(t,i){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(t).length!==0){var r=this.latestFeatureIndex.loadVTLayers();for(var u in this.buckets){var f=this.buckets[u],d=f.layers[0].sourceLayer||"_geojsonTileLayer",y=r[d],x=t[d];y&&x&&Object.keys(x).length!==0&&(f.update(x,y,this.imageAtlas&&this.imageAtlas.patternPositions||{}),i&&i.style&&(this.queryPadding=Math.max(this.queryPadding,i.style.getLayer(u).queryRadius(f))))}}},Bi.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Bi.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Je.now()},Bi.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Bi.prototype.setHoldDuration=function(t){this.symbolFadeHoldUntil=Je.now()+t},Bi.prototype.setDependencies=function(t,i){for(var r={},u=0,f=i;u<f.length;u+=1)r[f[u]]=!0;this.dependencies[t]=r},Bi.prototype.hasDependency=function(t,i){for(var r=0,u=t;r<u.length;r+=1){var f=u[r],d=this.dependencies[f];if(d){for(var y=0,x=i;y<x.length;y+=1)if(d[x[y]])return!0}}return!1};var oa=self.performance,tu=function(t){this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},oa.mark(this._marks.start)};tu.prototype.finish=function(){oa.mark(this._marks.end);var t=oa.getEntriesByName(this._marks.measure);return t.length===0&&(oa.measure(this._marks.measure,this._marks.start,this._marks.end),t=oa.getEntriesByName(this._marks.measure),oa.clearMarks(this._marks.start),oa.clearMarks(this._marks.end),oa.clearMeasures(this._marks.measure)),t},h.Actor=eo,h.AlphaImage=dn,h.CanonicalTileID=ul,h.CollisionBoxArray=Yt,h.Color=Ht,h.DEMData=Xo,h.DataConstantProperty=fe,h.DictionaryCoder=qp,h.EXTENT=8192,h.ErrorEvent=gn,h.EvaluationParameters=Pi,h.Event=oi,h.Evented=Xi,h.FeatureIndex=ti,h.FillBucket=Wa,h.FillExtrusionBucket=$a,h.ImageAtlas=Ss,h.ImagePosition=Rc,h.LineBucket=Tr,h.LngLat=Ji,h.LngLatBounds=An,h.MercatorCoordinate=ll,h.ONE_EM=24,h.OverscaledTileID=Dn,h.Point=yt,h.Point$1=yt,h.ProgramConfiguration=Kn,h.Properties=fn,h.Protobuf=Dc,h.RGBAImage=fr,h.RequestManager=Fe,h.RequestPerformance=tu,h.ResourceType=fa,h.SegmentVector=qe,h.SourceFeatureState=Ni,h.StructArrayLayout1ui2=Bt,h.StructArrayLayout2i4=g,h.StructArrayLayout2ui4=Mt,h.StructArrayLayout3ui6=wt,h.StructArrayLayout4i8=b,h.SymbolBucket=Ze,h.Texture=ol,h.Tile=Bi,h.Transitionable=Or,h.Uniform1f=Ya,h.Uniform1i=Bu,h.Uniform2f=ba,h.Uniform3f=Qs,h.Uniform4f=vo,h.UniformColor=qo,h.UniformMatrix4f=Gi,h.UnwrappedTileID=Ju,h.ValidationError=Jt,h.WritingMode=ra,h.ZoomHistory=Xs,h.addDynamicAttributes=bo,h.asyncAll=function(t,i,r){if(!t.length)return r(null,[]);var u=t.length,f=new Array(t.length),d=null;t.forEach((function(y,x){i(y,(function(S,A){S&&(d=S),f[x]=A,--u==0&&r(d,f)}))}))},h.bezier=Xt,h.bindAll=Oi,h.browser=Je,h.cacheEntryPossiblyAdded=function(t){++cr>so&&(t.getActor().send("enforceCacheSizeLimit",yu),cr=0)},h.clamp=pe,h.clearTileCache=function(t){var i=self.caches.delete("mapbox-tiles");t&&i.catch(t).then((function(){return t()}))},h.clone=function(t){var i=new Ia(16);return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[8]=t[8],i[9]=t[9],i[10]=t[10],i[11]=t[11],i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15],i},h.clone$1=ni,h.config=He,h.create=function(){var t=new Ia(16);return Ia!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},h.create$1=function(){var t=new Ia(9);return Ia!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},h.create$2=function(){var t=new Ia(4);return Ia!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},h.createCommonjsModule=xt,h.createExpression=Tu,h.createLayout=c,h.createStyleLayer=function(t){return t.type==="custom"?new Ff(t):new Cd[t.type](t)},h.deepEqual=function t(i,r){if(Array.isArray(i)){if(!Array.isArray(r)||i.length!==r.length)return!1;for(var u=0;u<i.length;u++)if(!t(i[u],r[u]))return!1;return!0}if(typeof i=="object"&&i!==null&&r!==null){if(typeof r!="object"||Object.keys(i).length!==Object.keys(r).length)return!1;for(var f in i)if(!t(i[f],r[f]))return!1;return!0}return i===r},h.ease=ce,h.emitValidationErrors=ku,h.endsWith=tn,h.enforceCacheSizeLimit=function(t){zo(),ha&&ha.then((function(i){i.keys().then((function(r){for(var u=0;u<r.length-t;u++)i.delete(r[u])}))}))},h.evaluateSizeForFeature=Ih,h.evaluateSizeForZoom=Op,h.evaluateVariableOffset=xo,h.evented=Ys,h.extend=ne,h.featureFilter=Ml,h.filterObject=yn,h.fromRotation=function(t,i){var r=Math.sin(i),u=Math.cos(i);return t[0]=u,t[1]=r,t[2]=0,t[3]=-r,t[4]=u,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},h.getAnchorAlignment=Ic,h.getAnchorJustification=Np,h.getArrayBuffer=Gr,h.getImage=bl,h.getJSON=function(t,i){return Fa(ne(t,{type:"json"}),i)},h.getRTLTextPluginStatus=No,h.getReferrer=uo,h.getVideo=function(t,i){var r,u,f=self.document.createElement("video");f.muted=!0,f.onloadstart=function(){i(null,f)};for(var d=0;d<t.length;d++){var y=self.document.createElement("source");r=t[d],u=void 0,(u=self.document.createElement("a")).href=r,(u.protocol!==self.document.location.protocol||u.host!==self.document.location.host)&&(f.crossOrigin="Anonymous"),y.src=t[d],f.appendChild(y)}return{cancel:function(){}}},h.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},h.invert=function(t,i){var r=i[0],u=i[1],f=i[2],d=i[3],y=i[4],x=i[5],S=i[6],A=i[7],M=i[8],B=i[9],F=i[10],U=i[11],V=i[12],J=i[13],W=i[14],et=i[15],mt=r*x-u*y,vt=r*S-f*y,gt=r*A-d*y,Lt=u*S-f*x,Ot=u*A-d*x,kt=f*A-d*S,Wt=M*J-B*V,$t=M*W-F*V,oe=M*et-U*V,ie=B*W-F*J,se=B*et-U*J,te=F*et-U*W,Gt=mt*te-vt*se+gt*ie+Lt*oe-Ot*$t+kt*Wt;return Gt?(Gt=1/Gt,t[0]=(x*te-S*se+A*ie)*Gt,t[1]=(f*se-u*te-d*ie)*Gt,t[2]=(J*kt-W*Ot+et*Lt)*Gt,t[3]=(F*Ot-B*kt-U*Lt)*Gt,t[4]=(S*oe-y*te-A*$t)*Gt,t[5]=(r*te-f*oe+d*$t)*Gt,t[6]=(W*gt-V*kt-et*vt)*Gt,t[7]=(M*kt-F*gt+U*vt)*Gt,t[8]=(y*se-x*oe+A*Wt)*Gt,t[9]=(u*oe-r*se-d*Wt)*Gt,t[10]=(V*Ot-J*gt+et*mt)*Gt,t[11]=(B*gt-M*Ot-U*mt)*Gt,t[12]=(x*$t-y*ie-S*Wt)*Gt,t[13]=(r*ie-u*$t+f*Wt)*Gt,t[14]=(J*vt-V*Lt-W*mt)*Gt,t[15]=(M*Lt-B*vt+F*mt)*Gt,t):null},h.isChar=Zt,h.isGoongURL=lr,h.keysDifference=function(t,i){var r=[];for(var u in t)u in i||r.push(u);return r},h.makeRequest=Fa,h.mapObject=Ge,h.mercatorXfromLng=$l,h.mercatorYfromLat=Yu,h.mercatorZfromAltitude=Ku,h.multiply=function(t,i,r){var u=i[0],f=i[1],d=i[2],y=i[3],x=i[4],S=i[5],A=i[6],M=i[7],B=i[8],F=i[9],U=i[10],V=i[11],J=i[12],W=i[13],et=i[14],mt=i[15],vt=r[0],gt=r[1],Lt=r[2],Ot=r[3];return t[0]=vt*u+gt*x+Lt*B+Ot*J,t[1]=vt*f+gt*S+Lt*F+Ot*W,t[2]=vt*d+gt*A+Lt*U+Ot*et,t[3]=vt*y+gt*M+Lt*V+Ot*mt,vt=r[4],gt=r[5],Lt=r[6],Ot=r[7],t[4]=vt*u+gt*x+Lt*B+Ot*J,t[5]=vt*f+gt*S+Lt*F+Ot*W,t[6]=vt*d+gt*A+Lt*U+Ot*et,t[7]=vt*y+gt*M+Lt*V+Ot*mt,vt=r[8],gt=r[9],Lt=r[10],Ot=r[11],t[8]=vt*u+gt*x+Lt*B+Ot*J,t[9]=vt*f+gt*S+Lt*F+Ot*W,t[10]=vt*d+gt*A+Lt*U+Ot*et,t[11]=vt*y+gt*M+Lt*V+Ot*mt,vt=r[12],gt=r[13],Lt=r[14],Ot=r[15],t[12]=vt*u+gt*x+Lt*B+Ot*J,t[13]=vt*f+gt*S+Lt*F+Ot*W,t[14]=vt*d+gt*A+Lt*U+Ot*et,t[15]=vt*y+gt*M+Lt*V+Ot*mt,t},h.mvt=Zl,h.number=Mn,h.offscreenCanvasSupported=xl,h.ortho=function(t,i,r,u,f,d,y){var x=1/(i-r),S=1/(u-f),A=1/(d-y);return t[0]=-2*x,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*S,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*A,t[11]=0,t[12]=(i+r)*x,t[13]=(f+u)*S,t[14]=(y+d)*A,t[15]=1,t},h.parseGlyphPBF=function(t){return new Dc(t).readFields(ir,[])},h.pbf=Dc,h.performSymbolLayout=function(t,i,r,u,f,d){t.createArrays();var y=512*t.overscaling;t.tilePixelRatio=8192/y,t.compareText={},t.iconsNeedLinear=!1;var x=t.layers[0].layout,S=t.layers[0]._unevaluatedLayout._values,A={};if(t.textSizeData.kind==="composite"){var M=t.textSizeData,B=M.minZoom,F=M.maxZoom;A.compositeTextSizes=[S["text-size"].possiblyEvaluate(new Pi(B)),S["text-size"].possiblyEvaluate(new Pi(F))]}if(t.iconSizeData.kind==="composite"){var U=t.iconSizeData,V=U.minZoom,J=U.maxZoom;A.compositeIconSizes=[S["icon-size"].possiblyEvaluate(new Pi(V)),S["icon-size"].possiblyEvaluate(new Pi(J))]}A.layoutTextSize=S["text-size"].possiblyEvaluate(new Pi(t.zoom+1)),A.layoutIconSize=S["icon-size"].possiblyEvaluate(new Pi(t.zoom+1)),A.textMaxSize=S["text-size"].possiblyEvaluate(new Pi(18));for(var W=24*x.get("text-line-height"),et=x.get("text-rotation-alignment")==="map"&&x.get("symbol-placement")!=="point",mt=x.get("text-keep-upright"),vt=x.get("text-size"),gt=function(){var kt=Ot[Lt],Wt=x.get("text-font").evaluate(kt,{}).join(","),$t=vt.evaluate(kt,{}),oe=A.layoutTextSize.evaluate(kt,{}),ie=A.layoutIconSize.evaluate(kt,{}),se={horizontal:{},vertical:void 0},te=kt.text,Gt=[0,0];if(te){var Oe=te.toString(),xi=24*x.get("text-letter-spacing").evaluate(kt,{}),ui=(function(ii){for(var Si=0,Fi=ii;Si<Fi.length;Si+=1)if(!sp(Fi[Si].charCodeAt(0)))return!1;return!0})(Oe)?xi:0,Ae=x.get("text-anchor").evaluate(kt,{}),Ye=x.get("text-variable-anchor");if(!Ye){var ei=x.get("text-radial-offset").evaluate(kt,{});Gt=ei?xo(Ae,[24*ei,Jl]):x.get("text-offset").evaluate(kt,{}).map((function(ii){return 24*ii}))}var Ue=et?"center":x.get("text-justify").evaluate(kt,{}),$e=x.get("symbol-placement"),ci=$e==="point"?24*x.get("text-max-width").evaluate(kt,{}):0,Hi=function(){t.allowVerticalPlacement&&Jr(Oe)&&(se.vertical=kp(te,i,r,f,Wt,ci,W,Ae,"left",ui,Gt,ra.vertical,!0,$e,oe,$t))};if(!et&&Ye){for(var cn=Ue==="auto"?Ye.map((function(ii){return Np(ii)})):[Ue],mr=!1,yr=0;yr<cn.length;yr++){var zn=cn[yr];if(!se.horizontal[zn])if(mr)se.horizontal[zn]=se.horizontal[0];else{var Fn=kp(te,i,r,f,Wt,ci,W,"center",zn,ui,Gt,ra.horizontal,!1,$e,oe,$t);Fn&&(se.horizontal[zn]=Fn,mr=Fn.positionedLines.length===1)}}Hi()}else{Ue==="auto"&&(Ue=Np(Ae));var Cn=kp(te,i,r,f,Wt,ci,W,Ae,Ue,ui,Gt,ra.horizontal,!1,$e,oe,$t);Cn&&(se.horizontal[Ue]=Cn),Hi(),Jr(Oe)&&et&&mt&&(se.vertical=kp(te,i,r,f,Wt,ci,W,Ae,Ue,ui,Gt,ra.vertical,!1,$e,oe,$t))}}var Vn=void 0,In=!1;if(kt.icon&&kt.icon.name){var Qi=u[kt.icon.name];Qi&&(Vn=(function(ii,Si,Fi){var Ci=Ic(Fi),Bn=Ci.horizontalAlign,Mi=Ci.verticalAlign,Ke=Si[0],an=Si[1],So=Ke-ii.displaySize[0]*Bn,rr=So+ii.displaySize[0],br=an-ii.displaySize[1]*Mi;return{image:ii,top:br,bottom:br+ii.displaySize[1],left:So,right:rr}})(f[kt.icon.name],x.get("icon-offset").evaluate(kt,{}),x.get("icon-anchor").evaluate(kt,{})),In=Qi.sdf,t.sdfIcons===void 0?t.sdfIcons=Qi.sdf:t.sdfIcons!==Qi.sdf&&zi("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Qi.pixelRatio!==t.pixelRatio||x.get("icon-rotate").constantOr(1)!==0)&&(t.iconsNeedLinear=!0))}var bn=Ph(se.horizontal)||se.vertical;t.iconsInText=!!bn&&bn.iconsInText,(bn||Vn)&&(function(ii,Si,Fi,Ci,Bn,Mi,Ke,an,So,rr){var br=Mi.textMaxSize.evaluate(Si,{});br===void 0&&(br=Ke);var Ba,Jn=ii.layers[0].layout,sa=Jn.get("icon-offset").evaluate(Si,{}),la=Ph(Fi.horizontal),Oa=Ke/24,pl=ii.tilePixelRatio*Oa,no=ii.tilePixelRatio*br/24,Yo=ii.tilePixelRatio*an,ua=ii.tilePixelRatio*Jn.get("symbol-spacing"),hl=Jn.get("text-padding")*ii.tilePixelRatio,Qu=Jn.get("icon-padding")*ii.tilePixelRatio,Wu=Jn.get("text-max-angle")/180*Math.PI,Vc=Jn.get("text-rotation-alignment")==="map"&&Jn.get("symbol-placement")!=="point",Zp=Jn.get("icon-rotation-alignment")==="map"&&Jn.get("symbol-placement")!=="point",$u=Jn.get("symbol-placement"),fl=ua/2,Cs=Jn.get("icon-text-fit");Ci&&Cs!=="none"&&(ii.allowVerticalPlacement&&Fi.vertical&&(Ba=Bp(Ci,Fi.vertical,Cs,Jn.get("icon-text-fit-padding"),sa,Oa)),la&&(Ci=Bp(Ci,la,Cs,Jn.get("icon-text-fit-padding"),sa,Oa)));var Ms=function(ar,Sa){Sa.x<0||Sa.x>=8192||Sa.y<0||Sa.y>=8192||(function(bi,or,qr,Ua,Jo,lu,ro,Mr,Pe,Ai,Yc,Xp,Yp,jf,Kc,Ds,Zh,Gh,Kp,Zf,ao,Jc,Jp){var Qc,ec,jr,uu,ic,cu=bi.addToLineVertexArray(or,qr),Hh=0,nc=0,Pa=0,Xh=0,rc=-1,Eo=-1,Ls={},Gf=xr(""),vl=0,Qp=0;if(Mr._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Qc=Mr.layout.get("text-offset").evaluate(ao,{}).map((function(td){return 24*td})),vl=Qc[0],Qp=Qc[1]):(vl=24*Mr.layout.get("text-radial-offset").evaluate(ao,{}),Qp=Jl),bi.allowVerticalPlacement&&Ua.vertical){var Hf=Mr.layout.get("text-rotate").evaluate(ao,{})+90,Md=Ua.vertical;uu=new Oc(Pe,qr,or,Ai,Yc,Xp,Md,Yp,jf,Kc,bi.overscaling,Hf),ro&&(ic=new Oc(Pe,qr,or,Ai,Yc,Xp,ro,Zh,Gh,Kc,bi.overscaling,Hf))}if(Jo){var Yh=Mr.layout.get("icon-rotate").evaluate(ao,{}),Xf=Mr.layout.get("icon-text-fit")!=="none",Yf=Uh(Jo,Yh,Jp,Xf),Kh=ro?Uh(ro,Yh,Jp,Xf):void 0;jr=new Oc(Pe,qr,or,Ai,Yc,Xp,Jo,Zh,Gh,!1,bi.overscaling,Yh),Hh=4*Yf.length;var Kf=bi.iconSizeData,ac=null;Kf.kind==="source"?(ac=[128*Mr.layout.get("icon-size").evaluate(ao,{})])[0]>32640&&zi(bi.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):Kf.kind==="composite"&&((ac=[128*Jc.compositeIconSizes[0].evaluate(ao,{}),128*Jc.compositeIconSizes[1].evaluate(ao,{})])[0]>32640||ac[1]>32640)&&zi(bi.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),bi.addSymbols(bi.icon,Yf,ac,Zf,Kp,ao,!1,or,cu.lineStartIndex,cu.lineLength,-1),rc=bi.icon.placedSymbolArray.length-1,Kh&&(nc=4*Kh.length,bi.addSymbols(bi.icon,Kh,ac,Zf,Kp,ao,ra.vertical,or,cu.lineStartIndex,cu.lineLength,-1),Eo=bi.icon.placedSymbolArray.length-1)}for(var pu in Ua.horizontal){var gl=Ua.horizontal[pu];if(!ec){Gf=xr(gl.text);var Jf=Mr.layout.get("text-rotate").evaluate(ao,{});ec=new Oc(Pe,qr,or,Ai,Yc,Xp,gl,Yp,jf,Kc,bi.overscaling,Jf)}var Qf=gl.positionedLines.length===1;if(Pa+=Fp(bi,or,gl,lu,Mr,Kc,ao,Ds,cu,Ua.vertical?ra.horizontal:ra.horizontalOnly,Qf?Object.keys(Ua.horizontal):[pu],Ls,rc,Jc),Qf)break}Ua.vertical&&(Xh+=Fp(bi,or,Ua.vertical,lu,Mr,Kc,ao,Ds,cu,ra.vertical,["vertical"],Ls,Eo,Jc));var oc=ec?ec.boxStartIndex:bi.collisionBoxArray.length,Wc=ec?ec.boxEndIndex:bi.collisionBoxArray.length,Wf=uu?uu.boxStartIndex:bi.collisionBoxArray.length,Wp=uu?uu.boxEndIndex:bi.collisionBoxArray.length,Jh=jr?jr.boxStartIndex:bi.collisionBoxArray.length,Qh=jr?jr.boxEndIndex:bi.collisionBoxArray.length,$p=ic?ic.boxStartIndex:bi.collisionBoxArray.length,$f=ic?ic.boxEndIndex:bi.collisionBoxArray.length;bi.glyphOffsetArray.length>=Ze.MAX_GLYPHS&&zi("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),bi.symbolInstances.emplaceBack(or.x,or.y,Ls.right>=0?Ls.right:-1,Ls.center>=0?Ls.center:-1,Ls.left>=0?Ls.left:-1,Ls.vertical||-1,rc,Eo,Gf,oc,Wc,Wf,Wp,Jh,Qh,$p,$f,Ai,Pa,Xh,Hh,nc,0,Yp,vl,Qp)})(ii,Sa,ar,Fi,Ci,Bn,Ba,ii.layers[0],ii.collisionBoxArray,Si.index,Si.sourceLayerIndex,ii.index,pl,hl,Vc,So,Yo,Qu,Zp,sa,Si,Mi,rr)};if($u==="line")for(var eu=0,qc=(function(ar,Sa,bi,or,qr){for(var Ua=[],Jo=0;Jo<ar.length;Jo++)for(var lu=ar[Jo],ro=void 0,Mr=0;Mr<lu.length-1;Mr++){var Pe=lu[Mr],Ai=lu[Mr+1];Pe.x<Sa&&Ai.x<Sa||(Pe.x<Sa?Pe=new yt(Sa,Pe.y+(Ai.y-Pe.y)*((Sa-Pe.x)/(Ai.x-Pe.x)))._round():Ai.x<Sa&&(Ai=new yt(Sa,Pe.y+(Ai.y-Pe.y)*((Sa-Pe.x)/(Ai.x-Pe.x)))._round()),Pe.y<bi&&Ai.y<bi||(Pe.y<bi?Pe=new yt(Pe.x+(Ai.x-Pe.x)*((bi-Pe.y)/(Ai.y-Pe.y)),bi)._round():Ai.y<bi&&(Ai=new yt(Pe.x+(Ai.x-Pe.x)*((bi-Pe.y)/(Ai.y-Pe.y)),bi)._round()),Pe.x>=or&&Ai.x>=or||(Pe.x>=or?Pe=new yt(or,Pe.y+(Ai.y-Pe.y)*((or-Pe.x)/(Ai.x-Pe.x)))._round():Ai.x>=or&&(Ai=new yt(or,Pe.y+(Ai.y-Pe.y)*((or-Pe.x)/(Ai.x-Pe.x)))._round()),Pe.y>=qr&&Ai.y>=qr||(Pe.y>=qr?Pe=new yt(Pe.x+(Ai.x-Pe.x)*((qr-Pe.y)/(Ai.y-Pe.y)),qr)._round():Ai.y>=qr&&(Ai=new yt(Pe.x+(Ai.x-Pe.x)*((qr-Pe.y)/(Ai.y-Pe.y)),qr)._round()),ro&&Pe.equals(ro[ro.length-1])||(ro=[Pe],Ua.push(ro)),ro.push(Ai)))))}return Ua})(Si.geometry,0,0,8192,8192);eu<qc.length;eu+=1)for(var tc=qc[eu],jc=Oh(tc,ua,Wu,Fi.vertical||la,Ci,24,no,ii.overscaling,8192),Zc=0,Gc=jc;Zc<Gc.length;Zc+=1){var dl=Gc[Zc],Gp=la;Gp&&Nh(ii,Gp.text,fl,dl)||Ms(tc,dl)}else if($u==="line-center")for(var iu=0,hi=Si.geometry;iu<hi.length;iu+=1){var nu=hi[iu];if(nu.length>1){var ru=As(nu,Wu,Fi.vertical||la,Ci,24,no);ru&&Ms(nu,ru)}}else if(Si.type==="Polygon")for(var ml=0,au=wp(Si.geometry,0);ml<au.length;ml+=1){var ou=au[ml],yl=rl(ou,16);Ms(ou[0],new Ts(yl.x,yl.y,0))}else if(Si.type==="LineString")for(var Ko=0,Hc=Si.geometry;Ko<Hc.length;Ko+=1){var su=Hc[Ko];Ms(su,new Ts(su[0].x,su[0].y,0))}else if(Si.type==="Point")for(var jh=0,Vf=Si.geometry;jh<Vf.length;jh+=1)for(var qf=Vf[jh],Hp=0,on=qf;Hp<on.length;Hp+=1){var Xc=on[Hp];Ms([Xc],new Ts(Xc.x,Xc.y,0))}})(t,kt,se,Vn,u,A,oe,ie,Gt,In)},Lt=0,Ot=t.features;Lt<Ot.length;Lt+=1)gt();d&&t.generateCollisionDebugBuffers()},h.perspective=function(t,i,r,u,f){var d,y=1/Math.tan(i/2);return t[0]=y/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=y,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,f!=null&&f!==1/0?(d=1/(u-f),t[10]=(f+u)*d,t[14]=2*f*u*d):(t[10]=-1,t[14]=-2*u),t},h.pick=function(t,i){for(var r={},u=0;u<i.length;u++){var f=i[u];f in t&&(r[f]=t[f])}return r},h.plugin=hn,h.polygonIntersectsPolygon=lh,h.postMapLoadEvent=es,h.postTurnstileEvent=Ao,h.potpack=Lh,h.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],h.register=ue,h.registerForPluginStateChange=function(t){return t({pluginStatus:tr,pluginURL:Xn}),Ys.on("pluginStateChange",t),t},h.rotate=function(t,i,r){var u=i[0],f=i[1],d=i[2],y=i[3],x=Math.sin(r),S=Math.cos(r);return t[0]=u*S+d*x,t[1]=f*S+y*x,t[2]=u*-x+d*S,t[3]=f*-x+y*S,t},h.rotateX=function(t,i,r){var u=Math.sin(r),f=Math.cos(r),d=i[4],y=i[5],x=i[6],S=i[7],A=i[8],M=i[9],B=i[10],F=i[11];return i!==t&&(t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t[4]=d*f+A*u,t[5]=y*f+M*u,t[6]=x*f+B*u,t[7]=S*f+F*u,t[8]=A*f-d*u,t[9]=M*f-y*u,t[10]=B*f-x*u,t[11]=F*f-S*u,t},h.rotateZ=function(t,i,r){var u=Math.sin(r),f=Math.cos(r),d=i[0],y=i[1],x=i[2],S=i[3],A=i[4],M=i[5],B=i[6],F=i[7];return i!==t&&(t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t[0]=d*f+A*u,t[1]=y*f+M*u,t[2]=x*f+B*u,t[3]=S*f+F*u,t[4]=A*f-d*u,t[5]=M*f-y*u,t[6]=B*f-x*u,t[7]=F*f-S*u,t},h.scale=function(t,i,r){var u=r[0],f=r[1],d=r[2];return t[0]=i[0]*u,t[1]=i[1]*u,t[2]=i[2]*u,t[3]=i[3]*u,t[4]=i[4]*f,t[5]=i[5]*f,t[6]=i[6]*f,t[7]=i[7]*f,t[8]=i[8]*d,t[9]=i[9]*d,t[10]=i[10]*d,t[11]=i[11]*d,t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],t},h.setCacheLimits=function(t,i){yu=t,so=i},h.setRTLTextPlugin=function(t,i,r){if(r===void 0&&(r=!1),tr===ga||tr===Ha||tr===yo)throw new Error("setRTLTextPlugin cannot be called multiple times.");Xn=Je.resolveURL(t),tr=ga,Wr=i,Bl(),r||Iu()},h.sphericalToCartesian=function(t){var i=t[0],r=t[1],u=t[2];return r+=90,r*=Math.PI/180,u*=Math.PI/180,{x:i*Math.cos(r)*Math.sin(u),y:i*Math.sin(r)*Math.sin(u),z:i*Math.cos(u)}},h.styleSpec=zt,h.symbolSize=Bf,h.transformMat3=function(t,i,r){var u=i[0],f=i[1],d=i[2];return t[0]=u*r[0]+f*r[3]+d*r[6],t[1]=u*r[1]+f*r[4]+d*r[7],t[2]=u*r[2]+f*r[5]+d*r[8],t},h.transformMat4=Vr,h.translate=function(t,i,r){var u,f,d,y,x,S,A,M,B,F,U,V,J=r[0],W=r[1],et=r[2];return i===t?(t[12]=i[0]*J+i[4]*W+i[8]*et+i[12],t[13]=i[1]*J+i[5]*W+i[9]*et+i[13],t[14]=i[2]*J+i[6]*W+i[10]*et+i[14],t[15]=i[3]*J+i[7]*W+i[11]*et+i[15]):(u=i[0],f=i[1],d=i[2],y=i[3],x=i[4],S=i[5],A=i[6],M=i[7],B=i[8],F=i[9],U=i[10],V=i[11],t[0]=u,t[1]=f,t[2]=d,t[3]=y,t[4]=x,t[5]=S,t[6]=A,t[7]=M,t[8]=B,t[9]=F,t[10]=U,t[11]=V,t[12]=u*J+x*W+B*et+i[12],t[13]=f*J+S*W+F*et+i[13],t[14]=d*J+A*W+U*et+i[14],t[15]=y*J+M*W+V*et+i[15]),t},h.triggerPluginCompletionEvent=_a,h.uniqueId=be,h.validateCustomStyleLayer=function(t){var i=[],r=t.id;return r===void 0&&i.push({message:"layers."+r+': missing required property "id"'}),t.render===void 0&&i.push({message:"layers."+r+': missing required method "render"'}),t.renderingMode&&t.renderingMode!=="2d"&&t.renderingMode!=="3d"&&i.push({message:"layers."+r+': property "renderingMode" must be either "2d" or "3d"'}),i},h.validateLight=Ir,h.validateStyle=Il,h.values=function(t){var i=[];for(var r in t)i.push(t[r]);return i},h.vectorTile=Zl,h.version="1.0.9",h.warnOnce=zi,h.webpSupported=Ln,h.window=self,h.wrap=Ee})),rt(["./shared"],(function(h){function xt(z){var D=typeof z;if(D==="number"||D==="boolean"||D==="string"||z==null)return JSON.stringify(z);if(Array.isArray(z)){for(var k="[",O=0,K=z;O<K.length;O+=1)k+=xt(K[O])+",";return k+"]"}for(var Q=Object.keys(z).sort(),ut="{",ot=0;ot<Q.length;ot++)ut+=JSON.stringify(Q[ot])+":"+xt(z[Q[ot]])+",";return ut+"}"}function G(z){for(var D="",k=0,O=h.refProperties;k<O.length;k+=1)D+="/"+xt(z[O[k]]);return D}var it=function(z){this.keyCache={},z&&this.replace(z)};it.prototype.replace=function(z){this._layerConfigs={},this._layers={},this.update(z,[])},it.prototype.update=function(z,D){for(var k=this,O=0,K=z;O<K.length;O+=1){var Q=K[O];this._layerConfigs[Q.id]=Q;var ut=this._layers[Q.id]=h.createStyleLayer(Q);ut._featureFilter=h.featureFilter(ut.filter),this.keyCache[Q.id]&&delete this.keyCache[Q.id]}for(var ot=0,nt=D;ot<nt.length;ot+=1){var dt=nt[ot];delete this.keyCache[dt],delete this._layerConfigs[dt],delete this._layers[dt]}this.familiesBySource={};for(var Dt=0,Nt=(function(De,We){for(var Le={},Me=0;Me<De.length;Me++){var Ri=We&&We[De[Me].id]||G(De[Me]);We&&(We[De[Me].id]=Ri);var Re=Le[Ri];Re||(Re=Le[Ri]=[]),Re.push(De[Me])}var vi=[];for(var di in Le)vi.push(Le[di]);return vi})(h.values(this._layerConfigs),this.keyCache);Dt<Nt.length;Dt+=1){var At=Nt[Dt].map((function(De){return k._layers[De.id]})),Ft=At[0];if(Ft.visibility!=="none"){var jt=Ft.source||"",ae=this.familiesBySource[jt];ae||(ae=this.familiesBySource[jt]={});var de=Ft.sourceLayer||"_geojsonTileLayer",Ht=ae[de];Ht||(Ht=ae[de]=[]),Ht.push(At)}}};var yt=function(z){var D={},k=[];for(var O in z){var K=z[O],Q=D[O]={};for(var ut in K){var ot=K[+ut];if(ot&&ot.bitmap.width!==0&&ot.bitmap.height!==0){var nt={x:0,y:0,w:ot.bitmap.width+2,h:ot.bitmap.height+2};k.push(nt),Q[ut]={rect:nt,metrics:ot.metrics}}}}var dt=h.potpack(k),Dt=dt.w,Nt=dt.h,At=new h.AlphaImage({width:Dt||1,height:Nt||1});for(var Ft in z){var jt=z[Ft];for(var ae in jt){var de=jt[+ae];if(de&&de.bitmap.width!==0&&de.bitmap.height!==0){var Ht=D[Ft][ae].rect;h.AlphaImage.copy(de.bitmap,At,{x:0,y:0},{x:Ht.x+1,y:Ht.y+1},de.bitmap)}}}this.image=At,this.positions=D};h.register("GlyphAtlas",yt);var bt=function(z){this.tileID=new h.OverscaledTileID(z.tileID.overscaledZ,z.tileID.wrap,z.tileID.canonical.z,z.tileID.canonical.x,z.tileID.canonical.y),this.uid=z.uid,this.zoom=z.zoom,this.pixelRatio=z.pixelRatio,this.tileSize=z.tileSize,this.source=z.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=z.showCollisionBoxes,this.collectResourceTiming=!!z.collectResourceTiming,this.returnDependencies=!!z.returnDependencies,this.promoteId=z.promoteId};function Xt(z,D,k){for(var O=new h.EvaluationParameters(D),K=0,Q=z;K<Q.length;K+=1)Q[K].recalculate(O,k)}function ce(z,D){var k=h.getArrayBuffer(z.request,(function(O,K,Q,ut){O?D(O):K&&D(null,{vectorTile:new h.vectorTile.VectorTile(new h.pbf(K)),rawData:K,cacheControl:Q,expires:ut})}));return function(){k.cancel(),D()}}bt.prototype.parse=function(z,D,k,O,K){var Q=this;this.status="parsing",this.data=z,this.collisionBoxArray=new h.CollisionBoxArray;var ut=new h.DictionaryCoder(Object.keys(z.layers).sort()),ot=new h.FeatureIndex(this.tileID,this.promoteId);ot.bucketLayerIDs=[];var nt,dt,Dt,Nt,At={},Ft={featureIndex:ot,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:k},jt=D.familiesBySource[this.source];for(var ae in jt){var de=z.layers[ae];if(de){de.version===1&&h.warnOnce('Vector tile source "'+this.source+'" layer "'+ae+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Ht=ut.encode(ae),De=[],We=0;We<de.length;We++){var Le=de.feature(We),Me=ot.getId(Le,ae);De.push({feature:Le,id:Me,index:We,sourceLayerIndex:Ht})}for(var Ri=0,Re=jt[ae];Ri<Re.length;Ri+=1){var vi=Re[Ri],di=vi[0];di.minzoom&&this.zoom<Math.floor(di.minzoom)||di.maxzoom&&this.zoom>=di.maxzoom||di.visibility!=="none"&&(Xt(vi,this.zoom,k),(At[di.id]=di.createBucket({index:ot.bucketLayerIDs.length,layers:vi,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Ht,sourceID:this.source})).populate(De,Ft),ot.bucketLayerIDs.push(vi.map((function(Qe){return Qe.id}))))}}}var Ve=h.mapObject(Ft.glyphDependencies,(function(Qe){return Object.keys(Qe).map(Number)}));Object.keys(Ve).length?O.send("getGlyphs",{uid:this.uid,stacks:Ve},(function(Qe,Un){nt||(nt=Qe,dt=Un,en.call(Q))})):dt={};var $n=Object.keys(Ft.iconDependencies);$n.length?O.send("getImages",{icons:$n,source:this.source,tileID:this.tileID,type:"icons"},(function(Qe,Un){nt||(nt=Qe,Dt=Un,en.call(Q))})):Dt={};var ri=Object.keys(Ft.patternDependencies);function en(){if(nt)return K(nt);if(dt&&Dt&&Nt){var Qe=new yt(dt),Un=new h.ImageAtlas(Dt,Nt);for(var Zn in At){var Sn=At[Zn];Sn instanceof h.SymbolBucket?(Xt(Sn.layers,this.zoom,k),h.performSymbolLayout(Sn,dt,Qe.positions,Dt,Un.iconPositions,this.showCollisionBoxes)):Sn.hasPattern&&(Sn instanceof h.LineBucket||Sn instanceof h.FillBucket||Sn instanceof h.FillExtrusionBucket)&&(Xt(Sn.layers,this.zoom,k),Sn.addFeatures(Ft,Un.patternPositions))}this.status="done",K(null,{buckets:h.values(At).filter((function(Va){return!Va.isEmpty()})),featureIndex:ot,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Qe.image,imageAtlas:Un,glyphMap:this.returnDependencies?dt:null,iconMap:this.returnDependencies?Dt:null,glyphPositions:this.returnDependencies?Qe.positions:null})}}ri.length?O.send("getImages",{icons:ri,source:this.source,tileID:this.tileID,type:"patterns"},(function(Qe,Un){nt||(nt=Qe,Nt=Un,en.call(Q))})):Nt={},en.call(this)};var pe=function(z,D,k,O){this.actor=z,this.layerIndex=D,this.availableImages=k,this.loadVectorData=O||ce,this.loading={},this.loaded={}};pe.prototype.loadTile=function(z,D){var k=this,O=z.uid;this.loading||(this.loading={});var K=!!(z&&z.request&&z.request.collectResourceTiming)&&new h.RequestPerformance(z.request),Q=this.loading[O]=new bt(z);Q.abort=this.loadVectorData(z,(function(ut,ot){if(delete k.loading[O],ut||!ot)return Q.status="done",k.loaded[O]=Q,D(ut);var nt=ot.rawData,dt={};ot.expires&&(dt.expires=ot.expires),ot.cacheControl&&(dt.cacheControl=ot.cacheControl);var Dt={};if(K){var Nt=K.finish();Nt&&(Dt.resourceTiming=JSON.parse(JSON.stringify(Nt)))}Q.vectorTile=ot.vectorTile,Q.parse(ot.vectorTile,k.layerIndex,k.availableImages,k.actor,(function(At,Ft){if(At||!Ft)return D(At);D(null,h.extend({rawTileData:nt.slice(0)},Ft,dt,Dt))})),k.loaded=k.loaded||{},k.loaded[O]=Q}))},pe.prototype.reloadTile=function(z,D){var k=this,O=this.loaded,K=z.uid,Q=this;if(O&&O[K]){var ut=O[K];ut.showCollisionBoxes=z.showCollisionBoxes;var ot=function(nt,dt){var Dt=ut.reloadCallback;Dt&&(delete ut.reloadCallback,ut.parse(ut.vectorTile,Q.layerIndex,k.availableImages,Q.actor,Dt)),D(nt,dt)};ut.status==="parsing"?ut.reloadCallback=ot:ut.status==="done"&&(ut.vectorTile?ut.parse(ut.vectorTile,this.layerIndex,this.availableImages,this.actor,ot):ot())}},pe.prototype.abortTile=function(z,D){var k=this.loading,O=z.uid;k&&k[O]&&k[O].abort&&(k[O].abort(),delete k[O]),D()},pe.prototype.removeTile=function(z,D){var k=this.loaded,O=z.uid;k&&k[O]&&delete k[O],D()};var Ee=h.window.ImageBitmap,ne=function(){this.loaded={}};ne.prototype.loadTile=function(z,D){var k=z.uid,O=z.encoding,K=z.rawImageData,Q=Ee&&K instanceof Ee?this.getImageData(K):K,ut=new h.DEMData(k,Q,O);this.loaded=this.loaded||{},this.loaded[k]=ut,D(null,ut)},ne.prototype.getImageData=function(z){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(z.width,z.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=z.width,this.offscreenCanvas.height=z.height,this.offscreenCanvasContext.drawImage(z,0,0,z.width,z.height);var D=this.offscreenCanvasContext.getImageData(-1,-1,z.width+2,z.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new h.RGBAImage({width:D.width,height:D.height},D.data)},ne.prototype.removeTile=function(z){var D=this.loaded,k=z.uid;D&&D[k]&&delete D[k]};var ve=6378137;function be(z){var D=0;if(z&&z.length>0){D+=Math.abs(me(z[0]));for(var k=1;k<z.length;k++)D-=Math.abs(me(z[k]))}return D}function me(z){var D,k,O,K,Q,ut,ot=0,nt=z.length;if(nt>2){for(ut=0;ut<nt;ut++)ut===nt-2?(O=nt-2,K=nt-1,Q=0):ut===nt-1?(O=nt-1,K=0,Q=1):(O=ut,K=ut+1,Q=ut+2),D=z[O],k=z[K],ot+=(Ei(z[Q][0])-Ei(D[0]))*Math.sin(Ei(k[1]));ot=ot*ve*ve/2}return ot}function Ei(z){return z*Math.PI/180}var Oi={geometry:function z(D){var k,O=0;switch(D.type){case"Polygon":return be(D.coordinates);case"MultiPolygon":for(k=0;k<D.coordinates.length;k++)O+=be(D.coordinates[k]);return O;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(k=0;k<D.geometries.length;k++)O+=z(D.geometries[k]);return O}},ring:me},tn=function z(D,k){switch(D&&D.type||null){case"FeatureCollection":return D.features=D.features.map(Ge(z,k)),D;case"GeometryCollection":return D.geometries=D.geometries.map(Ge(z,k)),D;case"Feature":return D.geometry=z(D.geometry,k),D;case"Polygon":case"MultiPolygon":return(function(O,K){return O.type==="Polygon"?O.coordinates=yn(O.coordinates,K):O.type==="MultiPolygon"&&(O.coordinates=O.coordinates.map(Ge(yn,K))),O})(D,k);default:return D}};function Ge(z,D){return function(k){return z(k,D)}}function yn(z,D){D=!!D,z[0]=ni(z[0],D);for(var k=1;k<z.length;k++)z[k]=ni(z[k],!D);return z}function ni(z,D){return(function(k){return Oi.ring(k)>=0})(z)===D?z:z.reverse()}var Qn=h.vectorTile.VectorTileFeature.prototype.toGeoJSON,zi=function(z){this._feature=z,this.extent=h.EXTENT,this.type=z.type,this.properties=z.tags,"id"in z&&!isNaN(z.id)&&(this.id=parseInt(z.id,10))};zi.prototype.loadGeometry=function(){if(this._feature.type===1){for(var z=[],D=0,k=this._feature.geometry;D<k.length;D+=1){var O=k[D];z.push([new h.Point$1(O[0],O[1])])}return z}for(var K=[],Q=0,ut=this._feature.geometry;Q<ut.length;Q+=1){for(var ot=[],nt=0,dt=ut[Q];nt<dt.length;nt+=1){var Dt=dt[nt];ot.push(new h.Point$1(Dt[0],Dt[1]))}K.push(ot)}return K},zi.prototype.toGeoJSON=function(z,D,k){return Qn.call(this,z,D,k)};var vn=function(z){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=h.EXTENT,this.length=z.length,this._features=z};vn.prototype.feature=function(z){return new zi(this._features[z])};var ca=h.vectorTile.VectorTileFeature,jn=sr;function sr(z,D){this.options=D||{},this.features=z,this.length=z.length}function It(z,D){this.id=typeof z.id=="number"?z.id:void 0,this.type=z.type,this.rawGeometry=z.type===1?[z.geometry]:z.geometry,this.properties=z.tags,this.extent=D||4096}sr.prototype.feature=function(z){return new It(this.features[z],this.options.extent)},It.prototype.loadGeometry=function(){var z=this.rawGeometry;this.geometry=[];for(var D=0;D<z.length;D++){for(var k=z[D],O=[],K=0;K<k.length;K++)O.push(new h.Point$1(k[K][0],k[K][1]));this.geometry.push(O)}return this.geometry},It.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var z=this.geometry,D=1/0,k=-1/0,O=1/0,K=-1/0,Q=0;Q<z.length;Q++)for(var ut=z[Q],ot=0;ot<ut.length;ot++){var nt=ut[ot];D=Math.min(D,nt.x),k=Math.max(k,nt.x),O=Math.min(O,nt.y),K=Math.max(K,nt.y)}return[D,O,k,K]},It.prototype.toGeoJSON=ca.prototype.toGeoJSON;var re=lt,Be=lt,Ti=function(z,D){D=D||{};var k={};for(var O in z)k[O]=new jn(z[O].features,D),k[O].name=O,k[O].version=D.version,k[O].extent=D.extent;return lt({layers:k})},Li=jn;function lt(z){var D=new h.pbf;return(function(k,O){for(var K in k.layers)O.writeMessage(3,Pt,k.layers[K])})(z,D),D.finish()}function Pt(z,D){var k;D.writeVarintField(15,z.version||1),D.writeStringField(1,z.name||""),D.writeVarintField(5,z.extent||4096);var O={keys:[],values:[],keycache:{},valuecache:{}};for(k=0;k<z.length;k++)O.feature=z.feature(k),D.writeMessage(2,he,O);var K=O.keys;for(k=0;k<K.length;k++)D.writeStringField(3,K[k]);var Q=O.values;for(k=0;k<Q.length;k++)D.writeMessage(4,Ln,Q[k])}function he(z,D){var k=z.feature;k.id!==void 0&&D.writeVarintField(1,k.id),D.writeMessage(2,ge,z),D.writeVarintField(3,k.type),D.writeMessage(4,He,k)}function ge(z,D){var k=z.feature,O=z.keys,K=z.values,Q=z.keycache,ut=z.valuecache;for(var ot in k.properties){var nt=k.properties[ot],dt=Q[ot];if(nt!==null){dt===void 0&&(O.push(ot),dt=O.length-1,Q[ot]=dt),D.writeVarint(dt);var Dt=typeof nt;Dt!=="string"&&Dt!=="boolean"&&Dt!=="number"&&(nt=JSON.stringify(nt));var Nt=Dt+":"+nt,At=ut[Nt];At===void 0&&(K.push(nt),At=K.length-1,ut[Nt]=At),D.writeVarint(At)}}}function je(z,D){return(D<<3)+(7&z)}function Je(z){return z<<1^z>>31}function He(z,D){for(var k=z.loadGeometry(),O=z.type,K=0,Q=0,ut=k.length,ot=0;ot<ut;ot++){var nt=k[ot],dt=1;O===1&&(dt=nt.length),D.writeVarint(je(1,dt));for(var Dt=O===3?nt.length-1:nt.length,Nt=0;Nt<Dt;Nt++){Nt===1&&O!==1&&D.writeVarint(je(2,Dt-1));var At=nt[Nt].x-K,Ft=nt[Nt].y-Q;D.writeVarint(Je(At)),D.writeVarint(Je(Ft)),K+=At,Q+=Ft}O===3&&D.writeVarint(je(7,1))}}function Ln(z,D){var k=typeof z;k==="string"?D.writeStringField(1,z):k==="boolean"?D.writeBooleanField(7,z):k==="number"&&(z%1!=0?D.writeDoubleField(3,z):z<0?D.writeSVarintField(6,z):D.writeVarintField(5,z))}function fi(z,D,k,O,K,Q){if(!(K-O<=k)){var ut=O+K>>1;(function ot(nt,dt,Dt,Nt,At,Ft){for(;At>Nt;){if(At-Nt>600){var jt=At-Nt+1,ae=Dt-Nt+1,de=Math.log(jt),Ht=.5*Math.exp(2*de/3),De=.5*Math.sqrt(de*Ht*(jt-Ht)/jt)*(ae-jt/2<0?-1:1),We=Math.max(Nt,Math.floor(Dt-ae*Ht/jt+De)),Le=Math.min(At,Math.floor(Dt+(jt-ae)*Ht/jt+De));ot(nt,dt,Dt,We,Le,Ft)}var Me=dt[2*Dt+Ft],Ri=Nt,Re=At;for(wr(nt,dt,Nt,Dt),dt[2*At+Ft]>Me&&wr(nt,dt,Nt,At);Ri<Re;){for(wr(nt,dt,Ri,Re),Ri++,Re--;dt[2*Ri+Ft]<Me;)Ri++;for(;dt[2*Re+Ft]>Me;)Re--}dt[2*Nt+Ft]===Me?wr(nt,dt,Nt,Re):(Re++,wr(nt,dt,Re,At)),Re<=Dt&&(Nt=Re+1),Dt<=Re&&(At=Re-1)}})(z,D,ut,O,K,Q%2),fi(z,D,k,O,ut-1,Q+1),fi(z,D,k,ut+1,K,Q+1)}}function wr(z,D,k,O){oo(z,k,O),oo(D,2*k,2*O),oo(D,2*k+1,2*O+1)}function oo(z,D,k){var O=z[D];z[D]=z[k],z[k]=O}function Ta(z,D,k,O){var K=z-k,Q=D-O;return K*K+Q*Q}re.fromVectorTileJs=Be,re.fromGeojsonVt=Ti,re.GeoJSONWrapper=Li;var Fe=function(z){return z[0]},lr=function(z){return z[1]},To=function(z,D,k,O,K){D===void 0&&(D=Fe),k===void 0&&(k=lr),O===void 0&&(O=64),K===void 0&&(K=Float64Array),this.nodeSize=O,this.points=z;for(var Q=z.length<65536?Uint16Array:Uint32Array,ut=this.ids=new Q(z.length),ot=this.coords=new K(2*z.length),nt=0;nt<z.length;nt++)ut[nt]=nt,ot[2*nt]=D(z[nt]),ot[2*nt+1]=k(z[nt]);fi(ut,ot,O,0,ut.length-1,0)};To.prototype.range=function(z,D,k,O){return(function(K,Q,ut,ot,nt,dt,Dt){for(var Nt,At,Ft=[0,K.length-1,0],jt=[];Ft.length;){var ae=Ft.pop(),de=Ft.pop(),Ht=Ft.pop();if(de-Ht<=Dt)for(var De=Ht;De<=de;De++)Nt=Q[2*De],At=Q[2*De+1],Nt>=ut&&Nt<=nt&&At>=ot&&At<=dt&&jt.push(K[De]);else{var We=Math.floor((Ht+de)/2);Nt=Q[2*We],At=Q[2*We+1],Nt>=ut&&Nt<=nt&&At>=ot&&At<=dt&&jt.push(K[We]);var Le=(ae+1)%2;(ae===0?ut<=Nt:ot<=At)&&(Ft.push(Ht),Ft.push(We-1),Ft.push(Le)),(ae===0?nt>=Nt:dt>=At)&&(Ft.push(We+1),Ft.push(de),Ft.push(Le))}}return jt})(this.ids,this.coords,z,D,k,O,this.nodeSize)},To.prototype.within=function(z,D,k){return(function(O,K,Q,ut,ot,nt){for(var dt=[0,O.length-1,0],Dt=[],Nt=ot*ot;dt.length;){var At=dt.pop(),Ft=dt.pop(),jt=dt.pop();if(Ft-jt<=nt)for(var ae=jt;ae<=Ft;ae++)Ta(K[2*ae],K[2*ae+1],Q,ut)<=Nt&&Dt.push(O[ae]);else{var de=Math.floor((jt+Ft)/2),Ht=K[2*de],De=K[2*de+1];Ta(Ht,De,Q,ut)<=Nt&&Dt.push(O[de]);var We=(At+1)%2;(At===0?Q-ot<=Ht:ut-ot<=De)&&(dt.push(jt),dt.push(de-1),dt.push(We)),(At===0?Q+ot>=Ht:ut+ot>=De)&&(dt.push(de+1),dt.push(Ft),dt.push(We))}}return Dt})(this.ids,this.coords,z,D,k,this.nodeSize)};var Na,mc={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(z){return z}},Zr=Math.fround||(Na=new Float32Array(1),function(z){return Na[0]=+z,Na[0]}),On=function(z){this.options=Ao(Object.create(mc),z),this.trees=new Array(this.options.maxZoom+1)};function ks(z,D,k,O,K){return{x:Zr(z),y:Zr(D),zoom:1/0,id:k,parentId:-1,numPoints:O,properties:K}}function pa(z,D){var k=z.geometry.coordinates,O=k[0],K=k[1];return{x:Zr(Wn(O)),y:Zr(ts(K)),zoom:1/0,index:D,parentId:-1}}function ha(z){return{type:"Feature",id:z.id,properties:$o(z),geometry:{type:"Point",coordinates:[(O=z.x,360*(O-.5)),(D=z.y,k=(180-360*D)*Math.PI/180,360*Math.atan(Math.exp(k))/Math.PI-90)]}};var D,k,O}function $o(z){var D=z.numPoints,k=D>=1e4?Math.round(D/1e3)+"k":D>=1e3?Math.round(D/100)/10+"k":D;return Ao(Ao({},z.properties),{cluster:!0,cluster_id:z.id,point_count:D,point_count_abbreviated:k})}function Wn(z){return z/360+.5}function ts(z){var D=Math.sin(z*Math.PI/180),k=.5-.25*Math.log((1+D)/(1-D))/Math.PI;return k<0?0:k>1?1:k}function Ao(z,D){for(var k in D)z[k]=D[k];return z}function Is(z){return z.x}function es(z){return z.y}function yu(z,D,k,O,K,Q){var ut=K-k,ot=Q-O;if(ut!==0||ot!==0){var nt=((z-k)*ut+(D-O)*ot)/(ut*ut+ot*ot);nt>1?(k=K,O=Q):nt>0&&(k+=ut*nt,O+=ot*nt)}return(ut=z-k)*ut+(ot=D-O)*ot}function so(z,D,k,O){var K={id:z===void 0?null:z,type:D,geometry:k,tags:O,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return(function(Q){var ut=Q.geometry,ot=Q.type;if(ot==="Point"||ot==="MultiPoint"||ot==="LineString")zo(Q,ut);else if(ot==="Polygon"||ot==="MultiLineString")for(var nt=0;nt<ut.length;nt++)zo(Q,ut[nt]);else if(ot==="MultiPolygon")for(nt=0;nt<ut.length;nt++)for(var dt=0;dt<ut[nt].length;dt++)zo(Q,ut[nt][dt])})(K),K}function zo(z,D){for(var k=0;k<D.length;k+=3)z.minX=Math.min(z.minX,D[k]),z.minY=Math.min(z.minY,D[k+1]),z.maxX=Math.max(z.maxX,D[k]),z.maxY=Math.max(z.maxY,D[k+1])}function Bs(z,D,k,O){if(D.geometry){var K=D.geometry.coordinates,Q=D.geometry.type,ut=Math.pow(k.tolerance/((1<<k.maxZoom)*k.extent),2),ot=[],nt=D.id;if(k.promoteId?nt=D.properties[k.promoteId]:k.generateId&&(nt=O||0),Q==="Point")lo(K,ot);else if(Q==="MultiPoint")for(var dt=0;dt<K.length;dt++)lo(K[dt],ot);else if(Q==="LineString")ur(K,ot,ut,!1);else if(Q==="MultiLineString"){if(k.lineMetrics){for(dt=0;dt<K.length;dt++)ot=[],ur(K[dt],ot,ut,!1),z.push(so(nt,"LineString",ot,D.properties));return}Rr(K,ot,ut,!1)}else if(Q==="Polygon")Rr(K,ot,ut,!0);else{if(Q!=="MultiPolygon"){if(Q==="GeometryCollection"){for(dt=0;dt<D.geometry.geometries.length;dt++)Bs(z,{id:nt,geometry:D.geometry.geometries[dt],properties:D.properties},k,O);return}throw new Error("Input data is not a valid GeoJSON object.")}for(dt=0;dt<K.length;dt++){var Dt=[];Rr(K[dt],Dt,ut,!0),ot.push(Dt)}}z.push(so(nt,Q,ot,D.properties))}}function lo(z,D){D.push(cr(z[0])),D.push(xl(z[1])),D.push(0)}function ur(z,D,k,O){for(var K,Q,ut=0,ot=0;ot<z.length;ot++){var nt=cr(z[ot][0]),dt=xl(z[ot][1]);D.push(nt),D.push(dt),D.push(0),ot>0&&(ut+=O?(K*dt-nt*Q)/2:Math.sqrt(Math.pow(nt-K,2)+Math.pow(dt-Q,2))),K=nt,Q=dt}var Dt=D.length-3;D[2]=1,(function Nt(At,Ft,jt,ae){for(var de,Ht=ae,De=jt-Ft>>1,We=jt-Ft,Le=At[Ft],Me=At[Ft+1],Ri=At[jt],Re=At[jt+1],vi=Ft+3;vi<jt;vi+=3){var di=yu(At[vi],At[vi+1],Le,Me,Ri,Re);if(di>Ht)de=vi,Ht=di;else if(di===Ht){var Ve=Math.abs(vi-De);Ve<We&&(de=vi,We=Ve)}}Ht>ae&&(de-Ft>3&&Nt(At,Ft,de,ae),At[de+2]=Ht,jt-de>3&&Nt(At,de,jt,ae))})(D,0,Dt,k),D[Dt+2]=1,D.size=Math.abs(ut),D.start=0,D.end=D.size}function Rr(z,D,k,O){for(var K=0;K<z.length;K++){var Q=[];ur(z[K],Q,k,O),D.push(Q)}}function cr(z){return z/360+.5}function xl(z){var D=Math.sin(z*Math.PI/180),k=.5-.25*Math.log((1+D)/(1-D))/Math.PI;return k<0?0:k>1?1:k}function fa(z,D,k,O,K,Q,ut,ot){if(O/=D,Q>=(k/=D)&&ut<O)return z;if(ut<k||Q>=O)return null;for(var nt=[],dt=0;dt<z.length;dt++){var Dt=z[dt],Nt=Dt.geometry,At=Dt.type,Ft=K===0?Dt.minX:Dt.minY,jt=K===0?Dt.maxX:Dt.maxY;if(Ft>=k&&jt<O)nt.push(Dt);else if(!(jt<k||Ft>=O)){var ae=[];if(At==="Point"||At==="MultiPoint")vu(Nt,ae,k,O,K);else if(At==="LineString")uo(Nt,ae,k,O,K,!1,ot.lineMetrics);else if(At==="MultiLineString")Fa(Nt,ae,k,O,K,!1);else if(At==="Polygon")Fa(Nt,ae,k,O,K,!0);else if(At==="MultiPolygon")for(var de=0;de<Nt.length;de++){var Ht=[];Fa(Nt[de],Ht,k,O,K,!0),Ht.length&&ae.push(Ht)}if(ae.length){if(ot.lineMetrics&&At==="LineString"){for(de=0;de<ae.length;de++)nt.push(so(Dt.id,At,ae[de],Dt.tags));continue}At!=="LineString"&&At!=="MultiLineString"||(ae.length===1?(At="LineString",ae=ae[0]):At="MultiLineString"),At!=="Point"&&At!=="MultiPoint"||(At=ae.length===3?"Point":"MultiPoint"),nt.push(so(Dt.id,At,ae,Dt.tags))}}}return nt.length?nt:null}function vu(z,D,k,O,K){for(var Q=0;Q<z.length;Q+=3){var ut=z[Q+K];ut>=k&&ut<=O&&(D.push(z[Q]),D.push(z[Q+1]),D.push(z[Q+2]))}}function uo(z,D,k,O,K,Q,ut){for(var ot,nt,dt=is(z),Dt=K===0?co:da,Nt=z.start,At=0;At<z.length-3;At+=3){var Ft=z[At],jt=z[At+1],ae=z[At+2],de=z[At+3],Ht=z[At+4],De=K===0?Ft:jt,We=K===0?de:Ht,Le=!1;ut&&(ot=Math.sqrt(Math.pow(Ft-de,2)+Math.pow(jt-Ht,2))),De<k?We>k&&(nt=Dt(dt,Ft,jt,de,Ht,k),ut&&(dt.start=Nt+ot*nt)):De>O?We<O&&(nt=Dt(dt,Ft,jt,de,Ht,O),ut&&(dt.start=Nt+ot*nt)):Gr(dt,Ft,jt,ae),We<k&&De>=k&&(nt=Dt(dt,Ft,jt,de,Ht,k),Le=!0),We>O&&De<=O&&(nt=Dt(dt,Ft,jt,de,Ht,O),Le=!0),!Q&&Le&&(ut&&(dt.end=Nt+ot*nt),D.push(dt),dt=is(z)),ut&&(Nt+=ot)}var Me=z.length-3;Ft=z[Me],jt=z[Me+1],ae=z[Me+2],(De=K===0?Ft:jt)>=k&&De<=O&&Gr(dt,Ft,jt,ae),Me=dt.length-3,Q&&Me>=3&&(dt[Me]!==dt[0]||dt[Me+1]!==dt[1])&&Gr(dt,dt[0],dt[1],dt[2]),dt.length&&D.push(dt)}function is(z){var D=[];return D.size=z.size,D.start=z.start,D.end=z.end,D}function Fa(z,D,k,O,K,Q){for(var ut=0;ut<z.length;ut++)uo(z[ut],D,k,O,K,Q,!1)}function Gr(z,D,k,O){z.push(D),z.push(k),z.push(O)}function co(z,D,k,O,K,Q){var ut=(Q-D)/(O-D);return z.push(Q),z.push(k+(K-k)*ut),z.push(1),ut}function da(z,D,k,O,K,Q){var ut=(Q-k)/(K-k);return z.push(D+(O-D)*ut),z.push(Q),z.push(1),ut}function bl(z,D){for(var k=[],O=0;O<z.length;O++){var K,Q=z[O],ut=Q.type;if(ut==="Point"||ut==="MultiPoint"||ut==="LineString")K=ns(Q.geometry,D);else if(ut==="MultiLineString"||ut==="Polygon"){K=[];for(var ot=0;ot<Q.geometry.length;ot++)K.push(ns(Q.geometry[ot],D))}else if(ut==="MultiPolygon")for(K=[],ot=0;ot<Q.geometry.length;ot++){for(var nt=[],dt=0;dt<Q.geometry[ot].length;dt++)nt.push(ns(Q.geometry[ot][dt],D));K.push(nt)}k.push(so(Q.id,ut,K,Q.tags))}return k}function ns(z,D){var k=[];k.size=z.size,z.start!==void 0&&(k.start=z.start,k.end=z.end);for(var O=0;O<z.length;O+=3)k.push(z[O]+D,z[O+1],z[O+2]);return k}function po(z,D){if(z.transformed)return z;var k,O,K,Q=1<<z.z,ut=z.x,ot=z.y;for(k=0;k<z.features.length;k++){var nt=z.features[k],dt=nt.geometry,Dt=nt.type;if(nt.geometry=[],Dt===1)for(O=0;O<dt.length;O+=2)nt.geometry.push(oi(dt[O],dt[O+1],D,Q,ut,ot));else for(O=0;O<dt.length;O++){var Nt=[];for(K=0;K<dt[O].length;K+=2)Nt.push(oi(dt[O][K],dt[O][K+1],D,Q,ut,ot));nt.geometry.push(Nt)}}return z.transformed=!0,z}function oi(z,D,k,O,K,Q){return[Math.round(k*(z*O-K)),Math.round(k*(D*O-Q))]}function gn(z,D,k,O,K){for(var Q=D===K.maxZoom?0:K.tolerance/((1<<D)*K.extent),ut={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:k,y:O,z:D,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},ot=0;ot<z.length;ot++){ut.numFeatures++,Xi(ut,z[ot],Q,K);var nt=z[ot].minX,dt=z[ot].minY,Dt=z[ot].maxX,Nt=z[ot].maxY;nt<ut.minX&&(ut.minX=nt),dt<ut.minY&&(ut.minY=dt),Dt>ut.maxX&&(ut.maxX=Dt),Nt>ut.maxY&&(ut.maxY=Nt)}return ut}function Xi(z,D,k,O){var K=D.geometry,Q=D.type,ut=[];if(Q==="Point"||Q==="MultiPoint")for(var ot=0;ot<K.length;ot+=3)ut.push(K[ot]),ut.push(K[ot+1]),z.numPoints++,z.numSimplified++;else if(Q==="LineString")zt(ut,K,z,k,!1,!1);else if(Q==="MultiLineString"||Q==="Polygon")for(ot=0;ot<K.length;ot++)zt(ut,K[ot],z,k,Q==="Polygon",ot===0);else if(Q==="MultiPolygon")for(var nt=0;nt<K.length;nt++){var dt=K[nt];for(ot=0;ot<dt.length;ot++)zt(ut,dt[ot],z,k,!0,ot===0)}if(ut.length){var Dt=D.tags||null;if(Q==="LineString"&&O.lineMetrics){for(var Nt in Dt={},D.tags)Dt[Nt]=D.tags[Nt];Dt.mapbox_clip_start=K.start/K.size,Dt.mapbox_clip_end=K.end/K.size}var At={geometry:ut,type:Q==="Polygon"||Q==="MultiPolygon"?3:Q==="LineString"||Q==="MultiLineString"?2:1,tags:Dt};D.id!==null&&(At.id=D.id),z.features.push(At)}}function zt(z,D,k,O,K,Q){var ut=O*O;if(O>0&&D.size<(K?ut:O))k.numPoints+=D.length/3;else{for(var ot=[],nt=0;nt<D.length;nt+=3)(O===0||D[nt+2]>ut)&&(k.numSimplified++,ot.push(D[nt]),ot.push(D[nt+1])),k.numPoints++;K&&(function(dt,Dt){for(var Nt=0,At=0,Ft=dt.length,jt=Ft-2;At<Ft;jt=At,At+=2)Nt+=(dt[At]-dt[jt])*(dt[At+1]+dt[jt+1]);if(Nt>0===Dt)for(At=0,Ft=dt.length;At<Ft/2;At+=2){var ae=dt[At],de=dt[At+1];dt[At]=dt[Ft-2-At],dt[At+1]=dt[Ft-1-At],dt[Ft-2-At]=ae,dt[Ft-1-At]=de}})(ot,Q),z.push(ot)}}function Jt(z,D){var k=(D=this.options=(function(K,Q){for(var ut in Q)K[ut]=Q[ut];return K})(Object.create(this.options),D)).debug;if(k&&console.time("preprocess data"),D.maxZoom<0||D.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(D.promoteId&&D.generateId)throw new Error("promoteId and generateId cannot be used together.");var O=(function(K,Q){var ut=[];if(K.type==="FeatureCollection")for(var ot=0;ot<K.features.length;ot++)Bs(ut,K.features[ot],Q,ot);else K.type==="Feature"?Bs(ut,K,Q):Bs(ut,{geometry:K},Q);return ut})(z,D);this.tiles={},this.tileCoords=[],k&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",D.indexMaxZoom,D.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(O=(function(K,Q){var ut=Q.buffer/Q.extent,ot=K,nt=fa(K,1,-1-ut,ut,0,-1,2,Q),dt=fa(K,1,1-ut,2+ut,0,-1,2,Q);return(nt||dt)&&(ot=fa(K,1,-ut,1+ut,0,-1,2,Q)||[],nt&&(ot=bl(nt,1).concat(ot)),dt&&(ot=ot.concat(bl(dt,-1)))),ot})(O,D)).length&&this.splitTile(O,0,0,0),k&&(O.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function ma(z,D,k){return 32*((1<<z)*k+D)+z}function Aa(z,D){var k=z.tileID.canonical;if(!this._geoJSONIndex)return D(null,null);var O=this._geoJSONIndex.getTile(k.z,k.x,k.y);if(!O)return D(null,null);var K=new vn(O.features),Q=re(K);Q.byteOffset===0&&Q.byteLength===Q.buffer.byteLength||(Q=new Uint8Array(Q)),D(null,{vectorTile:K,rawData:Q.buffer})}On.prototype.load=function(z){var D=this.options,k=D.log,O=D.minZoom,K=D.maxZoom,Q=D.nodeSize;k&&console.time("total time");var ut="prepare "+z.length+" points";k&&console.time(ut),this.points=z;for(var ot=[],nt=0;nt<z.length;nt++)z[nt].geometry&&ot.push(pa(z[nt],nt));this.trees[K+1]=new To(ot,Is,es,Q,Float32Array),k&&console.timeEnd(ut);for(var dt=K;dt>=O;dt--){var Dt=+Date.now();ot=this._cluster(ot,dt),this.trees[dt]=new To(ot,Is,es,Q,Float32Array),k&&console.log("z%d: %d clusters in %dms",dt,ot.length,+Date.now()-Dt)}return k&&console.timeEnd("total time"),this},On.prototype.getClusters=function(z,D){var k=((z[0]+180)%360+360)%360-180,O=Math.max(-90,Math.min(90,z[1])),K=z[2]===180?180:((z[2]+180)%360+360)%360-180,Q=Math.max(-90,Math.min(90,z[3]));if(z[2]-z[0]>=360)k=-180,K=180;else if(k>K){var ut=this.getClusters([k,O,180,Q],D),ot=this.getClusters([-180,O,K,Q],D);return ut.concat(ot)}for(var nt=this.trees[this._limitZoom(D)],dt=[],Dt=0,Nt=nt.range(Wn(k),ts(Q),Wn(K),ts(O));Dt<Nt.length;Dt+=1){var At=Nt[Dt],Ft=nt.points[At];dt.push(Ft.numPoints?ha(Ft):this.points[Ft.index])}return dt},On.prototype.getChildren=function(z){var D=this._getOriginId(z),k=this._getOriginZoom(z),O="No cluster with the specified id.",K=this.trees[k];if(!K)throw new Error(O);var Q=K.points[D];if(!Q)throw new Error(O);for(var ut=this.options.radius/(this.options.extent*Math.pow(2,k-1)),ot=[],nt=0,dt=K.within(Q.x,Q.y,ut);nt<dt.length;nt+=1){var Dt=dt[nt],Nt=K.points[Dt];Nt.parentId===z&&ot.push(Nt.numPoints?ha(Nt):this.points[Nt.index])}if(ot.length===0)throw new Error(O);return ot},On.prototype.getLeaves=function(z,D,k){D=D||10,k=k||0;var O=[];return this._appendLeaves(O,z,D,k,0),O},On.prototype.getTile=function(z,D,k){var O=this.trees[this._limitZoom(z)],K=Math.pow(2,z),Q=this.options,ut=Q.extent,ot=Q.radius/ut,nt=(k-ot)/K,dt=(k+1+ot)/K,Dt={features:[]};return this._addTileFeatures(O.range((D-ot)/K,nt,(D+1+ot)/K,dt),O.points,D,k,K,Dt),D===0&&this._addTileFeatures(O.range(1-ot/K,nt,1,dt),O.points,K,k,K,Dt),D===K-1&&this._addTileFeatures(O.range(0,nt,ot/K,dt),O.points,-1,k,K,Dt),Dt.features.length?Dt:null},On.prototype.getClusterExpansionZoom=function(z){for(var D=this._getOriginZoom(z)-1;D<=this.options.maxZoom;){var k=this.getChildren(z);if(D++,k.length!==1)break;z=k[0].properties.cluster_id}return D},On.prototype._appendLeaves=function(z,D,k,O,K){for(var Q=0,ut=this.getChildren(D);Q<ut.length;Q+=1){var ot=ut[Q],nt=ot.properties;if(nt&&nt.cluster?K+nt.point_count<=O?K+=nt.point_count:K=this._appendLeaves(z,nt.cluster_id,k,O,K):K<O?K++:z.push(ot),z.length===k)break}return K},On.prototype._addTileFeatures=function(z,D,k,O,K,Q){for(var ut=0,ot=z;ut<ot.length;ut+=1){var nt=D[ot[ut]],dt=nt.numPoints,Dt=void 0,Nt=void 0,At=void 0;if(dt)Dt=$o(nt),Nt=nt.x,At=nt.y;else{var Ft=this.points[nt.index];Dt=Ft.properties,Nt=Wn(Ft.geometry.coordinates[0]),At=ts(Ft.geometry.coordinates[1])}var jt={type:1,geometry:[[Math.round(this.options.extent*(Nt*K-k)),Math.round(this.options.extent*(At*K-O))]],tags:Dt},ae=void 0;dt?ae=nt.id:this.options.generateId?ae=nt.index:this.points[nt.index].id&&(ae=this.points[nt.index].id),ae!==void 0&&(jt.id=ae),Q.features.push(jt)}},On.prototype._limitZoom=function(z){return Math.max(this.options.minZoom,Math.min(+z,this.options.maxZoom+1))},On.prototype._cluster=function(z,D){for(var k=[],O=this.options,K=O.radius,Q=O.extent,ut=O.reduce,ot=O.minPoints,nt=K/(Q*Math.pow(2,D)),dt=0;dt<z.length;dt++){var Dt=z[dt];if(!(Dt.zoom<=D)){Dt.zoom=D;for(var Nt=this.trees[D+1],At=Nt.within(Dt.x,Dt.y,nt),Ft=Dt.numPoints||1,jt=Ft,ae=0,de=At;ae<de.length;ae+=1){var Ht=de[ae],De=Nt.points[Ht];De.zoom>D&&(jt+=De.numPoints||1)}if(jt>=ot){for(var We=Dt.x*Ft,Le=Dt.y*Ft,Me=ut&&Ft>1?this._map(Dt,!0):null,Ri=(dt<<5)+(D+1)+this.points.length,Re=0,vi=At;Re<vi.length;Re+=1){var di=vi[Re],Ve=Nt.points[di];if(!(Ve.zoom<=D)){Ve.zoom=D;var $n=Ve.numPoints||1;We+=Ve.x*$n,Le+=Ve.y*$n,Ve.parentId=Ri,ut&&(Me||(Me=this._map(Dt,!0)),ut(Me,this._map(Ve)))}}Dt.parentId=Ri,k.push(ks(We/jt,Le/jt,Ri,jt,Me))}else if(k.push(Dt),jt>1)for(var ri=0,en=At;ri<en.length;ri+=1){var Qe=en[ri],Un=Nt.points[Qe];Un.zoom<=D||(Un.zoom=D,k.push(Un))}}}return k},On.prototype._getOriginId=function(z){return z-this.points.length>>5},On.prototype._getOriginZoom=function(z){return(z-this.points.length)%32},On.prototype._map=function(z,D){if(z.numPoints)return D?Ao({},z.properties):z.properties;var k=this.points[z.index].properties,O=this.options.map(k);return D&&O===k?Ao({},O):O},Jt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Jt.prototype.splitTile=function(z,D,k,O,K,Q,ut){for(var ot=[z,D,k,O],nt=this.options,dt=nt.debug;ot.length;){O=ot.pop(),k=ot.pop(),D=ot.pop(),z=ot.pop();var Dt=1<<D,Nt=ma(D,k,O),At=this.tiles[Nt];if(!At&&(dt>1&&console.time("creation"),At=this.tiles[Nt]=gn(z,D,k,O,nt),this.tileCoords.push({z:D,x:k,y:O}),dt)){dt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",D,k,O,At.numFeatures,At.numPoints,At.numSimplified),console.timeEnd("creation"));var Ft="z"+D;this.stats[Ft]=(this.stats[Ft]||0)+1,this.total++}if(At.source=z,K){if(D===nt.maxZoom||D===K)continue;var jt=1<<K-D;if(k!==Math.floor(Q/jt)||O!==Math.floor(ut/jt))continue}else if(D===nt.indexMaxZoom||At.numPoints<=nt.indexMaxPoints)continue;if(At.source=null,z.length!==0){dt>1&&console.time("clipping");var ae,de,Ht,De,We,Le,Me=.5*nt.buffer/nt.extent,Ri=.5-Me,Re=.5+Me,vi=1+Me;ae=de=Ht=De=null,We=fa(z,Dt,k-Me,k+Re,0,At.minX,At.maxX,nt),Le=fa(z,Dt,k+Ri,k+vi,0,At.minX,At.maxX,nt),z=null,We&&(ae=fa(We,Dt,O-Me,O+Re,1,At.minY,At.maxY,nt),de=fa(We,Dt,O+Ri,O+vi,1,At.minY,At.maxY,nt),We=null),Le&&(Ht=fa(Le,Dt,O-Me,O+Re,1,At.minY,At.maxY,nt),De=fa(Le,Dt,O+Ri,O+vi,1,At.minY,At.maxY,nt),Le=null),dt>1&&console.timeEnd("clipping"),ot.push(ae||[],D+1,2*k,2*O),ot.push(de||[],D+1,2*k,2*O+1),ot.push(Ht||[],D+1,2*k+1,2*O),ot.push(De||[],D+1,2*k+1,2*O+1)}}},Jt.prototype.getTile=function(z,D,k){var O=this.options,K=O.extent,Q=O.debug;if(z<0||z>24)return null;var ut=1<<z,ot=ma(z,D=(D%ut+ut)%ut,k);if(this.tiles[ot])return po(this.tiles[ot],K);Q>1&&console.log("drilling down to z%d-%d-%d",z,D,k);for(var nt,dt=z,Dt=D,Nt=k;!nt&&dt>0;)dt--,Dt=Math.floor(Dt/2),Nt=Math.floor(Nt/2),nt=this.tiles[ma(dt,Dt,Nt)];return nt&&nt.source?(Q>1&&console.log("found parent tile z%d-%d-%d",dt,Dt,Nt),Q>1&&console.time("drilling down"),this.splitTile(nt.source,dt,Dt,Nt,z,D,k),Q>1&&console.timeEnd("drilling down"),this.tiles[ot]?po(this.tiles[ot],K):null):null};var pn=(function(z){function D(k,O,K,Q){z.call(this,k,O,K,Aa),Q&&(this.loadGeoJSON=Q)}return z&&(D.__proto__=z),D.prototype=Object.create(z&&z.prototype),D.prototype.constructor=D,D.prototype.loadData=function(k,O){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=O,this._pendingLoadDataParams=k,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},D.prototype._loadData=function(){var k=this;if(this._pendingCallback&&this._pendingLoadDataParams){var O=this._pendingCallback,K=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Q=!!(K&&K.request&&K.request.collectResourceTiming)&&new h.RequestPerformance(K.request);this.loadGeoJSON(K,(function(ut,ot){if(ut||!ot)return O(ut);if(typeof ot!="object")return O(new Error("Input data given to '"+K.source+"' is not a valid GeoJSON object."));tn(ot,!0);try{k._geoJSONIndex=K.cluster?new On((function(Dt){var Nt=Dt.superclusterOptions,At=Dt.clusterProperties;if(!At||!Nt)return Nt;for(var Ft={},jt={},ae={accumulated:null,zoom:0},de={properties:null},Ht=Object.keys(At),De=0,We=Ht;De<We.length;De+=1){var Le=We[De],Me=At[Le],Ri=Me[0],Re=Me[1],vi=h.createExpression(Re),di=h.createExpression(typeof Ri=="string"?[Ri,["accumulated"],["get",Le]]:Ri);Ft[Le]=vi.value,jt[Le]=di.value}return Nt.map=function(Ve){de.properties=Ve;for(var $n={},ri=0,en=Ht;ri<en.length;ri+=1){var Qe=en[ri];$n[Qe]=Ft[Qe].evaluate(ae,de)}return $n},Nt.reduce=function(Ve,$n){de.properties=$n;for(var ri=0,en=Ht;ri<en.length;ri+=1){var Qe=en[ri];ae.accumulated=Ve[Qe],Ve[Qe]=jt[Qe].evaluate(ae,de)}},Nt})(K)).load(ot.features):(function(Dt,Nt){return new Jt(Dt,Nt)})(ot,K.geojsonVtOptions)}catch(Dt){return O(Dt)}k.loaded={};var nt={};if(Q){var dt=Q.finish();dt&&(nt.resourceTiming={},nt.resourceTiming[K.source]=JSON.parse(JSON.stringify(dt)))}O(null,nt)}))}},D.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},D.prototype.reloadTile=function(k,O){var K=this.loaded,Q=k.uid;return K&&K[Q]?z.prototype.reloadTile.call(this,k,O):this.loadTile(k,O)},D.prototype.loadGeoJSON=function(k,O){if(k.request)h.getJSON(k.request,O);else{if(typeof k.data!="string")return O(new Error("Input data given to '"+k.source+"' is not a valid GeoJSON object."));try{return O(null,JSON.parse(k.data))}catch{return O(new Error("Input data given to '"+k.source+"' is not a valid GeoJSON object."))}}},D.prototype.removeSource=function(k,O){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),O()},D.prototype.getClusterExpansionZoom=function(k,O){O(null,this._geoJSONIndex.getClusterExpansionZoom(k.clusterId))},D.prototype.getClusterChildren=function(k,O){O(null,this._geoJSONIndex.getChildren(k.clusterId))},D.prototype.getClusterLeaves=function(k,O){O(null,this._geoJSONIndex.getLeaves(k.clusterId,k.limit,k.offset))},D})(pe),Vi=function(z){var D=this;this.self=z,this.actor=new h.Actor(z,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:pe,geojson:pn},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(k,O){if(D.workerSourceTypes[k])throw new Error('Worker source with name "'+k+'" already registered.');D.workerSourceTypes[k]=O},this.self.registerRTLTextPlugin=function(k){if(h.plugin.isParsed())throw new Error("RTL text plugin already registered.");h.plugin.applyArabicShaping=k.applyArabicShaping,h.plugin.processBidirectionalText=k.processBidirectionalText,h.plugin.processStyledBidirectionalText=k.processStyledBidirectionalText}};return Vi.prototype.setReferrer=function(z,D){this.referrer=D},Vi.prototype.setImages=function(z,D,k){this.availableImages[z]=D,k()},Vi.prototype.setLayers=function(z,D,k){this.getLayerIndex(z).replace(D),k()},Vi.prototype.updateLayers=function(z,D,k){this.getLayerIndex(z).update(D.layers,D.removedIds),k()},Vi.prototype.loadTile=function(z,D,k){this.getWorkerSource(z,D.type,D.source).loadTile(D,k)},Vi.prototype.loadDEMTile=function(z,D,k){this.getDEMWorkerSource(z,D.source).loadTile(D,k)},Vi.prototype.reloadTile=function(z,D,k){this.getWorkerSource(z,D.type,D.source).reloadTile(D,k)},Vi.prototype.abortTile=function(z,D,k){this.getWorkerSource(z,D.type,D.source).abortTile(D,k)},Vi.prototype.removeTile=function(z,D,k){this.getWorkerSource(z,D.type,D.source).removeTile(D,k)},Vi.prototype.removeDEMTile=function(z,D){this.getDEMWorkerSource(z,D.source).removeTile(D)},Vi.prototype.removeSource=function(z,D,k){if(this.workerSources[z]&&this.workerSources[z][D.type]&&this.workerSources[z][D.type][D.source]){var O=this.workerSources[z][D.type][D.source];delete this.workerSources[z][D.type][D.source],O.removeSource!==void 0?O.removeSource(D,k):k()}},Vi.prototype.loadWorkerSource=function(z,D,k){try{this.self.importScripts(D.url),k()}catch(O){k(O.toString())}},Vi.prototype.syncRTLPluginState=function(z,D,k){try{h.plugin.setState(D);var O=h.plugin.getPluginURL();if(h.plugin.isLoaded()&&!h.plugin.isParsed()&&O!=null){this.self.importScripts(O);var K=h.plugin.isParsed();k(K?void 0:new Error("RTL Text Plugin failed to import scripts from "+O),K)}}catch(Q){k(Q.toString())}},Vi.prototype.getAvailableImages=function(z){var D=this.availableImages[z];return D||(D=[]),D},Vi.prototype.getLayerIndex=function(z){var D=this.layerIndexes[z];return D||(D=this.layerIndexes[z]=new it),D},Vi.prototype.getWorkerSource=function(z,D,k){var O=this;if(this.workerSources[z]||(this.workerSources[z]={}),this.workerSources[z][D]||(this.workerSources[z][D]={}),!this.workerSources[z][D][k]){var K={send:function(Q,ut,ot){O.actor.send(Q,ut,ot,z)}};this.workerSources[z][D][k]=new this.workerSourceTypes[D](K,this.getLayerIndex(z),this.getAvailableImages(z))}return this.workerSources[z][D][k]},Vi.prototype.getDEMWorkerSource=function(z,D){return this.demWorkerSources[z]||(this.demWorkerSources[z]={}),this.demWorkerSources[z][D]||(this.demWorkerSources[z][D]=new ne),this.demWorkerSources[z][D]},Vi.prototype.enforceCacheSizeLimit=function(z,D){h.enforceCacheSizeLimit(D)},typeof WorkerGlobalScope<"u"&&h.window!==void 0&&h.window instanceof WorkerGlobalScope&&(h.window.worker=new Vi(h.window)),Vi})),rt(["./shared"],(function(h){var xt=h.createCommonjsModule((function(a){function l(m){return!s(m)}function s(m){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?(function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var g,b,w=new Blob([""],{type:"text/javascript"}),E=URL.createObjectURL(w);try{b=new Worker(E),g=!0}catch{g=!1}return b&&b.terminate(),URL.revokeObjectURL(E),g})()?"Uint8ClampedArray"in window?ArrayBuffer.isView?(function(){var g=document.createElement("canvas");g.width=g.height=1;var b=g.getContext("2d");if(!b)return!1;var w=b.getImageData(0,0,1,1);return w&&w.width===g.width})()?(function(g){return c[g]===void 0&&(c[g]=(function(b){var w=(function(L){var R=document.createElement("canvas"),N=Object.create(l.webGLContextAttributes);return N.failIfMajorPerformanceCaveat=L,R.probablySupportsContext?R.probablySupportsContext("webgl",N)||R.probablySupportsContext("experimental-webgl",N):R.supportsContext?R.supportsContext("webgl",N)||R.supportsContext("experimental-webgl",N):R.getContext("webgl",N)||R.getContext("experimental-webgl",N)})(b);if(!w)return!1;var E=w.createShader(w.VERTEX_SHADER);return!E||w.isContextLost()?!1:(w.shaderSource(E,"void main() {}"),w.compileShader(E),w.getShaderParameter(E,w.COMPILE_STATUS)===!0)})(g)),c[g]})(m&&m.failIfMajorPerformanceCaveat)?void 0:"insufficient WebGL support":"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support"}a.exports?a.exports=l:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=l,window.mapboxgl.notSupportedReason=s);var c={};l.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),G={create:function(a,l,s){var c=h.window.document.createElement(a);return l!==void 0&&(c.className=l),s&&s.appendChild(c),c},createNS:function(a,l){return h.window.document.createElementNS(a,l)}},it=h.window.document.documentElement.style;function yt(a){if(!it)return a[0];for(var l=0;l<a.length;l++)if(a[l]in it)return a[l];return a[0]}var bt,Xt=yt(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);G.disableDrag=function(){it&&Xt&&(bt=it[Xt],it[Xt]="none")},G.enableDrag=function(){it&&Xt&&(it[Xt]=bt)};var ce=yt(["transform","WebkitTransform"]);G.setTransform=function(a,l){a.style[ce]=l};var pe=!1;try{var Ee=Object.defineProperty({},"passive",{get:function(){pe=!0}});h.window.addEventListener("test",Ee,Ee),h.window.removeEventListener("test",Ee,Ee)}catch{pe=!1}G.addEventListener=function(a,l,s,c){c===void 0&&(c={}),"passive"in c&&pe?a.addEventListener(l,s,c):a.addEventListener(l,s,c.capture)},G.removeEventListener=function(a,l,s,c){c===void 0&&(c={}),"passive"in c&&pe?a.removeEventListener(l,s,c):a.removeEventListener(l,s,c.capture)};var ne=function(a){a.preventDefault(),a.stopPropagation(),h.window.removeEventListener("click",ne,!0)};function ve(a){var l=a.userImage;return l&&l.render&&l.render()?(a.data.replace(new Uint8Array(l.data.buffer)),!0):!1}G.suppressClick=function(){h.window.addEventListener("click",ne,!0),h.window.setTimeout((function(){h.window.removeEventListener("click",ne,!0)}),0)},G.mousePos=function(a,l){var s=a.getBoundingClientRect(),c=h.window.TouchEvent&&l instanceof h.window.TouchEvent?l.touches[0]:l;return new h.Point(c.clientX-s.left-a.clientLeft,c.clientY-s.top-a.clientTop)},G.touchPos=function(a,l){for(var s=a.getBoundingClientRect(),c=[],m=l.type==="touchend"?l.changedTouches:l.touches,g=0;g<m.length;g++)c.push(new h.Point(m[g].clientX-s.left-a.clientLeft,m[g].clientY-s.top-a.clientTop));return c},G.mouseButton=function(a){return h.window.InstallTrigger!==void 0&&a.button===2&&a.ctrlKey&&h.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:a.button},G.remove=function(a){a.parentNode&&a.parentNode.removeChild(a)};var be=(function(a){function l(){a.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new h.RGBAImage({width:1,height:1}),this.dirty=!0}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.isLoaded=function(){return this.loaded},l.prototype.setLoaded=function(s){if(this.loaded!==s&&(this.loaded=s,s)){for(var c=0,m=this.requestors;c<m.length;c+=1){var g=m[c],b=g.ids,w=g.callback;this._notify(b,w)}this.requestors=[]}},l.prototype.getImage=function(s){return this.images[s]},l.prototype.addImage=function(s,c){this._validate(s,c)&&(this.images[s]=c)},l.prototype._validate=function(s,c){var m=!0;return this._validateStretch(c.stretchX,c.data&&c.data.width)||(this.fire(new h.ErrorEvent(new Error('Image "'+s+'" has invalid "stretchX" value'))),m=!1),this._validateStretch(c.stretchY,c.data&&c.data.height)||(this.fire(new h.ErrorEvent(new Error('Image "'+s+'" has invalid "stretchY" value'))),m=!1),this._validateContent(c.content,c)||(this.fire(new h.ErrorEvent(new Error('Image "'+s+'" has invalid "content" value'))),m=!1),m},l.prototype._validateStretch=function(s,c){if(!s)return!0;for(var m=0,g=0,b=s;g<b.length;g+=1){var w=b[g];if(w[0]<m||w[1]<w[0]||c<w[1])return!1;m=w[1]}return!0},l.prototype._validateContent=function(s,c){return!s||s.length===4&&!(s[0]<0||c.data.width<s[0])&&!(s[1]<0||c.data.height<s[1])&&!(s[2]<0||c.data.width<s[2])&&!(s[3]<0||c.data.height<s[3])&&!(s[2]<s[0])&&!(s[3]<s[1])},l.prototype.updateImage=function(s,c){var m=this.images[s];c.version=m.version+1,this.images[s]=c,this.updatedImages[s]=!0},l.prototype.removeImage=function(s){var c=this.images[s];delete this.images[s],delete this.patterns[s],c.userImage&&c.userImage.onRemove&&c.userImage.onRemove()},l.prototype.listImages=function(){return Object.keys(this.images)},l.prototype.getImages=function(s,c){var m=!0;if(!this.isLoaded())for(var g=0,b=s;g<b.length;g+=1){var w=b[g];this.images[w]||(m=!1)}this.isLoaded()||m?this._notify(s,c):this.requestors.push({ids:s,callback:c})},l.prototype._notify=function(s,c){for(var m={},g=0,b=s;g<b.length;g+=1){var w=b[g];this.images[w]||this.fire(new h.Event("styleimagemissing",{id:w}));var E=this.images[w];E?m[w]={data:E.data.clone(),pixelRatio:E.pixelRatio,sdf:E.sdf,version:E.version,stretchX:E.stretchX,stretchY:E.stretchY,content:E.content,hasRenderCallback:!!(E.userImage&&E.userImage.render)}:h.warnOnce('Image "'+w+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}c(null,m)},l.prototype.getPixelSize=function(){var s=this.atlasImage;return{width:s.width,height:s.height}},l.prototype.getPattern=function(s){var c=this.patterns[s],m=this.getImage(s);if(!m)return null;if(c&&c.position.version===m.version)return c.position;if(c)c.position.version=m.version;else{var g={w:m.data.width+2,h:m.data.height+2,x:0,y:0},b=new h.ImagePosition(g,m);this.patterns[s]={bin:g,position:b}}return this._updatePatternAtlas(),this.patterns[s].position},l.prototype.bind=function(s){var c=s.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new h.Texture(s,this.atlasImage,c.RGBA),this.atlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE)},l.prototype._updatePatternAtlas=function(){var s=[];for(var c in this.patterns)s.push(this.patterns[c].bin);var m=h.potpack(s),g=m.w,b=m.h,w=this.atlasImage;for(var E in w.resize({width:g||1,height:b||1}),this.patterns){var L=this.patterns[E].bin,R=L.x+1,N=L.y+1,Y=this.images[E].data,H=Y.width,X=Y.height;h.RGBAImage.copy(Y,w,{x:0,y:0},{x:R,y:N},{width:H,height:X}),h.RGBAImage.copy(Y,w,{x:0,y:X-1},{x:R,y:N-1},{width:H,height:1}),h.RGBAImage.copy(Y,w,{x:0,y:0},{x:R,y:N+X},{width:H,height:1}),h.RGBAImage.copy(Y,w,{x:H-1,y:0},{x:R-1,y:N},{width:1,height:X}),h.RGBAImage.copy(Y,w,{x:0,y:0},{x:R+H,y:N},{width:1,height:X})}this.dirty=!0},l.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},l.prototype.dispatchRenderCallbacks=function(s){for(var c=0,m=s;c<m.length;c+=1){var g=m[c];if(!this.callbackDispatchedThisFrame[g]){this.callbackDispatchedThisFrame[g]=!0;var b=this.images[g];ve(b)&&this.updateImage(g,b)}}},l})(h.Evented),me=tn,Ei=tn,Oi=1e20;function tn(a,l,s,c,m,g){this.fontSize=a||24,this.buffer=l===void 0?3:l,this.cutoff=c||.25,this.fontFamily=m||"sans-serif",this.fontWeight=g||"normal",this.radius=s||8;var b=this.size=this.fontSize+2*this.buffer,w=b+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=b,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(w*w),this.gridInner=new Float64Array(w*w),this.f=new Float64Array(w),this.z=new Float64Array(w+1),this.v=new Uint16Array(w),this.useMetrics=this.ctx.measureText("A").actualBoundingBoxLeft!==void 0,this.middle=Math.round(b/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function Ge(a,l,s,c,m,g){for(var b=0;b<l;b++)yn(a,b,l,s,c,m,g);for(var w=0;w<s;w++)yn(a,w*l,1,l,c,m,g)}function yn(a,l,s,c,m,g,b){var w,E,L,R;for(g[0]=0,b[0]=-Oi,b[1]=Oi,w=0;w<c;w++)m[w]=a[l+w*s];for(w=1,E=0,L=0;w<c;w++){do R=g[E],L=(m[w]-m[R]+w*w-R*R)/(w-R)/2;while(L<=b[E]&&--E>-1);g[++E]=w,b[E]=L,b[E+1]=Oi}for(w=0,E=0;w<c;w++){for(;b[E+1]<w;)E++;R=g[E],a[l+w*s]=m[R]+(w-R)*(w-R)}}tn.prototype._draw=function(a,l){var s,c,m,g,b,w,E,L,R,N=this.ctx.measureText(a),Y=N.width,H=2*this.buffer;l&&this.useMetrics?(b=Math.floor(N.actualBoundingBoxAscent),L=this.buffer+Math.ceil(N.actualBoundingBoxAscent),w=this.buffer,E=this.buffer,s=(c=Math.min(this.size,Math.ceil(N.actualBoundingBoxRight-N.actualBoundingBoxLeft)))+H,m=(g=Math.min(this.size-w,Math.ceil(N.actualBoundingBoxAscent+N.actualBoundingBoxDescent)))+H,this.ctx.textBaseline="alphabetic"):(s=c=this.size,m=g=this.size,b=19*this.fontSize/24,w=E=0,L=this.middle,this.ctx.textBaseline="middle"),c&&g&&(this.ctx.clearRect(E,w,c,g),this.ctx.fillText(a,this.buffer,L),R=this.ctx.getImageData(E,w,c,g));var X=new Uint8ClampedArray(s*m);return(function(Z,at,tt,ht,ct,ft,wt){ft.fill(Oi,0,at*tt),wt.fill(0,0,at*tt);for(var Mt=(at-ht)/2,Bt=0;Bt<ct;Bt++)for(var ee=0;ee<ht;ee++){var Kt=(Bt+Mt)*at+ee+Mt,le=Z.data[4*(Bt*ht+ee)+3]/255;if(le===1)ft[Kt]=0,wt[Kt]=Oi;else if(le===0)ft[Kt]=Oi,wt[Kt]=0;else{var Yt=Math.max(0,.5-le),ye=Math.max(0,le-.5);ft[Kt]=Yt*Yt,wt[Kt]=ye*ye}}})(R,s,m,c,g,this.gridOuter,this.gridInner),Ge(this.gridOuter,s,m,this.f,this.v,this.z),Ge(this.gridInner,s,m,this.f,this.v,this.z),(function(Z,at,tt,ht,ct,ft,wt){for(var Mt=0;Mt<at*tt;Mt++){var Bt=Math.sqrt(ht[Mt])-Math.sqrt(ct[Mt]);Z[Mt]=Math.round(255-255*(Bt/ft+wt))}})(X,s,m,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:X,metrics:{width:c,height:g,sdfWidth:s,sdfHeight:m,top:b,left:0,advance:Y}}},tn.prototype.draw=function(a){return this._draw(a,!1).data},tn.prototype.drawWithMetrics=function(a){return this._draw(a,!0)},me.default=Ei;var ni=function(a,l){this.requestManager=a,this.localIdeographFontFamily=l,this.entries={}};ni.prototype.setURL=function(a){this.url=a},ni.prototype.getGlyphs=function(a,l){var s=this,c=[];for(var m in a)for(var g=0,b=a[m];g<b.length;g+=1){var w=b[g];c.push({stack:m,id:w})}h.asyncAll(c,(function(E,L){var R=E.stack,N=E.id,Y=s.entries[R];Y||(Y=s.entries[R]={glyphs:{},requests:{}});var H=Y.glyphs[N];if(H===void 0){if(H=s._tinySDF(Y,R,N))return Y.glyphs[N]=H,void L(null,{stack:R,id:N,glyph:H});var X=Math.floor(N/256);if(256*X>65535)L(new Error("glyphs > 65535 not supported"));else{var Z=Y.requests[X];Z||(Z=Y.requests[X]=[],ni.loadGlyphRange(R,X,s.url,s.requestManager,(function(at,tt){if(tt)for(var ht in tt)s._doesCharSupportLocalGlyph(+ht)||(Y.glyphs[+ht]=tt[+ht]);for(var ct=0,ft=Z;ct<ft.length;ct+=1)(0,ft[ct])(at,tt);delete Y.requests[X]}))),Z.push((function(at,tt){at?L(at):tt&&L(null,{stack:R,id:N,glyph:tt[N]||null})}))}}else L(null,{stack:R,id:N,glyph:H})}),(function(E,L){if(E)l(E);else if(L){for(var R={},N=0,Y=L;N<Y.length;N+=1){var H=Y[N],X=H.stack,Z=H.id,at=H.glyph;(R[X]||(R[X]={}))[Z]=at&&{id:at.id,bitmap:at.bitmap.clone(),metrics:at.metrics}}l(null,R)}}))},ni.prototype._doesCharSupportLocalGlyph=function(a){return!!this.localIdeographFontFamily&&(h.isChar["CJK Unified Ideographs"](a)||h.isChar["Hangul Syllables"](a)||h.isChar.Hiragana(a)||h.isChar.Katakana(a))},ni.prototype._tinySDF=function(a,l,s){var c=this.localIdeographFontFamily;if(c&&this._doesCharSupportLocalGlyph(s)){var m=a.tinySDF;if(!m){var g="400";/bold/i.test(l)?g="900":/medium/i.test(l)?g="500":/light/i.test(l)&&(g="200"),m=a.tinySDF=new ni.TinySDF(24,3,8,.25,c,g)}return{id:s,bitmap:new h.AlphaImage({width:30,height:30},m.draw(String.fromCharCode(s))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},ni.loadGlyphRange=function(a,l,s,c,m){var g=256*l,b=g+255,w=c.transformRequest(c.normalizeGlyphsURL(s).replace("{fontstack}",a).replace("{range}",g+"-"+b),h.ResourceType.Glyphs);h.getArrayBuffer(w,(function(E,L){if(E)m(E);else if(L){for(var R={},N=0,Y=h.parseGlyphPBF(L);N<Y.length;N+=1){var H=Y[N];R[H.id]=H}m(null,R)}}))},ni.TinySDF=me;var Qn=function(){this.specification=h.styleSpec.light.position};Qn.prototype.possiblyEvaluate=function(a,l){return h.sphericalToCartesian(a.expression.evaluate(l))},Qn.prototype.interpolate=function(a,l,s){return{x:h.number(a.x,l.x,s),y:h.number(a.y,l.y,s),z:h.number(a.z,l.z,s)}};var zi=new h.Properties({anchor:new h.DataConstantProperty(h.styleSpec.light.anchor),position:new Qn,color:new h.DataConstantProperty(h.styleSpec.light.color),intensity:new h.DataConstantProperty(h.styleSpec.light.intensity)}),vn=(function(a){function l(s){a.call(this),this._transitionable=new h.Transitionable(zi),this.setLight(s),this._transitioning=this._transitionable.untransitioned()}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getLight=function(){return this._transitionable.serialize()},l.prototype.setLight=function(s,c){if(c===void 0&&(c={}),!this._validate(h.validateLight,s,c))for(var m in s){var g=s[m];h.endsWith(m,"-transition")?this._transitionable.setTransition(m.slice(0,-11),g):this._transitionable.setValue(m,g)}},l.prototype.updateTransitions=function(s){this._transitioning=this._transitionable.transitioned(s,this._transitioning)},l.prototype.hasTransition=function(){return this._transitioning.hasTransition()},l.prototype.recalculate=function(s){this.properties=this._transitioning.possiblyEvaluate(s)},l.prototype._validate=function(s,c,m){return(!m||m.validate!==!1)&&h.emitValidationErrors(this,s.call(h.validateStyle,h.extend({value:c,style:{glyphs:!0,sprite:!0},styleSpec:h.styleSpec})))},l})(h.Evented),ca=function(a,l){this.width=a,this.height=l,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};ca.prototype.getDash=function(a,l){var s=a.join(",")+String(l);return this.positions[s]||(this.positions[s]=this.addDash(a,l)),this.positions[s]},ca.prototype.addDash=function(a,l){var s=l?7:0,c=2*s+1;if(this.nextRow+c>this.height)return h.warnOnce("LineAtlas out of space"),null;for(var m=0,g=0;g<a.length;g++)m+=a[g];for(var b=this.width/m,w=b/2,E=a.length%2==1,L=-s;L<=s;L++)for(var R=this.nextRow+s+L,N=this.width*R,Y=E?-a[a.length-1]:0,H=a[0],X=1,Z=0;Z<this.width;Z++){for(;H<Z/b;)Y=H,H+=a[X],E&&X===a.length-1&&(H+=a[0]),X++;var at=Math.abs(Z-Y*b),tt=Math.abs(Z-H*b),ht=Math.min(at,tt),ct=X%2==1,ft=void 0;if(l){var wt=s?L/s*(w+1):0;if(ct){var Mt=w-Math.abs(wt);ft=Math.sqrt(ht*ht+Mt*Mt)}else ft=w-Math.sqrt(ht*ht+wt*wt)}else ft=(ct?1:-1)*ht;this.data[3+4*(N+Z)]=Math.max(0,Math.min(255,ft+128))}var Bt={y:(this.nextRow+s+.5)/this.height,height:2*s/this.height,width:m};return this.nextRow+=c,this.dirty=!0,Bt},ca.prototype.bind=function(a){var l=a.gl;this.texture?(l.bindTexture(l.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,l.texSubImage2D(l.TEXTURE_2D,0,0,0,this.width,this.height,l.RGBA,l.UNSIGNED_BYTE,this.data))):(this.texture=l.createTexture(),l.bindTexture(l.TEXTURE_2D,this.texture),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.REPEAT),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.REPEAT),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.LINEAR),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.LINEAR),l.texImage2D(l.TEXTURE_2D,0,l.RGBA,this.width,this.height,0,l.RGBA,l.UNSIGNED_BYTE,this.data))};var jn=function a(l,s){this.workerPool=l,this.actors=[],this.currentActor=0,this.id=h.uniqueId();for(var c=this.workerPool.acquire(this.id),m=0;m<c.length;m++){var g=c[m],b=new a.Actor(g,s,this.id);b.name="Worker "+m,this.actors.push(b)}};function sr(a,l,s){var c=function(m,g){if(m)return s(m);if(g){var b=h.pick(h.extend(g,a),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);g.vector_layers&&(b.vectorLayers=g.vector_layers,b.vectorLayerIds=b.vectorLayers.map((function(w){return w.id}))),a.url&&(b.tiles=l.canonicalizeTileset(b,a.url)),s(null,b)}};return a.url?h.getJSON(l.transformRequest(l.normalizeSourceURL(a.url),h.ResourceType.Source),c):h.browser.frame((function(){return c(null,a)}))}jn.prototype.broadcast=function(a,l,s){s=s||function(){},h.asyncAll(this.actors,(function(c,m){c.send(a,l,m)}),s)},jn.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},jn.prototype.remove=function(){this.actors.forEach((function(a){a.remove()})),this.actors=[],this.workerPool.release(this.id)},jn.Actor=h.Actor;var It=function(a,l,s){this.bounds=h.LngLatBounds.convert(this.validateBounds(a)),this.minzoom=l||0,this.maxzoom=s||24};It.prototype.validateBounds=function(a){return Array.isArray(a)&&a.length===4?[Math.max(-180,a[0]),Math.max(-90,a[1]),Math.min(180,a[2]),Math.min(90,a[3])]:[-180,-90,180,90]},It.prototype.contains=function(a){var l=Math.pow(2,a.z),s=Math.floor(h.mercatorXfromLng(this.bounds.getWest())*l),c=Math.floor(h.mercatorYfromLat(this.bounds.getNorth())*l),m=Math.ceil(h.mercatorXfromLng(this.bounds.getEast())*l),g=Math.ceil(h.mercatorYfromLat(this.bounds.getSouth())*l);return a.x>=s&&a.x<m&&a.y>=c&&a.y<g};var re=(function(a){function l(s,c,m,g){if(a.call(this),this.id=s,this.dispatcher=m,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,h.extend(this,h.pick(c,["url","scheme","tileSize","promoteId"])),this._options=h.extend({type:"vector"},c),this._collectResourceTiming=c.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(g)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.load=function(){var s=this;this._loaded=!1,this.fire(new h.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=sr(this._options,this.map._requestManager,(function(c,m){s._tileJSONRequest=null,s._loaded=!0,c?s.fire(new h.ErrorEvent(c)):m&&(h.extend(s,m),m.bounds&&(s.tileBounds=new It(m.bounds,s.minzoom,s.maxzoom)),h.postTurnstileEvent(m.tiles,s.map._requestManager._customAccessToken),h.postMapLoadEvent(m.tiles,s.map._getMapId(),s.map._requestManager._skuToken,s.map._requestManager._customAccessToken),s.fire(new h.Event("data",{dataType:"source",sourceDataType:"metadata"})),s.fire(new h.Event("data",{dataType:"source",sourceDataType:"content"})))}))},l.prototype.loaded=function(){return this._loaded},l.prototype.hasTile=function(s){return!this.tileBounds||this.tileBounds.contains(s.canonical)},l.prototype.onAdd=function(s){this.map=s,this.load()},l.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},l.prototype.serialize=function(){return h.extend({},this._options)},l.prototype.loadTile=function(s,c){var m=this.map._requestManager.normalizeTileURL(s.tileID.canonical.url(this.tiles,this.scheme),this.url,null),g={request:this.map._requestManager.transformRequest(m,h.ResourceType.Tile),uid:s.uid,tileID:s.tileID,zoom:s.tileID.overscaledZ,tileSize:this.tileSize*s.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:h.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function b(w,E){return delete s.request,s.aborted?c(null):w&&w.status!==404?c(w):(E&&E.resourceTiming&&(s.resourceTiming=E.resourceTiming),this.map._refreshExpiredTiles&&E&&s.setExpiryData(E),s.loadVectorData(E,this.map.painter),h.cacheEntryPossiblyAdded(this.dispatcher),c(null),void(s.reloadCallback&&(this.loadTile(s,s.reloadCallback),s.reloadCallback=null)))}g.request.collectResourceTiming=this._collectResourceTiming,s.actor&&s.state!=="expired"?s.state==="loading"?s.reloadCallback=c:s.request=s.actor.send("reloadTile",g,b.bind(this)):(s.actor=this.dispatcher.getActor(),s.request=s.actor.send("loadTile",g,b.bind(this)))},l.prototype.abortTile=function(s){s.request&&(s.request.cancel(),delete s.request),s.actor&&s.actor.send("abortTile",{uid:s.uid,type:this.type,source:this.id},void 0)},l.prototype.unloadTile=function(s){s.unloadVectorData(),s.actor&&s.actor.send("removeTile",{uid:s.uid,type:this.type,source:this.id},void 0)},l.prototype.hasTransition=function(){return!1},l})(h.Evented),Be=(function(a){function l(s,c,m,g){a.call(this),this.id=s,this.dispatcher=m,this.setEventedParent(g),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=h.extend({type:"raster"},c),h.extend(this,h.pick(c,["url","scheme","tileSize"]))}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.load=function(){var s=this;this._loaded=!1,this.fire(new h.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=sr(this._options,this.map._requestManager,(function(c,m){s._tileJSONRequest=null,s._loaded=!0,c?s.fire(new h.ErrorEvent(c)):m&&(h.extend(s,m),m.bounds&&(s.tileBounds=new It(m.bounds,s.minzoom,s.maxzoom)),h.postTurnstileEvent(m.tiles),h.postMapLoadEvent(m.tiles,s.map._getMapId(),s.map._requestManager._skuToken),s.fire(new h.Event("data",{dataType:"source",sourceDataType:"metadata"})),s.fire(new h.Event("data",{dataType:"source",sourceDataType:"content"})))}))},l.prototype.loaded=function(){return this._loaded},l.prototype.onAdd=function(s){this.map=s,this.load()},l.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},l.prototype.serialize=function(){return h.extend({},this._options)},l.prototype.hasTile=function(s){return!this.tileBounds||this.tileBounds.contains(s.canonical)},l.prototype.loadTile=function(s,c){var m=this,g=this.map._requestManager.normalizeTileURL(s.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);s.request=h.getImage(this.map._requestManager.transformRequest(g,h.ResourceType.Tile),(function(b,w){if(delete s.request,s.aborted)s.state="unloaded",c(null);else if(b)s.state="errored",c(b);else if(w){m.map._refreshExpiredTiles&&s.setExpiryData(w),delete w.cacheControl,delete w.expires;var E=m.map.painter.context,L=E.gl;s.texture=m.map.painter.getTileTexture(w.width),s.texture?s.texture.update(w,{useMipmap:!0}):(s.texture=new h.Texture(E,w,L.RGBA,{useMipmap:!0}),s.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE,L.LINEAR_MIPMAP_NEAREST),E.extTextureFilterAnisotropic&&L.texParameterf(L.TEXTURE_2D,E.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,E.extTextureFilterAnisotropicMax)),s.state="loaded",h.cacheEntryPossiblyAdded(m.dispatcher),c(null)}}))},l.prototype.abortTile=function(s,c){s.request&&(s.request.cancel(),delete s.request),c()},l.prototype.unloadTile=function(s,c){s.texture&&this.map.painter.saveTileTexture(s.texture),c()},l.prototype.hasTransition=function(){return!1},l})(h.Evented),Ti=(function(a){function l(s,c,m,g){a.call(this,s,c,m,g),this.type="raster-dem",this.maxzoom=22,this._options=h.extend({type:"raster-dem"},c),this.encoding=c.encoding||"mapbox"}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},l.prototype.loadTile=function(s,c){var m=this.map._requestManager.normalizeTileURL(s.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);function g(b,w){b&&(s.state="errored",c(b)),w&&(s.dem=w,s.needsHillshadePrepare=!0,s.state="loaded",c(null))}s.request=h.getImage(this.map._requestManager.transformRequest(m,h.ResourceType.Tile),(function(b,w){if(delete s.request,s.aborted)s.state="unloaded",c(null);else if(b)s.state="errored",c(b);else if(w){this.map._refreshExpiredTiles&&s.setExpiryData(w),delete w.cacheControl,delete w.expires;var E=h.window.ImageBitmap&&w instanceof h.window.ImageBitmap&&h.offscreenCanvasSupported()?w:h.browser.getImageData(w,1),L={uid:s.uid,coord:s.tileID,source:this.id,rawImageData:E,encoding:this.encoding};s.actor&&s.state!=="expired"||(s.actor=this.dispatcher.getActor(),s.actor.send("loadDEMTile",L,g.bind(this)))}}).bind(this)),s.neighboringTiles=this._getNeighboringTiles(s.tileID)},l.prototype._getNeighboringTiles=function(s){var c=s.canonical,m=Math.pow(2,c.z),g=(c.x-1+m)%m,b=c.x===0?s.wrap-1:s.wrap,w=(c.x+1+m)%m,E=c.x+1===m?s.wrap+1:s.wrap,L={};return L[new h.OverscaledTileID(s.overscaledZ,b,c.z,g,c.y).key]={backfilled:!1},L[new h.OverscaledTileID(s.overscaledZ,E,c.z,w,c.y).key]={backfilled:!1},c.y>0&&(L[new h.OverscaledTileID(s.overscaledZ,b,c.z,g,c.y-1).key]={backfilled:!1},L[new h.OverscaledTileID(s.overscaledZ,s.wrap,c.z,c.x,c.y-1).key]={backfilled:!1},L[new h.OverscaledTileID(s.overscaledZ,E,c.z,w,c.y-1).key]={backfilled:!1}),c.y+1<m&&(L[new h.OverscaledTileID(s.overscaledZ,b,c.z,g,c.y+1).key]={backfilled:!1},L[new h.OverscaledTileID(s.overscaledZ,s.wrap,c.z,c.x,c.y+1).key]={backfilled:!1},L[new h.OverscaledTileID(s.overscaledZ,E,c.z,w,c.y+1).key]={backfilled:!1}),L},l.prototype.unloadTile=function(s){s.demTexture&&this.map.painter.saveTileTexture(s.demTexture),s.fbo&&(s.fbo.destroy(),delete s.fbo),s.dem&&delete s.dem,delete s.neighboringTiles,s.state="unloaded",s.actor&&s.actor.send("removeDEMTile",{uid:s.uid,source:this.id})},l})(Be),Li=(function(a){function l(s,c,m,g){a.call(this),this.id=s,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=m.getActor(),this.setEventedParent(g),this._data=c.data,this._options=h.extend({},c),this._collectResourceTiming=c.collectResourceTiming,this._resourceTiming=[],c.maxzoom!==void 0&&(this.maxzoom=c.maxzoom),c.type&&(this.type=c.type),c.attribution&&(this.attribution=c.attribution),this.promoteId=c.promoteId;var b=h.EXTENT/this.tileSize;this.workerOptions=h.extend({source:this.id,cluster:c.cluster||!1,geojsonVtOptions:{buffer:(c.buffer!==void 0?c.buffer:128)*b,tolerance:(c.tolerance!==void 0?c.tolerance:.375)*b,extent:h.EXTENT,maxZoom:this.maxzoom,lineMetrics:c.lineMetrics||!1,generateId:c.generateId||!1},superclusterOptions:{maxZoom:c.clusterMaxZoom!==void 0?Math.min(c.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:h.EXTENT,radius:(c.clusterRadius||50)*b,log:!1,generateId:c.generateId||!1},clusterProperties:c.clusterProperties},c.workerOptions)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.load=function(){var s=this;this.fire(new h.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(c){if(c)s.fire(new h.ErrorEvent(c));else{var m={dataType:"source",sourceDataType:"metadata"};s._collectResourceTiming&&s._resourceTiming&&s._resourceTiming.length>0&&(m.resourceTiming=s._resourceTiming,s._resourceTiming=[]),s.fire(new h.Event("data",m))}}))},l.prototype.onAdd=function(s){this.map=s,this.load()},l.prototype.setData=function(s){var c=this;return this._data=s,this.fire(new h.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(m){if(m)c.fire(new h.ErrorEvent(m));else{var g={dataType:"source",sourceDataType:"content"};c._collectResourceTiming&&c._resourceTiming&&c._resourceTiming.length>0&&(g.resourceTiming=c._resourceTiming,c._resourceTiming=[]),c.fire(new h.Event("data",g))}})),this},l.prototype.getClusterExpansionZoom=function(s,c){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:s,source:this.id},c),this},l.prototype.getClusterChildren=function(s,c){return this.actor.send("geojson.getClusterChildren",{clusterId:s,source:this.id},c),this},l.prototype.getClusterLeaves=function(s,c,m,g){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:s,limit:c,offset:m},g),this},l.prototype._updateWorkerData=function(s){var c=this;this._loaded=!1;var m=h.extend({},this.workerOptions),g=this._data;typeof g=="string"?(m.request=this.map._requestManager.transformRequest(h.browser.resolveURL(g),h.ResourceType.Source),m.request.collectResourceTiming=this._collectResourceTiming):m.data=JSON.stringify(g),this.actor.send(this.type+".loadData",m,(function(b,w){c._removed||w&&w.abandoned||(c._loaded=!0,w&&w.resourceTiming&&w.resourceTiming[c.id]&&(c._resourceTiming=w.resourceTiming[c.id].slice(0)),c.actor.send(c.type+".coalesce",{source:m.source},null),s(b))}))},l.prototype.loaded=function(){return this._loaded},l.prototype.loadTile=function(s,c){var m=this,g=s.actor?"reloadTile":"loadTile";s.actor=this.actor;var b={type:this.type,uid:s.uid,tileID:s.tileID,zoom:s.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:h.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};s.request=this.actor.send(g,b,(function(w,E){return delete s.request,s.unloadVectorData(),s.aborted?c(null):w?c(w):(s.loadVectorData(E,m.map.painter,g==="reloadTile"),c(null))}))},l.prototype.abortTile=function(s){s.request&&(s.request.cancel(),delete s.request),s.aborted=!0},l.prototype.unloadTile=function(s){s.unloadVectorData(),this.actor.send("removeTile",{uid:s.uid,type:this.type,source:this.id})},l.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},l.prototype.serialize=function(){return h.extend({},this._options,{type:this.type,data:this._data})},l.prototype.hasTransition=function(){return!1},l})(h.Evented),lt=h.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),Pt=(function(a){function l(s,c,m,g){a.call(this),this.id=s,this.dispatcher=m,this.coordinates=c.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(g),this.options=c}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.load=function(s,c){var m=this;this._loaded=!1,this.fire(new h.Event("dataloading",{dataType:"source"})),this.url=this.options.url,h.getImage(this.map._requestManager.transformRequest(this.url,h.ResourceType.Image),(function(g,b){m._loaded=!0,g?m.fire(new h.ErrorEvent(g)):b&&(m.image=b,s&&(m.coordinates=s),c&&c(),m._finishLoading())}))},l.prototype.loaded=function(){return this._loaded},l.prototype.updateImage=function(s){var c=this;return this.image&&s.url?(this.options.url=s.url,this.load(s.coordinates,(function(){c.texture=null})),this):this},l.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new h.Event("data",{dataType:"source",sourceDataType:"metadata"})))},l.prototype.onAdd=function(s){this.map=s,this.load()},l.prototype.setCoordinates=function(s){var c=this;this.coordinates=s;var m=s.map(h.MercatorCoordinate.fromLngLat);this.tileID=(function(b){for(var w=1/0,E=1/0,L=-1/0,R=-1/0,N=0,Y=b;N<Y.length;N+=1){var H=Y[N];w=Math.min(w,H.x),E=Math.min(E,H.y),L=Math.max(L,H.x),R=Math.max(R,H.y)}var X=L-w,Z=R-E,at=Math.max(X,Z),tt=Math.max(0,Math.floor(-Math.log(at)/Math.LN2)),ht=Math.pow(2,tt);return new h.CanonicalTileID(tt,Math.floor((w+L)/2*ht),Math.floor((E+R)/2*ht))})(m),this.minzoom=this.maxzoom=this.tileID.z;var g=m.map((function(b){return c.tileID.getTilePoint(b)._round()}));return this._boundsArray=new h.StructArrayLayout4i8,this._boundsArray.emplaceBack(g[0].x,g[0].y,0,0),this._boundsArray.emplaceBack(g[1].x,g[1].y,h.EXTENT,0),this._boundsArray.emplaceBack(g[3].x,g[3].y,0,h.EXTENT),this._boundsArray.emplaceBack(g[2].x,g[2].y,h.EXTENT,h.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new h.Event("data",{dataType:"source",sourceDataType:"content"})),this},l.prototype.prepare=function(){if(Object.keys(this.tiles).length!==0&&this.image){var s=this.map.painter.context,c=s.gl;for(var m in this.boundsBuffer||(this.boundsBuffer=s.createVertexBuffer(this._boundsArray,lt.members)),this.boundsSegments||(this.boundsSegments=h.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new h.Texture(s,this.image,c.RGBA),this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE)),this.tiles){var g=this.tiles[m];g.state!=="loaded"&&(g.state="loaded",g.texture=this.texture)}}},l.prototype.loadTile=function(s,c){this.tileID&&this.tileID.equals(s.tileID.canonical)?(this.tiles[String(s.tileID.wrap)]=s,s.buckets={},c(null)):(s.state="errored",c(null))},l.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},l.prototype.hasTransition=function(){return!1},l})(h.Evented),he=(function(a){function l(s,c,m,g){a.call(this,s,c,m,g),this.roundZoom=!0,this.type="video",this.options=c}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.load=function(){var s=this;this._loaded=!1;var c=this.options;this.urls=[];for(var m=0,g=c.urls;m<g.length;m+=1){var b=g[m];this.urls.push(this.map._requestManager.transformRequest(b,h.ResourceType.Source).url)}h.getVideo(this.urls,(function(w,E){s._loaded=!0,w?s.fire(new h.ErrorEvent(w)):E&&(s.video=E,s.video.loop=!0,s.video.addEventListener("playing",(function(){s.map.triggerRepaint()})),s.map&&s.video.play(),s._finishLoading())}))},l.prototype.pause=function(){this.video&&this.video.pause()},l.prototype.play=function(){this.video&&this.video.play()},l.prototype.seek=function(s){if(this.video){var c=this.video.seekable;s<c.start(0)||s>c.end(0)?this.fire(new h.ErrorEvent(new h.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+c.start(0)+" and "+c.end(0)+"-second mark."))):this.video.currentTime=s}},l.prototype.getVideo=function(){return this.video},l.prototype.onAdd=function(s){this.map||(this.map=s,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},l.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var s=this.map.painter.context,c=s.gl;for(var m in this.boundsBuffer||(this.boundsBuffer=s.createVertexBuffer(this._boundsArray,lt.members)),this.boundsSegments||(this.boundsSegments=h.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE),c.texSubImage2D(c.TEXTURE_2D,0,0,0,c.RGBA,c.UNSIGNED_BYTE,this.video)):(this.texture=new h.Texture(s,this.video,c.RGBA),this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE)),this.tiles){var g=this.tiles[m];g.state!=="loaded"&&(g.state="loaded",g.texture=this.texture)}}},l.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},l.prototype.hasTransition=function(){return this.video&&!this.video.paused},l})(Pt),ge=(function(a){function l(s,c,m,g){a.call(this,s,c,m,g),c.coordinates?Array.isArray(c.coordinates)&&c.coordinates.length===4&&!c.coordinates.some((function(b){return!Array.isArray(b)||b.length!==2||b.some((function(w){return typeof w!="number"}))}))||this.fire(new h.ErrorEvent(new h.ValidationError("sources."+s,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new h.ErrorEvent(new h.ValidationError("sources."+s,null,'missing required property "coordinates"'))),c.animate&&typeof c.animate!="boolean"&&this.fire(new h.ErrorEvent(new h.ValidationError("sources."+s,null,'optional "animate" property must be a boolean value'))),c.canvas?typeof c.canvas=="string"||c.canvas instanceof h.window.HTMLCanvasElement||this.fire(new h.ErrorEvent(new h.ValidationError("sources."+s,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new h.ErrorEvent(new h.ValidationError("sources."+s,null,'missing required property "canvas"'))),this.options=c,this.animate=c.animate===void 0||c.animate}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof h.window.HTMLCanvasElement?this.options.canvas:h.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new h.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},l.prototype.getCanvas=function(){return this.canvas},l.prototype.onAdd=function(s){this.map=s,this.load(),this.canvas&&this.animate&&this.play()},l.prototype.onRemove=function(){this.pause()},l.prototype.prepare=function(){var s=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,s=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,s=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var c=this.map.painter.context,m=c.gl;for(var g in this.boundsBuffer||(this.boundsBuffer=c.createVertexBuffer(this._boundsArray,lt.members)),this.boundsSegments||(this.boundsSegments=h.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(s||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new h.Texture(c,this.canvas,m.RGBA,{premultiply:!0}),this.tiles){var b=this.tiles[g];b.state!=="loaded"&&(b.state="loaded",b.texture=this.texture)}}},l.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},l.prototype.hasTransition=function(){return this._playing},l.prototype._hasInvalidDimensions=function(){for(var s=0,c=[this.canvas.width,this.canvas.height];s<c.length;s+=1){var m=c[s];if(isNaN(m)||m<=0)return!0}return!1},l})(Pt),je={vector:re,raster:Be,"raster-dem":Ti,geojson:Li,video:he,image:Pt,canvas:ge};function Je(a,l){var s=h.identity([]);return h.translate(s,s,[1,1,0]),h.scale(s,s,[.5*a.width,.5*a.height,1]),h.multiply(s,s,a.calculatePosMatrix(l.toUnwrapped()))}function He(a,l,s,c,m){var g=(function(X,Z,at){if(X)for(var tt=0,ht=X;tt<ht.length;tt+=1){var ct=Z[ht[tt]];if(ct&&ct.source===at&&ct.type==="fill-extrusion")return!0}else for(var ft in Z){var wt=Z[ft];if(wt.source===at&&wt.type==="fill-extrusion")return!0}return!1})(c&&c.layers,l,a.id),b=m.maxPitchScaleFactor(),w=a.tilesIn(s,b,g);w.sort(Ln);for(var E=[],L=0,R=w;L<R.length;L+=1){var N=R[L];E.push({wrappedTileID:N.tileID.wrapped().key,queryResults:N.tile.queryRenderedFeatures(l,a._state,N.queryGeometry,N.cameraQueryGeometry,N.scale,c,m,b,Je(a.transform,N.tileID))})}var Y=(function(X){for(var Z={},at={},tt=0,ht=X;tt<ht.length;tt+=1){var ct=ht[tt],ft=ct.queryResults,wt=ct.wrappedTileID,Mt=at[wt]=at[wt]||{};for(var Bt in ft)for(var ee=ft[Bt],Kt=Mt[Bt]=Mt[Bt]||{},le=Z[Bt]=Z[Bt]||[],Yt=0,ye=ee;Yt<ye.length;Yt+=1){var Qt=ye[Yt];Kt[Qt.featureIndex]||(Kt[Qt.featureIndex]=!0,le.push(Qt))}}return Z})(E);for(var H in Y)Y[H].forEach((function(X){var Z=X.feature,at=a.getFeatureState(Z.layer["source-layer"],Z.id);Z.source=Z.layer.source,Z.layer["source-layer"]&&(Z.sourceLayer=Z.layer["source-layer"]),Z.state=at}));return Y}function Ln(a,l){var s=a.tileID,c=l.tileID;return s.overscaledZ-c.overscaledZ||s.canonical.y-c.canonical.y||s.wrap-c.wrap||s.canonical.x-c.canonical.x}var fi=function(a,l){this.max=a,this.onRemove=l,this.reset()};fi.prototype.reset=function(){for(var a in this.data)for(var l=0,s=this.data[a];l<s.length;l+=1){var c=s[l];c.timeout&&clearTimeout(c.timeout),this.onRemove(c.value)}return this.data={},this.order=[],this},fi.prototype.add=function(a,l,s){var c=this,m=a.wrapped().key;this.data[m]===void 0&&(this.data[m]=[]);var g={value:l,timeout:void 0};if(s!==void 0&&(g.timeout=setTimeout((function(){c.remove(a,g)}),s)),this.data[m].push(g),this.order.push(m),this.order.length>this.max){var b=this._getAndRemoveByKey(this.order[0]);b&&this.onRemove(b)}return this},fi.prototype.has=function(a){return a.wrapped().key in this.data},fi.prototype.getAndRemove=function(a){return this.has(a)?this._getAndRemoveByKey(a.wrapped().key):null},fi.prototype._getAndRemoveByKey=function(a){var l=this.data[a].shift();return l.timeout&&clearTimeout(l.timeout),this.data[a].length===0&&delete this.data[a],this.order.splice(this.order.indexOf(a),1),l.value},fi.prototype.getByKey=function(a){var l=this.data[a];return l?l[0].value:null},fi.prototype.get=function(a){return this.has(a)?this.data[a.wrapped().key][0].value:null},fi.prototype.remove=function(a,l){if(!this.has(a))return this;var s=a.wrapped().key,c=l===void 0?0:this.data[s].indexOf(l),m=this.data[s][c];return this.data[s].splice(c,1),m.timeout&&clearTimeout(m.timeout),this.data[s].length===0&&delete this.data[s],this.onRemove(m.value),this.order.splice(this.order.indexOf(s),1),this},fi.prototype.setMaxSize=function(a){for(this.max=a;this.order.length>this.max;){var l=this._getAndRemoveByKey(this.order[0]);l&&this.onRemove(l)}return this},fi.prototype.filter=function(a){var l=[];for(var s in this.data)for(var c=0,m=this.data[s];c<m.length;c+=1){var g=m[c];a(g.value)||l.push(g)}for(var b=0,w=l;b<w.length;b+=1){var E=w[b];this.remove(E.value.tileID,E)}};var wr=function(a,l,s){this.context=a;var c=a.gl;this.buffer=c.createBuffer(),this.dynamicDraw=!!s,this.context.unbindVAO(),a.bindElementBuffer.set(this.buffer),c.bufferData(c.ELEMENT_ARRAY_BUFFER,l.arrayBuffer,this.dynamicDraw?c.DYNAMIC_DRAW:c.STATIC_DRAW),this.dynamicDraw||delete l.arrayBuffer};wr.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},wr.prototype.updateData=function(a){var l=this.context.gl;this.context.unbindVAO(),this.bind(),l.bufferSubData(l.ELEMENT_ARRAY_BUFFER,0,a.arrayBuffer)},wr.prototype.destroy=function(){var a=this.context.gl;this.buffer&&(a.deleteBuffer(this.buffer),delete this.buffer)};var oo={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Ta=function(a,l,s,c){this.length=l.length,this.attributes=s,this.itemSize=l.bytesPerElement,this.dynamicDraw=c,this.context=a;var m=a.gl;this.buffer=m.createBuffer(),a.bindVertexBuffer.set(this.buffer),m.bufferData(m.ARRAY_BUFFER,l.arrayBuffer,this.dynamicDraw?m.DYNAMIC_DRAW:m.STATIC_DRAW),this.dynamicDraw||delete l.arrayBuffer};Ta.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Ta.prototype.updateData=function(a){var l=this.context.gl;this.bind(),l.bufferSubData(l.ARRAY_BUFFER,0,a.arrayBuffer)},Ta.prototype.enableAttributes=function(a,l){for(var s=0;s<this.attributes.length;s++){var c=this.attributes[s],m=l.attributes[c.name];m!==void 0&&a.enableVertexAttribArray(m)}},Ta.prototype.setVertexAttribPointers=function(a,l,s){for(var c=0;c<this.attributes.length;c++){var m=this.attributes[c],g=l.attributes[m.name];g!==void 0&&a.vertexAttribPointer(g,m.components,a[oo[m.type]],!1,this.itemSize,m.offset+this.itemSize*(s||0))}},Ta.prototype.destroy=function(){var a=this.context.gl;this.buffer&&(a.deleteBuffer(this.buffer),delete this.buffer)};var Fe=function(a){this.gl=a.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};Fe.prototype.get=function(){return this.current},Fe.prototype.set=function(a){},Fe.prototype.getDefault=function(){return this.default},Fe.prototype.setDefault=function(){this.set(this.default)};var lr=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){return h.Color.transparent},l.prototype.set=function(s){var c=this.current;(s.r!==c.r||s.g!==c.g||s.b!==c.b||s.a!==c.a||this.dirty)&&(this.gl.clearColor(s.r,s.g,s.b,s.a),this.current=s,this.dirty=!1)},l})(Fe),To=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){return 1},l.prototype.set=function(s){(s!==this.current||this.dirty)&&(this.gl.clearDepth(s),this.current=s,this.dirty=!1)},l})(Fe),Na=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){return 0},l.prototype.set=function(s){(s!==this.current||this.dirty)&&(this.gl.clearStencil(s),this.current=s,this.dirty=!1)},l})(Fe),mc=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){return[!0,!0,!0,!0]},l.prototype.set=function(s){var c=this.current;(s[0]!==c[0]||s[1]!==c[1]||s[2]!==c[2]||s[3]!==c[3]||this.dirty)&&(this.gl.colorMask(s[0],s[1],s[2],s[3]),this.current=s,this.dirty=!1)},l})(Fe),Zr=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){return!0},l.prototype.set=function(s){(s!==this.current||this.dirty)&&(this.gl.depthMask(s),this.current=s,this.dirty=!1)},l})(Fe),On=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){return 255},l.prototype.set=function(s){(s!==this.current||this.dirty)&&(this.gl.stencilMask(s),this.current=s,this.dirty=!1)},l})(Fe),ks=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},l.prototype.set=function(s){var c=this.current;(s.func!==c.func||s.ref!==c.ref||s.mask!==c.mask||this.dirty)&&(this.gl.stencilFunc(s.func,s.ref,s.mask),this.current=s,this.dirty=!1)},l})(Fe),pa=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){var s=this.gl;return[s.KEEP,s.KEEP,s.KEEP]},l.prototype.set=function(s){var c=this.current;(s[0]!==c[0]||s[1]!==c[1]||s[2]!==c[2]||this.dirty)&&(this.gl.stencilOp(s[0],s[1],s[2]),this.current=s,this.dirty=!1)},l})(Fe),ha=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){return!1},l.prototype.set=function(s){if(s!==this.current||this.dirty){var c=this.gl;s?c.enable(c.STENCIL_TEST):c.disable(c.STENCIL_TEST),this.current=s,this.dirty=!1}},l})(Fe),$o=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){return[0,1]},l.prototype.set=function(s){var c=this.current;(s[0]!==c[0]||s[1]!==c[1]||this.dirty)&&(this.gl.depthRange(s[0],s[1]),this.current=s,this.dirty=!1)},l})(Fe),Wn=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){return!1},l.prototype.set=function(s){if(s!==this.current||this.dirty){var c=this.gl;s?c.enable(c.DEPTH_TEST):c.disable(c.DEPTH_TEST),this.current=s,this.dirty=!1}},l})(Fe),ts=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){return this.gl.LESS},l.prototype.set=function(s){(s!==this.current||this.dirty)&&(this.gl.depthFunc(s),this.current=s,this.dirty=!1)},l})(Fe),Ao=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){return!1},l.prototype.set=function(s){if(s!==this.current||this.dirty){var c=this.gl;s?c.enable(c.BLEND):c.disable(c.BLEND),this.current=s,this.dirty=!1}},l})(Fe),Is=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){var s=this.gl;return[s.ONE,s.ZERO]},l.prototype.set=function(s){var c=this.current;(s[0]!==c[0]||s[1]!==c[1]||this.dirty)&&(this.gl.blendFunc(s[0],s[1]),this.current=s,this.dirty=!1)},l})(Fe),es=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){return h.Color.transparent},l.prototype.set=function(s){var c=this.current;(s.r!==c.r||s.g!==c.g||s.b!==c.b||s.a!==c.a||this.dirty)&&(this.gl.blendColor(s.r,s.g,s.b,s.a),this.current=s,this.dirty=!1)},l})(Fe),yu=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){return this.gl.FUNC_ADD},l.prototype.set=function(s){(s!==this.current||this.dirty)&&(this.gl.blendEquation(s),this.current=s,this.dirty=!1)},l})(Fe),so=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){return!1},l.prototype.set=function(s){if(s!==this.current||this.dirty){var c=this.gl;s?c.enable(c.CULL_FACE):c.disable(c.CULL_FACE),this.current=s,this.dirty=!1}},l})(Fe),zo=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){return this.gl.BACK},l.prototype.set=function(s){(s!==this.current||this.dirty)&&(this.gl.cullFace(s),this.current=s,this.dirty=!1)},l})(Fe),Bs=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){return this.gl.CCW},l.prototype.set=function(s){(s!==this.current||this.dirty)&&(this.gl.frontFace(s),this.current=s,this.dirty=!1)},l})(Fe),lo=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){return null},l.prototype.set=function(s){(s!==this.current||this.dirty)&&(this.gl.useProgram(s),this.current=s,this.dirty=!1)},l})(Fe),ur=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){return this.gl.TEXTURE0},l.prototype.set=function(s){(s!==this.current||this.dirty)&&(this.gl.activeTexture(s),this.current=s,this.dirty=!1)},l})(Fe),Rr=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){var s=this.gl;return[0,0,s.drawingBufferWidth,s.drawingBufferHeight]},l.prototype.set=function(s){var c=this.current;(s[0]!==c[0]||s[1]!==c[1]||s[2]!==c[2]||s[3]!==c[3]||this.dirty)&&(this.gl.viewport(s[0],s[1],s[2],s[3]),this.current=s,this.dirty=!1)},l})(Fe),cr=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){return null},l.prototype.set=function(s){if(s!==this.current||this.dirty){var c=this.gl;c.bindFramebuffer(c.FRAMEBUFFER,s),this.current=s,this.dirty=!1}},l})(Fe),xl=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){return null},l.prototype.set=function(s){if(s!==this.current||this.dirty){var c=this.gl;c.bindRenderbuffer(c.RENDERBUFFER,s),this.current=s,this.dirty=!1}},l})(Fe),fa=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){return null},l.prototype.set=function(s){if(s!==this.current||this.dirty){var c=this.gl;c.bindTexture(c.TEXTURE_2D,s),this.current=s,this.dirty=!1}},l})(Fe),vu=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){return null},l.prototype.set=function(s){if(s!==this.current||this.dirty){var c=this.gl;c.bindBuffer(c.ARRAY_BUFFER,s),this.current=s,this.dirty=!1}},l})(Fe),uo=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){return null},l.prototype.set=function(s){var c=this.gl;c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,s),this.current=s,this.dirty=!1},l})(Fe),is=(function(a){function l(s){a.call(this,s),this.vao=s.extVertexArrayObject}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){return null},l.prototype.set=function(s){this.vao&&(s!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(s),this.current=s,this.dirty=!1)},l})(Fe),Fa=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){return 4},l.prototype.set=function(s){if(s!==this.current||this.dirty){var c=this.gl;c.pixelStorei(c.UNPACK_ALIGNMENT,s),this.current=s,this.dirty=!1}},l})(Fe),Gr=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){return!1},l.prototype.set=function(s){if(s!==this.current||this.dirty){var c=this.gl;c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s),this.current=s,this.dirty=!1}},l})(Fe),co=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){return!1},l.prototype.set=function(s){if(s!==this.current||this.dirty){var c=this.gl;c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,s),this.current=s,this.dirty=!1}},l})(Fe),da=(function(a){function l(s,c){a.call(this,s),this.context=s,this.parent=c}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getDefault=function(){return null},l})(Fe),bl=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.setDirty=function(){this.dirty=!0},l.prototype.set=function(s){if(s!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var c=this.gl;c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,s,0),this.current=s,this.dirty=!1}},l})(da),ns=(function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.set=function(s){if(s!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var c=this.gl;c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,s),this.current=s,this.dirty=!1}},l})(da),po=function(a,l,s){this.context=a,this.width=l,this.height=s;var c=a.gl,m=this.framebuffer=c.createFramebuffer();this.colorAttachment=new bl(a,m),this.depthAttachment=new ns(a,m)};po.prototype.destroy=function(){var a=this.context.gl,l=this.colorAttachment.get();l&&a.deleteTexture(l);var s=this.depthAttachment.get();s&&a.deleteRenderbuffer(s),a.deleteFramebuffer(this.framebuffer)};var oi=function(a,l,s){this.func=a,this.mask=l,this.range=s};oi.ReadOnly=!1,oi.ReadWrite=!0,oi.disabled=new oi(519,oi.ReadOnly,[0,1]);var gn=function(a,l,s,c,m,g){this.test=a,this.ref=l,this.mask=s,this.fail=c,this.depthFail=m,this.pass=g};gn.disabled=new gn({func:519,mask:0},0,0,7680,7680,7680);var Xi=function(a,l,s){this.blendFunction=a,this.blendColor=l,this.mask=s};Xi.disabled=new Xi(Xi.Replace=[1,0],h.Color.transparent,[!1,!1,!1,!1]),Xi.unblended=new Xi(Xi.Replace,h.Color.transparent,[!0,!0,!0,!0]),Xi.alphaBlended=new Xi([1,771],h.Color.transparent,[!0,!0,!0,!0]);var zt=function(a,l,s){this.enable=a,this.mode=l,this.frontFace=s};zt.disabled=new zt(!1,1029,2305),zt.backCCW=new zt(!0,1029,2305);var Jt=function(a){this.gl=a,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new lr(this),this.clearDepth=new To(this),this.clearStencil=new Na(this),this.colorMask=new mc(this),this.depthMask=new Zr(this),this.stencilMask=new On(this),this.stencilFunc=new ks(this),this.stencilOp=new pa(this),this.stencilTest=new ha(this),this.depthRange=new $o(this),this.depthTest=new Wn(this),this.depthFunc=new ts(this),this.blend=new Ao(this),this.blendFunc=new Is(this),this.blendColor=new es(this),this.blendEquation=new yu(this),this.cullFace=new so(this),this.cullFaceSide=new zo(this),this.frontFace=new Bs(this),this.program=new lo(this),this.activeTexture=new ur(this),this.viewport=new Rr(this),this.bindFramebuffer=new cr(this),this.bindRenderbuffer=new xl(this),this.bindTexture=new fa(this),this.bindVertexBuffer=new vu(this),this.bindElementBuffer=new uo(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new is(this),this.pixelStoreUnpack=new Fa(this),this.pixelStoreUnpackPremultiplyAlpha=new Gr(this),this.pixelStoreUnpackFlipY=new co(this),this.extTextureFilterAnisotropic=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=a.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=a.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&a.getExtension("OES_texture_half_float_linear"),this.extTimerQuery=a.getExtension("EXT_disjoint_timer_query")};Jt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Jt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Jt.prototype.createIndexBuffer=function(a,l){return new wr(this,a,l)},Jt.prototype.createVertexBuffer=function(a,l,s){return new Ta(this,a,l,s)},Jt.prototype.createRenderbuffer=function(a,l,s){var c=this.gl,m=c.createRenderbuffer();return this.bindRenderbuffer.set(m),c.renderbufferStorage(c.RENDERBUFFER,a,l,s),this.bindRenderbuffer.set(null),m},Jt.prototype.createFramebuffer=function(a,l){return new po(this,a,l)},Jt.prototype.clear=function(a){var l=a.color,s=a.depth,c=this.gl,m=0;l&&(m|=c.COLOR_BUFFER_BIT,this.clearColor.set(l),this.colorMask.set([!0,!0,!0,!0])),s!==void 0&&(m|=c.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(s),this.depthMask.set(!0)),c.clear(m)},Jt.prototype.setCullFace=function(a){a.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(a.mode),this.frontFace.set(a.frontFace))},Jt.prototype.setDepthMode=function(a){a.func!==this.gl.ALWAYS||a.mask?(this.depthTest.set(!0),this.depthFunc.set(a.func),this.depthMask.set(a.mask),this.depthRange.set(a.range)):this.depthTest.set(!1)},Jt.prototype.setStencilMode=function(a){a.test.func!==this.gl.ALWAYS||a.mask?(this.stencilTest.set(!0),this.stencilMask.set(a.mask),this.stencilOp.set([a.fail,a.depthFail,a.pass]),this.stencilFunc.set({func:a.test.func,ref:a.ref,mask:a.test.mask})):this.stencilTest.set(!1)},Jt.prototype.setColorMode=function(a){h.deepEqual(a.blendFunction,Xi.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(a.blendFunction),this.blendColor.set(a.blendColor)),this.colorMask.set(a.mask)},Jt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var ma=(function(a){function l(s,c,m){var g=this;a.call(this),this.id=s,this.dispatcher=m,this.on("data",(function(b){b.dataType==="source"&&b.sourceDataType==="metadata"&&(g._sourceLoaded=!0),g._sourceLoaded&&!g._paused&&b.dataType==="source"&&b.sourceDataType==="content"&&(g.reload(),g.transform&&g.update(g.transform))})),this.on("error",(function(){g._sourceErrored=!0})),this._source=(function(b,w,E,L){var R=new je[w.type](b,w,E,L);if(R.id!==b)throw new Error("Expected Source id to be "+b+" instead of "+R.id);return h.bindAll(["load","abort","unload","serialize","prepare"],R),R})(s,c,m,this),this._tiles={},this._cache=new fi(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new h.SourceFeatureState}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.onAdd=function(s){this.map=s,this._maxTileCacheSize=s?s._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(s)},l.prototype.onRemove=function(s){this._source&&this._source.onRemove&&this._source.onRemove(s)},l.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var s in this._tiles){var c=this._tiles[s];if(c.state!=="loaded"&&c.state!=="errored")return!1}return!0},l.prototype.getSource=function(){return this._source},l.prototype.pause=function(){this._paused=!0},l.prototype.resume=function(){if(this._paused){var s=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,s&&this.reload(),this.transform&&this.update(this.transform)}},l.prototype._loadTile=function(s,c){return this._source.loadTile(s,c)},l.prototype._unloadTile=function(s){if(this._source.unloadTile)return this._source.unloadTile(s,(function(){}))},l.prototype._abortTile=function(s){if(this._source.abortTile)return this._source.abortTile(s,(function(){}))},l.prototype.serialize=function(){return this._source.serialize()},l.prototype.prepare=function(s){for(var c in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var m=this._tiles[c];m.upload(s),m.prepare(this.map.style.imageManager)}},l.prototype.getIds=function(){return Object.values(this._tiles).map((function(s){return s.tileID})).sort(Aa).map((function(s){return s.key}))},l.prototype.getRenderableIds=function(s){var c=this,m=[];for(var g in this._tiles)this._isIdRenderable(g,s)&&m.push(this._tiles[g]);return s?m.sort((function(b,w){var E=b.tileID,L=w.tileID,R=new h.Point(E.canonical.x,E.canonical.y)._rotate(c.transform.angle),N=new h.Point(L.canonical.x,L.canonical.y)._rotate(c.transform.angle);return E.overscaledZ-L.overscaledZ||N.y-R.y||N.x-R.x})).map((function(b){return b.tileID.key})):m.map((function(b){return b.tileID})).sort(Aa).map((function(b){return b.key}))},l.prototype.hasRenderableParent=function(s){var c=this.findLoadedParent(s,0);return!!c&&this._isIdRenderable(c.tileID.key)},l.prototype._isIdRenderable=function(s,c){return this._tiles[s]&&this._tiles[s].hasData()&&!this._coveredTiles[s]&&(c||!this._tiles[s].holdingForFade())},l.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var s in this._cache.reset(),this._tiles)this._tiles[s].state!=="errored"&&this._reloadTile(s,"reloading")},l.prototype._reloadTile=function(s,c){var m=this._tiles[s];m&&(m.state!=="loading"&&(m.state=c),this._loadTile(m,this._tileLoaded.bind(this,m,s,c)))},l.prototype._tileLoaded=function(s,c,m,g){if(g)return s.state="errored",void(g.status!==404?this._source.fire(new h.ErrorEvent(g,{tile:s})):this.update(this.transform));s.timeAdded=h.browser.now(),m==="expired"&&(s.refreshedUponExpiration=!0),this._setTileReloadTimer(c,s),this.getSource().type==="raster-dem"&&s.dem&&this._backfillDEM(s),this._state.initializeTileState(s,this.map?this.map.painter:null),this._source.fire(new h.Event("data",{dataType:"source",tile:s,coord:s.tileID}))},l.prototype._backfillDEM=function(s){for(var c=this.getRenderableIds(),m=0;m<c.length;m++){var g=c[m];if(s.neighboringTiles&&s.neighboringTiles[g]){var b=this.getTileByID(g);w(s,b),w(b,s)}}function w(E,L){E.needsHillshadePrepare=!0;var R=L.tileID.canonical.x-E.tileID.canonical.x,N=L.tileID.canonical.y-E.tileID.canonical.y,Y=Math.pow(2,E.tileID.canonical.z),H=L.tileID.key;R===0&&N===0||Math.abs(N)>1||(Math.abs(R)>1&&(Math.abs(R+Y)===1?R+=Y:Math.abs(R-Y)===1&&(R-=Y)),L.dem&&E.dem&&(E.dem.backfillBorder(L.dem,R,N),E.neighboringTiles&&E.neighboringTiles[H]&&(E.neighboringTiles[H].backfilled=!0)))}},l.prototype.getTile=function(s){return this.getTileByID(s.key)},l.prototype.getTileByID=function(s){return this._tiles[s]},l.prototype._retainLoadedChildren=function(s,c,m,g){for(var b in this._tiles){var w=this._tiles[b];if(!(g[b]||!w.hasData()||w.tileID.overscaledZ<=c||w.tileID.overscaledZ>m)){for(var E=w.tileID;w&&w.tileID.overscaledZ>c+1;){var L=w.tileID.scaledTo(w.tileID.overscaledZ-1);(w=this._tiles[L.key])&&w.hasData()&&(E=L)}for(var R=E;R.overscaledZ>c;)if(s[(R=R.scaledTo(R.overscaledZ-1)).key]){g[E.key]=E;break}}}},l.prototype.findLoadedParent=function(s,c){if(s.key in this._loadedParentTiles){var m=this._loadedParentTiles[s.key];return m&&m.tileID.overscaledZ>=c?m:null}for(var g=s.overscaledZ-1;g>=c;g--){var b=s.scaledTo(g),w=this._getLoadedTile(b);if(w)return w}},l.prototype._getLoadedTile=function(s){var c=this._tiles[s.key];return c&&c.hasData()?c:this._cache.getByKey(s.wrapped().key)},l.prototype.updateCacheSize=function(s){var c=(Math.ceil(s.width/this._source.tileSize)+1)*(Math.ceil(s.height/this._source.tileSize)+1),m=Math.floor(5*c),g=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,m):m;this._cache.setMaxSize(g)},l.prototype.handleWrapJump=function(s){var c=(s-(this._prevLng===void 0?s:this._prevLng))/360,m=Math.round(c);if(this._prevLng=s,m){var g={};for(var b in this._tiles){var w=this._tiles[b];w.tileID=w.tileID.unwrapTo(w.tileID.wrap+m),g[w.tileID.key]=w}for(var E in this._tiles=g,this._timers)clearTimeout(this._timers[E]),delete this._timers[E];for(var L in this._tiles){var R=this._tiles[L];this._setTileReloadTimer(L,R)}}},l.prototype.update=function(s){var c=this;if(this.transform=s,this._sourceLoaded&&!this._paused){var m;this.updateCacheSize(s),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?m=s.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(Bt){return new h.OverscaledTileID(Bt.canonical.z,Bt.wrap,Bt.canonical.z,Bt.canonical.x,Bt.canonical.y)})):(m=s.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(m=m.filter((function(Bt){return c._source.hasTile(Bt)})))):m=[];var g=s.coveringZoomLevel(this._source),b=Math.max(g-l.maxOverzooming,this._source.minzoom),w=Math.max(g+l.maxUnderzooming,this._source.minzoom),E=this._updateRetainedTiles(m,g);if(pn(this._source.type)){for(var L={},R={},N=0,Y=Object.keys(E);N<Y.length;N+=1){var H=Y[N],X=E[H],Z=this._tiles[H];if(Z&&!(Z.fadeEndTime&&Z.fadeEndTime<=h.browser.now())){var at=this.findLoadedParent(X,b);at&&(this._addTile(at.tileID),L[at.tileID.key]=at.tileID),R[H]=X}}for(var tt in this._retainLoadedChildren(R,g,w,E),L)E[tt]||(this._coveredTiles[tt]=!0,E[tt]=L[tt])}for(var ht in E)this._tiles[ht].clearFadeHold();for(var ct=0,ft=h.keysDifference(this._tiles,E);ct<ft.length;ct+=1){var wt=ft[ct],Mt=this._tiles[wt];Mt.hasSymbolBuckets&&!Mt.holdingForFade()?Mt.setHoldDuration(this.map._fadeDuration):Mt.hasSymbolBuckets&&!Mt.symbolFadeFinished()||this._removeTile(wt)}this._updateLoadedParentTileCache()}},l.prototype.releaseSymbolFadeTiles=function(){for(var s in this._tiles)this._tiles[s].holdingForFade()&&this._removeTile(s)},l.prototype._updateRetainedTiles=function(s,c){for(var m={},g={},b=Math.max(c-l.maxOverzooming,this._source.minzoom),w=Math.max(c+l.maxUnderzooming,this._source.minzoom),E={},L=0,R=s;L<R.length;L+=1){var N=R[L],Y=this._addTile(N);m[N.key]=N,Y.hasData()||c<this._source.maxzoom&&(E[N.key]=N)}this._retainLoadedChildren(E,c,w,m);for(var H=0,X=s;H<X.length;H+=1){var Z=X[H],at=this._tiles[Z.key];if(!at.hasData()){if(c+1>this._source.maxzoom){var tt=Z.children(this._source.maxzoom)[0],ht=this.getTile(tt);if(ht&&ht.hasData()){m[tt.key]=tt;continue}}else{var ct=Z.children(this._source.maxzoom);if(m[ct[0].key]&&m[ct[1].key]&&m[ct[2].key]&&m[ct[3].key])continue}for(var ft=at.wasRequested(),wt=Z.overscaledZ-1;wt>=b;--wt){var Mt=Z.scaledTo(wt);if(g[Mt.key]||(g[Mt.key]=!0,!(at=this.getTile(Mt))&&ft&&(at=this._addTile(Mt)),at&&(m[Mt.key]=Mt,ft=at.wasRequested(),at.hasData())))break}}}return m},l.prototype._updateLoadedParentTileCache=function(){for(var s in this._loadedParentTiles={},this._tiles){for(var c=[],m=void 0,g=this._tiles[s].tileID;g.overscaledZ>0;){if(g.key in this._loadedParentTiles){m=this._loadedParentTiles[g.key];break}c.push(g.key);var b=g.scaledTo(g.overscaledZ-1);if(m=this._getLoadedTile(b))break;g=b}for(var w=0,E=c;w<E.length;w+=1){var L=E[w];this._loadedParentTiles[L]=m}}},l.prototype._addTile=function(s){var c=this._tiles[s.key];if(c)return c;(c=this._cache.getAndRemove(s))&&(this._setTileReloadTimer(s.key,c),c.tileID=s,this._state.initializeTileState(c,this.map?this.map.painter:null),this._cacheTimers[s.key]&&(clearTimeout(this._cacheTimers[s.key]),delete this._cacheTimers[s.key],this._setTileReloadTimer(s.key,c)));var m=!!c;return m||(c=new h.Tile(s,this._source.tileSize*s.overscaleFactor()),this._loadTile(c,this._tileLoaded.bind(this,c,s.key,c.state))),c?(c.uses++,this._tiles[s.key]=c,m||this._source.fire(new h.Event("dataloading",{tile:c,coord:c.tileID,dataType:"source"})),c):null},l.prototype._setTileReloadTimer=function(s,c){var m=this;s in this._timers&&(clearTimeout(this._timers[s]),delete this._timers[s]);var g=c.getExpiryTimeout();g&&(this._timers[s]=setTimeout((function(){m._reloadTile(s,"expired"),delete m._timers[s]}),g))},l.prototype._removeTile=function(s){var c=this._tiles[s];c&&(c.uses--,delete this._tiles[s],this._timers[s]&&(clearTimeout(this._timers[s]),delete this._timers[s]),c.uses>0||(c.hasData()&&c.state!=="reloading"?this._cache.add(c.tileID,c,c.getExpiryTimeout()):(c.aborted=!0,this._abortTile(c),this._unloadTile(c))))},l.prototype.clearTiles=function(){for(var s in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(s);this._cache.reset()},l.prototype.tilesIn=function(s,c,m){var g=this,b=[],w=this.transform;if(!w)return b;for(var E=m?w.getCameraQueryGeometry(s):s,L=s.map((function(wt){return w.pointCoordinate(wt)})),R=E.map((function(wt){return w.pointCoordinate(wt)})),N=this.getIds(),Y=1/0,H=1/0,X=-1/0,Z=-1/0,at=0,tt=R;at<tt.length;at+=1){var ht=tt[at];Y=Math.min(Y,ht.x),H=Math.min(H,ht.y),X=Math.max(X,ht.x),Z=Math.max(Z,ht.y)}for(var ct=function(wt){var Mt=g._tiles[N[wt]];if(!Mt.holdingForFade()){var Bt=Mt.tileID,ee=Math.pow(2,w.zoom-Mt.tileID.overscaledZ),Kt=c*Mt.queryPadding*h.EXTENT/Mt.tileSize/ee,le=[Bt.getTilePoint(new h.MercatorCoordinate(Y,H)),Bt.getTilePoint(new h.MercatorCoordinate(X,Z))];if(le[0].x-Kt<h.EXTENT&&le[0].y-Kt<h.EXTENT&&le[1].x+Kt>=0&&le[1].y+Kt>=0){var Yt=L.map((function(Qt){return Bt.getTilePoint(Qt)})),ye=R.map((function(Qt){return Bt.getTilePoint(Qt)}));b.push({tile:Mt,tileID:Bt,queryGeometry:Yt,cameraQueryGeometry:ye,scale:ee})}}},ft=0;ft<N.length;ft++)ct(ft);return b},l.prototype.getVisibleCoordinates=function(s){for(var c=this,m=this.getRenderableIds(s).map((function(E){return c._tiles[E].tileID})),g=0,b=m;g<b.length;g+=1){var w=b[g];w.posMatrix=this.transform.calculatePosMatrix(w.toUnwrapped())}return m},l.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(pn(this._source.type))for(var s in this._tiles){var c=this._tiles[s];if(c.fadeEndTime!==void 0&&c.fadeEndTime>=h.browser.now())return!0}return!1},l.prototype.setFeatureState=function(s,c,m){s=s||"_geojsonTileLayer",this._state.updateState(s,c,m)},l.prototype.removeFeatureState=function(s,c,m){s=s||"_geojsonTileLayer",this._state.removeFeatureState(s,c,m)},l.prototype.getFeatureState=function(s,c){return s=s||"_geojsonTileLayer",this._state.getState(s,c)},l.prototype.setDependencies=function(s,c,m){var g=this._tiles[s];g&&g.setDependencies(c,m)},l.prototype.reloadTilesForDependencies=function(s,c){for(var m in this._tiles)this._tiles[m].hasDependency(s,c)&&this._reloadTile(m,"reloading");this._cache.filter((function(g){return!g.hasDependency(s,c)}))},l})(h.Evented);function Aa(a,l){var s=Math.abs(2*a.wrap)-+(a.wrap<0),c=Math.abs(2*l.wrap)-+(l.wrap<0);return a.overscaledZ-l.overscaledZ||c-s||l.canonical.y-a.canonical.y||l.canonical.x-a.canonical.x}function pn(a){return a==="raster"||a==="image"||a==="video"}function Vi(){return new h.window.Worker(_r.workerUrl)}ma.maxOverzooming=10,ma.maxUnderzooming=3;var z=function(){this.active={}};z.prototype.acquire=function(a){if(!this.workers)for(this.workers=[];this.workers.length<z.workerCount;)this.workers.push(new Vi);return this.active[a]=!0,this.workers.slice()},z.prototype.release=function(a){delete this.active[a],Object.keys(this.active).length===0&&(this.workers.forEach((function(l){l.terminate()})),this.workers=null)};var D,k=Math.floor(h.browser.hardwareConcurrency/2);function O(a,l){var s={};for(var c in a)c!=="ref"&&(s[c]=a[c]);return h.refProperties.forEach((function(m){m in l&&(s[m]=l[m])})),s}function K(a){a=a.slice();for(var l=Object.create(null),s=0;s<a.length;s++)l[a[s].id]=a[s];for(var c=0;c<a.length;c++)"ref"in a[c]&&(a[c]=O(a[c],l[a[c].ref]));return a}z.workerCount=Math.max(Math.min(k,6),1);var Q={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function ut(a,l,s){s.push({command:Q.addSource,args:[a,l[a]]})}function ot(a,l,s){l.push({command:Q.removeSource,args:[a]}),s[a]=!0}function nt(a,l,s,c){ot(a,s,c),ut(a,l,s)}function dt(a,l,s){var c;for(c in a[s])if(a[s].hasOwnProperty(c)&&c!=="data"&&!h.deepEqual(a[s][c],l[s][c]))return!1;for(c in l[s])if(l[s].hasOwnProperty(c)&&c!=="data"&&!h.deepEqual(a[s][c],l[s][c]))return!1;return!0}function Dt(a,l,s,c,m,g){var b;for(b in l=l||{},a=a||{})a.hasOwnProperty(b)&&(h.deepEqual(a[b],l[b])||s.push({command:g,args:[c,b,l[b],m]}));for(b in l)l.hasOwnProperty(b)&&!a.hasOwnProperty(b)&&(h.deepEqual(a[b],l[b])||s.push({command:g,args:[c,b,l[b],m]}))}function Nt(a){return a.id}function At(a,l){return a[l.id]=l,a}function Ft(a,l){if(!a)return[{command:Q.setStyle,args:[l]}];var s=[];try{if(!h.deepEqual(a.version,l.version))return[{command:Q.setStyle,args:[l]}];h.deepEqual(a.center,l.center)||s.push({command:Q.setCenter,args:[l.center]}),h.deepEqual(a.zoom,l.zoom)||s.push({command:Q.setZoom,args:[l.zoom]}),h.deepEqual(a.bearing,l.bearing)||s.push({command:Q.setBearing,args:[l.bearing]}),h.deepEqual(a.pitch,l.pitch)||s.push({command:Q.setPitch,args:[l.pitch]}),h.deepEqual(a.sprite,l.sprite)||s.push({command:Q.setSprite,args:[l.sprite]}),h.deepEqual(a.glyphs,l.glyphs)||s.push({command:Q.setGlyphs,args:[l.glyphs]}),h.deepEqual(a.transition,l.transition)||s.push({command:Q.setTransition,args:[l.transition]}),h.deepEqual(a.light,l.light)||s.push({command:Q.setLight,args:[l.light]});var c={},m=[];(function(b,w,E,L){var R;for(R in w=w||{},b=b||{})b.hasOwnProperty(R)&&(w.hasOwnProperty(R)||ot(R,E,L));for(R in w)w.hasOwnProperty(R)&&(b.hasOwnProperty(R)?h.deepEqual(b[R],w[R])||(b[R].type==="geojson"&&w[R].type==="geojson"&&dt(b,w,R)?E.push({command:Q.setGeoJSONSourceData,args:[R,w[R].data]}):nt(R,w,E,L)):ut(R,w,E))})(a.sources,l.sources,m,c);var g=[];a.layers&&a.layers.forEach((function(b){c[b.source]?s.push({command:Q.removeLayer,args:[b.id]}):g.push(b)})),s=s.concat(m),(function(b,w,E){w=w||[];var L,R,N,Y,H,X,Z,at=(b=b||[]).map(Nt),tt=w.map(Nt),ht=b.reduce(At,{}),ct=w.reduce(At,{}),ft=at.slice(),wt=Object.create(null);for(L=0,R=0;L<at.length;L++)N=at[L],ct.hasOwnProperty(N)?R++:(E.push({command:Q.removeLayer,args:[N]}),ft.splice(ft.indexOf(N,R),1));for(L=0,R=0;L<tt.length;L++)N=tt[tt.length-1-L],ft[ft.length-1-L]!==N&&(ht.hasOwnProperty(N)?(E.push({command:Q.removeLayer,args:[N]}),ft.splice(ft.lastIndexOf(N,ft.length-R),1)):R++,X=ft[ft.length-L],E.push({command:Q.addLayer,args:[ct[N],X]}),ft.splice(ft.length-L,0,N),wt[N]=!0);for(L=0;L<tt.length;L++)if(Y=ht[N=tt[L]],H=ct[N],!wt[N]&&!h.deepEqual(Y,H))if(h.deepEqual(Y.source,H.source)&&h.deepEqual(Y["source-layer"],H["source-layer"])&&h.deepEqual(Y.type,H.type)){for(Z in Dt(Y.layout,H.layout,E,N,null,Q.setLayoutProperty),Dt(Y.paint,H.paint,E,N,null,Q.setPaintProperty),h.deepEqual(Y.filter,H.filter)||E.push({command:Q.setFilter,args:[N,H.filter]}),h.deepEqual(Y.minzoom,H.minzoom)&&h.deepEqual(Y.maxzoom,H.maxzoom)||E.push({command:Q.setLayerZoomRange,args:[N,H.minzoom,H.maxzoom]}),Y)Y.hasOwnProperty(Z)&&Z!=="layout"&&Z!=="paint"&&Z!=="filter"&&Z!=="metadata"&&Z!=="minzoom"&&Z!=="maxzoom"&&(Z.indexOf("paint.")===0?Dt(Y[Z],H[Z],E,N,Z.slice(6),Q.setPaintProperty):h.deepEqual(Y[Z],H[Z])||E.push({command:Q.setLayerProperty,args:[N,Z,H[Z]]}));for(Z in H)H.hasOwnProperty(Z)&&!Y.hasOwnProperty(Z)&&Z!=="layout"&&Z!=="paint"&&Z!=="filter"&&Z!=="metadata"&&Z!=="minzoom"&&Z!=="maxzoom"&&(Z.indexOf("paint.")===0?Dt(Y[Z],H[Z],E,N,Z.slice(6),Q.setPaintProperty):h.deepEqual(Y[Z],H[Z])||E.push({command:Q.setLayerProperty,args:[N,Z,H[Z]]}))}else E.push({command:Q.removeLayer,args:[N]}),X=ft[ft.lastIndexOf(N)+1],E.push({command:Q.addLayer,args:[H,X]})})(g,l.layers,s)}catch(b){console.warn("Unable to compute style diff:",b),s=[{command:Q.setStyle,args:[l]}]}return s}var jt=function(a,l,s){var c=this.boxCells=[],m=this.circleCells=[];this.xCellCount=Math.ceil(a/s),this.yCellCount=Math.ceil(l/s);for(var g=0;g<this.xCellCount*this.yCellCount;g++)c.push([]),m.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=a,this.height=l,this.xScale=this.xCellCount/a,this.yScale=this.yCellCount/l,this.boxUid=0,this.circleUid=0};function ae(a,l,s,c,m){var g=h.create();return l?(h.scale(g,g,[1/m,1/m,1]),s||h.rotateZ(g,g,c.angle)):h.multiply(g,c.labelPlaneMatrix,a),g}function de(a,l,s,c,m){if(l){var g=h.clone(a);return h.scale(g,g,[m,m,1]),s||h.rotateZ(g,g,-c.angle),g}return c.glCoordMatrix}function Ht(a,l){var s=[a.x,a.y,0,1];$n(s,s,l);var c=s[3];return{point:new h.Point(s[0]/c,s[1]/c),signedDistanceFromCamera:c}}function De(a,l){var s=a[0]/a[3],c=a[1]/a[3];return s>=-l[0]&&s<=l[0]&&c>=-l[1]&&c<=l[1]}function We(a,l,s,c,m,g,b,w){var E=c?a.textSizeData:a.iconSizeData,L=h.evaluateSizeForZoom(E,s.transform.zoom),R=[256/s.width*2+1,256/s.height*2+1],N=c?a.text.dynamicLayoutVertexArray:a.icon.dynamicLayoutVertexArray;N.clear();for(var Y=a.lineVertexArray,H=c?a.text.placedSymbolArray:a.icon.placedSymbolArray,X=s.transform.width/s.transform.height,Z=!1,at=0;at<H.length;at++){var tt=H.get(at);if(tt.hidden||tt.writingMode===h.WritingMode.vertical&&!Z)Ve(tt.numGlyphs,N);else{Z=!1;var ht=[tt.anchorX,tt.anchorY,0,1];if(h.transformMat4(ht,ht,l),De(ht,R)){var ct=.5+ht[3]/s.transform.cameraToCenterDistance*.5,ft=h.evaluateSizeForFeature(E,L,tt),wt=b?ft*ct:ft/ct,Mt=new h.Point(tt.anchorX,tt.anchorY),Bt=Ht(Mt,m).point,ee={},Kt=Ri(tt,wt,!1,w,l,m,g,a.glyphOffsetArray,Y,N,Bt,Mt,ee,X);Z=Kt.useVertical,(Kt.notEnoughRoom||Z||Kt.needsFlipping&&Ri(tt,wt,!0,w,l,m,g,a.glyphOffsetArray,Y,N,Bt,Mt,ee,X).notEnoughRoom)&&Ve(tt.numGlyphs,N)}else Ve(tt.numGlyphs,N)}}c?a.text.dynamicLayoutVertexBuffer.updateData(N):a.icon.dynamicLayoutVertexBuffer.updateData(N)}function Le(a,l,s,c,m,g,b,w,E,L,R,N){var Y=w.glyphStartIndex+w.numGlyphs,H=w.lineStartIndex,X=w.lineStartIndex+w.lineLength,Z=l.getoffsetX(w.glyphStartIndex),at=l.getoffsetX(Y-1),tt=vi(a*Z,s,c,m,g,b,w.segment,H,X,E,L,R,N);if(!tt)return null;var ht=vi(a*at,s,c,m,g,b,w.segment,H,X,E,L,R,N);return ht?{first:tt,last:ht}:null}function Me(a,l,s,c){return a===h.WritingMode.horizontal&&Math.abs(s.y-l.y)>Math.abs(s.x-l.x)*c?{useVertical:!0}:(a===h.WritingMode.vertical?l.y<s.y:l.x>s.x)?{needsFlipping:!0}:null}function Ri(a,l,s,c,m,g,b,w,E,L,R,N,Y,H){var X,Z=l/24,at=a.lineOffsetX*Z,tt=a.lineOffsetY*Z;if(a.numGlyphs>1){var ht=a.glyphStartIndex+a.numGlyphs,ct=a.lineStartIndex,ft=a.lineStartIndex+a.lineLength,wt=Le(Z,w,at,tt,s,R,N,a,E,g,Y,!1);if(!wt)return{notEnoughRoom:!0};var Mt=Ht(wt.first.point,b).point,Bt=Ht(wt.last.point,b).point;if(c&&!s){var ee=Me(a.writingMode,Mt,Bt,H);if(ee)return ee}X=[wt.first];for(var Kt=a.glyphStartIndex+1;Kt<ht-1;Kt++)X.push(vi(Z*w.getoffsetX(Kt),at,tt,s,R,N,a.segment,ct,ft,E,g,Y,!1));X.push(wt.last)}else{if(c&&!s){var le=Ht(N,m).point,Yt=a.lineStartIndex+a.segment+1,ye=new h.Point(E.getx(Yt),E.gety(Yt)),Qt=Ht(ye,m),we=Qt.signedDistanceFromCamera>0?Qt.point:Re(N,ye,le,1,m),ke=Me(a.writingMode,le,we,H);if(ke)return ke}var ze=vi(Z*w.getoffsetX(a.glyphStartIndex),at,tt,s,R,N,a.segment,a.lineStartIndex,a.lineStartIndex+a.lineLength,E,g,Y,!1);if(!ze)return{notEnoughRoom:!0};X=[ze]}for(var Te=0,gi=X;Te<gi.length;Te+=1){var Ie=gi[Te];h.addDynamicAttributes(L,Ie.point,Ie.angle)}return{}}function Re(a,l,s,c,m){var g=Ht(a.add(a.sub(l)._unit()),m).point,b=s.sub(g);return s.add(b._mult(c/b.mag()))}function vi(a,l,s,c,m,g,b,w,E,L,R,N,Y){var H=c?a-l:a+l,X=H>0?1:-1,Z=0;c&&(X*=-1,Z=Math.PI),X<0&&(Z+=Math.PI);for(var at=X>0?w+b:w+b+1,tt=at,ht=m,ct=m,ft=0,wt=0,Mt=Math.abs(H);ft+wt<=Mt;){if((at+=X)<w||at>=E)return null;if(ct=ht,(ht=N[at])===void 0){var Bt=new h.Point(L.getx(at),L.gety(at)),ee=Ht(Bt,R);if(ee.signedDistanceFromCamera>0)ht=N[at]=ee.point;else{var Kt=at-X;ht=Re(ft===0?g:new h.Point(L.getx(Kt),L.gety(Kt)),Bt,ct,Mt-ft+1,R)}}ft+=wt,wt=ct.dist(ht)}var le=(Mt-ft)/wt,Yt=ht.sub(ct),ye=Yt.mult(le)._add(ct);return ye._add(Yt._unit()._perp()._mult(s*X)),{point:ye,angle:Z+Math.atan2(ht.y-ct.y,ht.x-ct.x),tileDistance:Y?{prevTileDistance:at-X===tt?0:L.gettileUnitDistanceFromAnchor(at-X),lastSegmentViewportDistance:Mt-ft}:null}}jt.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},jt.prototype.insert=function(a,l,s,c,m){this._forEachCell(l,s,c,m,this._insertBoxCell,this.boxUid++),this.boxKeys.push(a),this.bboxes.push(l),this.bboxes.push(s),this.bboxes.push(c),this.bboxes.push(m)},jt.prototype.insertCircle=function(a,l,s,c){this._forEachCell(l-c,s-c,l+c,s+c,this._insertCircleCell,this.circleUid++),this.circleKeys.push(a),this.circles.push(l),this.circles.push(s),this.circles.push(c)},jt.prototype._insertBoxCell=function(a,l,s,c,m,g){this.boxCells[m].push(g)},jt.prototype._insertCircleCell=function(a,l,s,c,m,g){this.circleCells[m].push(g)},jt.prototype._query=function(a,l,s,c,m,g){if(s<0||a>this.width||c<0||l>this.height)return!m&&[];var b=[];if(a<=0&&l<=0&&this.width<=s&&this.height<=c){if(m)return!0;for(var w=0;w<this.boxKeys.length;w++)b.push({key:this.boxKeys[w],x1:this.bboxes[4*w],y1:this.bboxes[4*w+1],x2:this.bboxes[4*w+2],y2:this.bboxes[4*w+3]});for(var E=0;E<this.circleKeys.length;E++){var L=this.circles[3*E],R=this.circles[3*E+1],N=this.circles[3*E+2];b.push({key:this.circleKeys[E],x1:L-N,y1:R-N,x2:L+N,y2:R+N})}return g?b.filter(g):b}var Y={hitTest:m,seenUids:{box:{},circle:{}}};return this._forEachCell(a,l,s,c,this._queryCell,b,Y,g),m?b.length>0:b},jt.prototype._queryCircle=function(a,l,s,c,m){var g=a-s,b=a+s,w=l-s,E=l+s;if(b<0||g>this.width||E<0||w>this.height)return!c&&[];var L=[],R={hitTest:c,circle:{x:a,y:l,radius:s},seenUids:{box:{},circle:{}}};return this._forEachCell(g,w,b,E,this._queryCellCircle,L,R,m),c?L.length>0:L},jt.prototype.query=function(a,l,s,c,m){return this._query(a,l,s,c,!1,m)},jt.prototype.hitTest=function(a,l,s,c,m){return this._query(a,l,s,c,!0,m)},jt.prototype.hitTestCircle=function(a,l,s,c){return this._queryCircle(a,l,s,!0,c)},jt.prototype._queryCell=function(a,l,s,c,m,g,b,w){var E=b.seenUids,L=this.boxCells[m];if(L!==null)for(var R=this.bboxes,N=0,Y=L;N<Y.length;N+=1){var H=Y[N];if(!E.box[H]){E.box[H]=!0;var X=4*H;if(a<=R[X+2]&&l<=R[X+3]&&s>=R[X+0]&&c>=R[X+1]&&(!w||w(this.boxKeys[H]))){if(b.hitTest)return g.push(!0),!0;g.push({key:this.boxKeys[H],x1:R[X],y1:R[X+1],x2:R[X+2],y2:R[X+3]})}}}var Z=this.circleCells[m];if(Z!==null)for(var at=this.circles,tt=0,ht=Z;tt<ht.length;tt+=1){var ct=ht[tt];if(!E.circle[ct]){E.circle[ct]=!0;var ft=3*ct;if(this._circleAndRectCollide(at[ft],at[ft+1],at[ft+2],a,l,s,c)&&(!w||w(this.circleKeys[ct]))){if(b.hitTest)return g.push(!0),!0;var wt=at[ft],Mt=at[ft+1],Bt=at[ft+2];g.push({key:this.circleKeys[ct],x1:wt-Bt,y1:Mt-Bt,x2:wt+Bt,y2:Mt+Bt})}}}},jt.prototype._queryCellCircle=function(a,l,s,c,m,g,b,w){var E=b.circle,L=b.seenUids,R=this.boxCells[m];if(R!==null)for(var N=this.bboxes,Y=0,H=R;Y<H.length;Y+=1){var X=H[Y];if(!L.box[X]){L.box[X]=!0;var Z=4*X;if(this._circleAndRectCollide(E.x,E.y,E.radius,N[Z+0],N[Z+1],N[Z+2],N[Z+3])&&(!w||w(this.boxKeys[X])))return g.push(!0),!0}}var at=this.circleCells[m];if(at!==null)for(var tt=this.circles,ht=0,ct=at;ht<ct.length;ht+=1){var ft=ct[ht];if(!L.circle[ft]){L.circle[ft]=!0;var wt=3*ft;if(this._circlesCollide(tt[wt],tt[wt+1],tt[wt+2],E.x,E.y,E.radius)&&(!w||w(this.circleKeys[ft])))return g.push(!0),!0}}},jt.prototype._forEachCell=function(a,l,s,c,m,g,b,w){for(var E=this._convertToXCellCoord(a),L=this._convertToYCellCoord(l),R=this._convertToXCellCoord(s),N=this._convertToYCellCoord(c),Y=E;Y<=R;Y++)for(var H=L;H<=N;H++){var X=this.xCellCount*H+Y;if(m.call(this,a,l,s,c,X,g,b,w))return}},jt.prototype._convertToXCellCoord=function(a){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(a*this.xScale)))},jt.prototype._convertToYCellCoord=function(a){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(a*this.yScale)))},jt.prototype._circlesCollide=function(a,l,s,c,m,g){var b=c-a,w=m-l,E=s+g;return E*E>b*b+w*w},jt.prototype._circleAndRectCollide=function(a,l,s,c,m,g,b){var w=(g-c)/2,E=Math.abs(a-(c+w));if(E>w+s)return!1;var L=(b-m)/2,R=Math.abs(l-(m+L));if(R>L+s)return!1;if(E<=w||R<=L)return!0;var N=E-w,Y=R-L;return N*N+Y*Y<=s*s};var di=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Ve(a,l){for(var s=0;s<a;s++){var c=l.length;l.resize(c+4),l.float32.set(di,3*c)}}function $n(a,l,s){var c=l[0],m=l[1];return a[0]=s[0]*c+s[4]*m+s[12],a[1]=s[1]*c+s[5]*m+s[13],a[3]=s[3]*c+s[7]*m+s[15],a}var ri=function(a,l,s){l===void 0&&(l=new jt(a.width+200,a.height+200,25)),s===void 0&&(s=new jt(a.width+200,a.height+200,25)),this.transform=a,this.grid=l,this.ignoredGrid=s,this.pitchfactor=Math.cos(a._pitch)*a.cameraToCenterDistance,this.screenRightBoundary=a.width+100,this.screenBottomBoundary=a.height+100,this.gridRightBoundary=a.width+200,this.gridBottomBoundary=a.height+200};function en(a,l,s){a[l+4]=s?1:0}function Qe(a,l,s){return l*(h.EXTENT/(a.tileSize*Math.pow(2,s-a.tileID.overscaledZ)))}ri.prototype.placeCollisionBox=function(a,l,s,c,m){var g=this.projectAndGetPerspectiveRatio(c,a.anchorPointX,a.anchorPointY),b=s*g.perspectiveRatio,w=a.x1*b+g.point.x,E=a.y1*b+g.point.y,L=a.x2*b+g.point.x,R=a.y2*b+g.point.y;return!this.isInsideGrid(w,E,L,R)||!l&&this.grid.hitTest(w,E,L,R,m)?{box:[],offscreen:!1}:{box:[w,E,L,R],offscreen:this.isOffscreen(w,E,L,R)}},ri.prototype.approximateTileDistance=function(a,l,s,c,m){var g=m?1:c/this.pitchfactor,b=a.lastSegmentViewportDistance*s;return a.prevTileDistance+b+(g-1)*b*Math.abs(Math.sin(l))},ri.prototype.placeCollisionCircles=function(a,l,s,c,m,g,b,w,E,L,R,N,Y){var H=[],X=this.projectAnchor(E,m.anchorX,m.anchorY),Z=w/24,at=m.lineOffsetX*w,tt=m.lineOffsetY*w,ht=new h.Point(m.anchorX,m.anchorY),ct=Le(Z,b,at,tt,!1,Ht(ht,L).point,ht,m,g,L,{},!0),ft=!1,wt=!1,Mt=!0,Bt=X.perspectiveRatio*c,ee=1/(c*s),Kt=0,le=0;ct&&(Kt=this.approximateTileDistance(ct.first.tileDistance,ct.first.angle,ee,X.cameraDistance,N),le=this.approximateTileDistance(ct.last.tileDistance,ct.last.angle,ee,X.cameraDistance,N));for(var Yt=0;Yt<a.length;Yt+=5){var ye=a[Yt],Qt=a[Yt+1],we=a[Yt+2],ke=a[Yt+3];if(!ct||ke<-Kt||ke>le)en(a,Yt,!1);else{var ze=this.projectPoint(E,ye,Qt),Te=we*Bt;if(H.length>0){var gi=ze.x-H[H.length-4],Ie=ze.y-H[H.length-3];if(Te*Te*2>gi*gi+Ie*Ie&&Yt+8<a.length){var xe=a[Yt+8];if(xe>-Kt&&xe<le){en(a,Yt,!1);continue}}}var nn=Yt/5;H.push(ze.x,ze.y,Te,nn),en(a,Yt,!0);var pi=ze.x-Te,qe=ze.y-Te,Nn=ze.x+Te,En=ze.y+Te;if(Mt=Mt&&this.isOffscreen(pi,qe,Nn,En),wt=wt||this.isInsideGrid(pi,qe,Nn,En),!l&&this.grid.hitTestCircle(ze.x,ze.y,Te,Y)){if(!R)return{circles:[],offscreen:!1};ft=!0}}}return{circles:ft||!wt?[]:H,offscreen:Mt}},ri.prototype.queryRenderedSymbols=function(a){if(a.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var l=[],s=1/0,c=1/0,m=-1/0,g=-1/0,b=0,w=a;b<w.length;b+=1){var E=w[b],L=new h.Point(E.x+100,E.y+100);s=Math.min(s,L.x),c=Math.min(c,L.y),m=Math.max(m,L.x),g=Math.max(g,L.y),l.push(L)}for(var R={},N={},Y=0,H=this.grid.query(s,c,m,g).concat(this.ignoredGrid.query(s,c,m,g));Y<H.length;Y+=1){var X=H[Y],Z=X.key;if(R[Z.bucketInstanceId]===void 0&&(R[Z.bucketInstanceId]={}),!R[Z.bucketInstanceId][Z.featureIndex]){var at=[new h.Point(X.x1,X.y1),new h.Point(X.x2,X.y1),new h.Point(X.x2,X.y2),new h.Point(X.x1,X.y2)];h.polygonIntersectsPolygon(l,at)&&(R[Z.bucketInstanceId][Z.featureIndex]=!0,N[Z.bucketInstanceId]===void 0&&(N[Z.bucketInstanceId]=[]),N[Z.bucketInstanceId].push(Z.featureIndex))}}return N},ri.prototype.insertCollisionBox=function(a,l,s,c,m){var g={bucketInstanceId:s,featureIndex:c,collisionGroupID:m};(l?this.ignoredGrid:this.grid).insert(g,a[0],a[1],a[2],a[3])},ri.prototype.insertCollisionCircles=function(a,l,s,c,m){for(var g=l?this.ignoredGrid:this.grid,b={bucketInstanceId:s,featureIndex:c,collisionGroupID:m},w=0;w<a.length;w+=4)g.insertCircle(b,a[w],a[w+1],a[w+2])},ri.prototype.projectAnchor=function(a,l,s){var c=[l,s,0,1];return $n(c,c,a),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/c[3]*.5,cameraDistance:c[3]}},ri.prototype.projectPoint=function(a,l,s){var c=[l,s,0,1];return $n(c,c,a),new h.Point((c[0]/c[3]+1)/2*this.transform.width+100,(-c[1]/c[3]+1)/2*this.transform.height+100)},ri.prototype.projectAndGetPerspectiveRatio=function(a,l,s){var c=[l,s,0,1];return $n(c,c,a),{point:new h.Point((c[0]/c[3]+1)/2*this.transform.width+100,(-c[1]/c[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/c[3]*.5}},ri.prototype.isOffscreen=function(a,l,s,c){return s<100||a>=this.screenRightBoundary||c<100||l>this.screenBottomBoundary},ri.prototype.isInsideGrid=function(a,l,s,c){return s>=0&&a<this.gridRightBoundary&&c>=0&&l<this.gridBottomBoundary};var Un=function(a,l,s,c){this.opacity=a?Math.max(0,Math.min(1,a.opacity+(a.placed?l:-l))):c&&s?1:0,this.placed=s};Un.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var Zn=function(a,l,s,c,m){this.text=new Un(a?a.text:null,l,s,m),this.icon=new Un(a?a.icon:null,l,c,m)};Zn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Sn=function(a,l,s){this.text=a,this.icon=l,this.skipFade=s},Va=function(a,l,s,c,m){this.bucketInstanceId=a,this.featureIndex=l,this.sourceLayerIndex=s,this.bucketIndex=c,this.tileID=m},Gn=function(a){this.crossSourceCollisions=a,this.maxGroupID=0,this.collisionGroups={}};function za(a,l,s,c,m){var g=h.getAnchorAlignment(a),b=-(g.horizontalAlign-.5)*l,w=-(g.verticalAlign-.5)*s,E=h.evaluateVariableOffset(a,c);return new h.Point(b+E[0]*m,w+E[1]*m)}function Ca(a,l,s,c,m,g){var b=a.x1,w=a.x2,E=a.y1,L=a.y2,R=a.anchorPointX,N=a.anchorPointY,Y=new h.Point(l,s);return c&&Y._rotate(m?g:-g),{x1:b+Y.x,y1:E+Y.y,x2:w+Y.x,y2:L+Y.y,anchorPointX:R,anchorPointY:N}}Gn.prototype.get=function(a){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[a]){var l=++this.maxGroupID;this.collisionGroups[a]={ID:l,predicate:function(s){return s.collisionGroupID===l}}}return this.collisionGroups[a]};var Hn=function(a,l,s,c){this.transform=a.clone(),this.collisionIndex=new ri(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=l,this.retainedQueryData={},this.collisionGroups=new Gn(s),this.prevPlacement=c,c&&(c.prevPlacement=void 0),this.placedOrientations={}};function ho(a,l,s,c,m){a.emplaceBack(l?1:0,s?1:0,c||0,m||0),a.emplaceBack(l?1:0,s?1:0,c||0,m||0),a.emplaceBack(l?1:0,s?1:0,c||0,m||0),a.emplaceBack(l?1:0,s?1:0,c||0,m||0)}Hn.prototype.placeLayerTile=function(a,l,s,c){var m=l.getBucket(a),g=l.latestFeatureIndex;if(m&&g&&a.id===m.layerIds[0]){var b=l.collisionBoxArray,w=m.layers[0].layout,E=Math.pow(2,this.transform.zoom-l.tileID.overscaledZ),L=l.tileSize/h.EXTENT,R=this.transform.calculatePosMatrix(l.tileID.toUnwrapped()),N=ae(R,w.get("text-pitch-alignment")==="map",w.get("text-rotation-alignment")==="map",this.transform,Qe(l,1,this.transform.zoom)),Y=ae(R,w.get("icon-pitch-alignment")==="map",w.get("icon-rotation-alignment")==="map",this.transform,Qe(l,1,this.transform.zoom));this.retainedQueryData[m.bucketInstanceId]=new Va(m.bucketInstanceId,g,m.sourceLayerIndex,m.index,l.tileID),this.placeLayerBucket(m,R,N,Y,E,L,s,l.holdingForFade(),c,b)}},Hn.prototype.attemptAnchorPlacement=function(a,l,s,c,m,g,b,w,E,L,R,N,Y,H,X){var Z,at=[N.textOffset0,N.textOffset1],tt=za(a,s,c,at,m),ht=this.collisionIndex.placeCollisionBox(Ca(l,tt.x,tt.y,g,b,this.transform.angle),R,w,E,L.predicate);if(!(X&&this.collisionIndex.placeCollisionBox(Ca(X,tt.x,tt.y,g,b,this.transform.angle),R,w,E,L.predicate).box.length===0)&&ht.box.length>0)return this.prevPlacement&&this.prevPlacement.variableOffsets[N.crossTileID]&&this.prevPlacement.placements[N.crossTileID]&&this.prevPlacement.placements[N.crossTileID].text&&(Z=this.prevPlacement.variableOffsets[N.crossTileID].anchor),this.variableOffsets[N.crossTileID]={textOffset:at,width:s,height:c,anchor:a,textBoxScale:m,prevAnchor:Z},this.markUsedJustification(Y,a,N,H),Y.allowVerticalPlacement&&(this.markUsedOrientation(Y,H,N),this.placedOrientations[N.crossTileID]=H),{shift:tt,placedGlyphBoxes:ht}},Hn.prototype.placeLayerBucket=function(a,l,s,c,m,g,b,w,E,L){var R=this,N=a.layers[0].layout,Y=h.evaluateSizeForZoom(a.textSizeData,this.transform.zoom),H=N.get("text-optional"),X=N.get("icon-optional"),Z=N.get("text-allow-overlap"),at=N.get("icon-allow-overlap"),tt=Z&&(at||!a.hasIconData()||X),ht=at&&(Z||!a.hasTextData()||H),ct=this.collisionGroups.get(a.sourceID),ft=N.get("text-rotation-alignment")==="map",wt=N.get("text-pitch-alignment")==="map",Mt=N.get("icon-text-fit")!=="none",Bt=N.get("symbol-z-order")==="viewport-y";!a.collisionArrays&&L&&a.deserializeCollisionBoxes(L);var ee=function(Qt,we){if(!E[Qt.crossTileID])if(w)R.placements[Qt.crossTileID]=new Sn(!1,!1,!1);else{var ke,ze=!1,Te=!1,gi=!0,Ie=null,xe={box:null,offscreen:null},nn={box:null,offscreen:null},pi=null,qe=null,Nn=0,En=0,Zi=0;we.textFeatureIndex&&(Nn=we.textFeatureIndex),we.verticalTextFeatureIndex&&(En=we.verticalTextFeatureIndex);var xr=we.textBox;if(xr){var ta=function(Gi){var mi=h.WritingMode.horizontal;if(a.allowVerticalPlacement&&!Gi&&R.prevPlacement){var wi=R.prevPlacement.placedOrientations[Qt.crossTileID];wi&&(R.placedOrientations[Qt.crossTileID]=wi,mi=wi,R.markUsedOrientation(a,mi,Qt))}return mi},ka=function(Gi,mi){if(a.allowVerticalPlacement&&Qt.numVerticalGlyphVertices>0&&we.verticalTextBox)for(var wi=0,pr=a.writingModes;wi<pr.length&&(pr[wi]===h.WritingMode.vertical?(xe=mi(),nn=xe):xe=Gi(),!(xe&&xe.box&&xe.box.length));wi+=1);else xe=Gi()};if(N.get("text-variable-anchor")){var kn=N.get("text-variable-anchor");if(R.prevPlacement&&R.prevPlacement.variableOffsets[Qt.crossTileID]){var Xa=R.prevPlacement.variableOffsets[Qt.crossTileID];kn.indexOf(Xa.anchor)>0&&(kn=kn.filter((function(Gi){return Gi!==Xa.anchor}))).unshift(Xa.anchor)}var xa=function(Gi,mi,wi){for(var pr=Gi.x2-Gi.x1,Er=Gi.y2-Gi.y1,Yn=Qt.textBoxScale,hr=Mt&&!at?mi:null,Kn={box:[],offscreen:!1},ea=Z?2*kn.length:kn.length,go=0;go<ea;++go){var ys=kn[go%kn.length],Ws=go>=kn.length,Nr=R.attemptAnchorPlacement(ys,Gi,pr,Er,Yn,ft,wt,g,l,ct,Ws,Qt,a,wi,hr);if(Nr&&(Kn=Nr.placedGlyphBoxes)&&Kn.box&&Kn.box.length){ze=!0,Ie=Nr.shift;break}}return Kn};ka((function(){return xa(xr,we.iconBox,h.WritingMode.horizontal)}),(function(){var Gi=we.verticalTextBox,mi=xe&&xe.box&&xe.box.length;return a.allowVerticalPlacement&&!mi&&Qt.numVerticalGlyphVertices>0&&Gi?xa(Gi,we.verticalIconBox,h.WritingMode.vertical):{box:null,offscreen:null}})),xe&&(ze=xe.box,gi=xe.offscreen);var Vo=ta(xe&&xe.box);if(!ze&&R.prevPlacement){var Pr=R.prevPlacement.variableOffsets[Qt.crossTileID];Pr&&(R.variableOffsets[Qt.crossTileID]=Pr,R.markUsedJustification(a,Pr.anchor,Qt,Vo))}}else{var Bu=function(Gi,mi){var wi=R.collisionIndex.placeCollisionBox(Gi,N.get("text-allow-overlap"),g,l,ct.predicate);return wi&&wi.box&&wi.box.length&&(R.markUsedOrientation(a,mi,Qt),R.placedOrientations[Qt.crossTileID]=mi),wi};ka((function(){return Bu(xr,h.WritingMode.horizontal)}),(function(){var Gi=we.verticalTextBox;return a.allowVerticalPlacement&&Qt.numVerticalGlyphVertices>0&&Gi?Bu(Gi,h.WritingMode.vertical):{box:null,offscreen:null}})),ta(xe&&xe.box&&xe.box.length)}}ze=(ke=xe)&&ke.box&&ke.box.length>0,gi=ke&&ke.offscreen;var Ya=we.textCircles;if(Ya){var ba=a.text.placedSymbolArray.get(Qt.centerJustifiedTextSymbolIndex),Qs=h.evaluateSizeForFeature(a.textSizeData,Y,ba);pi=R.collisionIndex.placeCollisionCircles(Ya,N.get("text-allow-overlap"),m,g,ba,a.lineVertexArray,a.glyphOffsetArray,Qs,l,s,b,wt,ct.predicate),ze=N.get("text-allow-overlap")||pi.circles.length>0,gi=gi&&pi.offscreen}if(we.iconFeatureIndex&&(Zi=we.iconFeatureIndex),we.iconBox){var vo=function(Gi){var mi=Mt&&Ie?Ca(Gi,Ie.x,Ie.y,ft,wt,R.transform.angle):Gi;return R.collisionIndex.placeCollisionBox(mi,N.get("icon-allow-overlap"),g,l,ct.predicate)};Te=nn&&nn.box&&nn.box.length&&we.verticalIconBox?(qe=vo(we.verticalIconBox)).box.length>0:(qe=vo(we.iconBox)).box.length>0,gi=gi&&qe.offscreen}var qo=H||Qt.numHorizontalGlyphVertices===0&&Qt.numVerticalGlyphVertices===0,Ka=X||Qt.numIconVertices===0;qo||Ka?Ka?qo||(Te=Te&&ze):ze=Te&&ze:Te=ze=Te&&ze,ze&&ke&&ke.box&&(nn&&nn.box&&En?R.collisionIndex.insertCollisionBox(ke.box,N.get("text-ignore-placement"),a.bucketInstanceId,En,ct.ID):R.collisionIndex.insertCollisionBox(ke.box,N.get("text-ignore-placement"),a.bucketInstanceId,Nn,ct.ID)),Te&&qe&&R.collisionIndex.insertCollisionBox(qe.box,N.get("icon-ignore-placement"),a.bucketInstanceId,Zi,ct.ID),ze&&pi&&R.collisionIndex.insertCollisionCircles(pi.circles,N.get("text-ignore-placement"),a.bucketInstanceId,Nn,ct.ID),R.placements[Qt.crossTileID]=new Sn(ze||tt,Te||ht,gi||a.justReloaded),E[Qt.crossTileID]=!0}};if(Bt)for(var Kt=a.getSortedSymbolIndexes(this.transform.angle),le=Kt.length-1;le>=0;--le){var Yt=Kt[le];ee(a.symbolInstances.get(Yt),a.collisionArrays[Yt])}else for(var ye=0;ye<a.symbolInstances.length;++ye)ee(a.symbolInstances.get(ye),a.collisionArrays[ye]);a.justReloaded=!1},Hn.prototype.markUsedJustification=function(a,l,s,c){var m,g={left:s.leftJustifiedTextSymbolIndex,center:s.centerJustifiedTextSymbolIndex,right:s.rightJustifiedTextSymbolIndex};m=c===h.WritingMode.vertical?s.verticalPlacedTextSymbolIndex:g[h.getAnchorJustification(l)];for(var b=0,w=[s.leftJustifiedTextSymbolIndex,s.centerJustifiedTextSymbolIndex,s.rightJustifiedTextSymbolIndex,s.verticalPlacedTextSymbolIndex];b<w.length;b+=1){var E=w[b];E>=0&&(a.text.placedSymbolArray.get(E).crossTileID=m>=0&&E!==m?0:s.crossTileID)}},Hn.prototype.markUsedOrientation=function(a,l,s){for(var c=l===h.WritingMode.horizontal||l===h.WritingMode.horizontalOnly?l:0,m=l===h.WritingMode.vertical?l:0,g=0,b=[s.leftJustifiedTextSymbolIndex,s.centerJustifiedTextSymbolIndex,s.rightJustifiedTextSymbolIndex];g<b.length;g+=1){var w=b[g];a.text.placedSymbolArray.get(w).placedOrientation=c}s.verticalPlacedTextSymbolIndex&&(a.text.placedSymbolArray.get(s.verticalPlacedTextSymbolIndex).placedOrientation=m)},Hn.prototype.commit=function(a){this.commitTime=a,this.zoomAtLastRecencyCheck=this.transform.zoom;var l=this.prevPlacement,s=!1;this.prevZoomAdjustment=l?l.zoomAdjustment(this.transform.zoom):0;var c=l?l.symbolFadeChange(a):1,m=l?l.opacities:{},g=l?l.variableOffsets:{},b=l?l.placedOrientations:{};for(var w in this.placements){var E=this.placements[w],L=m[w];L?(this.opacities[w]=new Zn(L,c,E.text,E.icon),s=s||E.text!==L.text.placed||E.icon!==L.icon.placed):(this.opacities[w]=new Zn(null,c,E.text,E.icon,E.skipFade),s=s||E.text||E.icon)}for(var R in m){var N=m[R];if(!this.opacities[R]){var Y=new Zn(N,c,!1,!1);Y.isHidden()||(this.opacities[R]=Y,s=s||N.text.placed||N.icon.placed)}}for(var H in g)this.variableOffsets[H]||!this.opacities[H]||this.opacities[H].isHidden()||(this.variableOffsets[H]=g[H]);for(var X in b)this.placedOrientations[X]||!this.opacities[X]||this.opacities[X].isHidden()||(this.placedOrientations[X]=b[X]);s?this.lastPlacementChangeTime=a:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=l?l.lastPlacementChangeTime:a)},Hn.prototype.updateLayerOpacities=function(a,l){for(var s={},c=0,m=l;c<m.length;c+=1){var g=m[c],b=g.getBucket(a);b&&g.latestFeatureIndex&&a.id===b.layerIds[0]&&this.updateBucketOpacities(b,s,g.collisionBoxArray)}},Hn.prototype.updateBucketOpacities=function(a,l,s){var c=this;a.hasTextData()&&a.text.opacityVertexArray.clear(),a.hasIconData()&&a.icon.opacityVertexArray.clear(),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexArray.clear(),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexArray.clear(),a.hasIconCollisionCircleData()&&a.iconCollisionCircle.collisionVertexArray.clear(),a.hasTextCollisionCircleData()&&a.textCollisionCircle.collisionVertexArray.clear();var m=a.layers[0].layout,g=new Zn(null,0,!1,!1,!0),b=m.get("text-allow-overlap"),w=m.get("icon-allow-overlap"),E=m.get("text-variable-anchor"),L=m.get("text-rotation-alignment")==="map",R=m.get("text-pitch-alignment")==="map",N=m.get("icon-text-fit")!=="none",Y=new Zn(null,0,b&&(w||!a.hasIconData()||m.get("icon-optional")),w&&(b||!a.hasTextData()||m.get("text-optional")),!0);!a.collisionArrays&&s&&(a.hasIconCollisionBoxData()||a.hasIconCollisionCircleData()||a.hasTextCollisionBoxData()||a.hasTextCollisionCircleData())&&a.deserializeCollisionBoxes(s);for(var H=function(at,tt,ht){for(var ct=0;ct<tt/4;ct++)at.opacityVertexArray.emplaceBack(ht)},X=function(at){var tt=a.symbolInstances.get(at),ht=tt.numHorizontalGlyphVertices,ct=tt.numVerticalGlyphVertices,ft=tt.crossTileID,wt=l[ft],Mt=c.opacities[ft];wt?Mt=g:Mt||(Mt=Y,c.opacities[ft]=Mt),l[ft]=!0;var Bt=ht>0||ct>0,ee=tt.numIconVertices>0,Kt=c.placedOrientations[tt.crossTileID],le=Kt===h.WritingMode.vertical,Yt=Kt===h.WritingMode.horizontal||Kt===h.WritingMode.horizontalOnly;if(Bt){var ye=Os(Mt.text),Qt=le?ya:ye;H(a.text,ht,Qt);var we=Yt?ya:ye;H(a.text,ct,we);var ke=Mt.text.isHidden();[tt.rightJustifiedTextSymbolIndex,tt.centerJustifiedTextSymbolIndex,tt.leftJustifiedTextSymbolIndex].forEach((function(kn){kn>=0&&(a.text.placedSymbolArray.get(kn).hidden=ke||le?1:0)})),tt.verticalPlacedTextSymbolIndex>=0&&(a.text.placedSymbolArray.get(tt.verticalPlacedTextSymbolIndex).hidden=ke||Yt?1:0);var ze=c.variableOffsets[tt.crossTileID];ze&&c.markUsedJustification(a,ze.anchor,tt,Kt);var Te=c.placedOrientations[tt.crossTileID];Te&&(c.markUsedJustification(a,"left",tt,Te),c.markUsedOrientation(a,Te,tt))}if(ee){var gi=Os(Mt.icon),Ie=!(N&&tt.verticalPlacedIconSymbolIndex&&le);if(tt.placedIconSymbolIndex>=0){var xe=Ie?gi:ya;H(a.icon,tt.numIconVertices,xe),a.icon.placedSymbolArray.get(tt.placedIconSymbolIndex).hidden=Mt.icon.isHidden()}if(tt.verticalPlacedIconSymbolIndex>=0){var nn=Ie?ya:gi;H(a.icon,tt.numVerticalIconVertices,nn),a.icon.placedSymbolArray.get(tt.verticalPlacedIconSymbolIndex).hidden=Mt.icon.isHidden()}}if(a.hasIconCollisionBoxData()||a.hasIconCollisionCircleData()||a.hasTextCollisionBoxData()||a.hasTextCollisionCircleData()){var pi=a.collisionArrays[at];if(pi){var qe=new h.Point(0,0);if(pi.textBox||pi.verticalTextBox){var Nn=!0;if(E){var En=c.variableOffsets[ft];En?(qe=za(En.anchor,En.width,En.height,En.textOffset,En.textBoxScale),L&&qe._rotate(R?c.transform.angle:-c.transform.angle)):Nn=!1}pi.textBox&&ho(a.textCollisionBox.collisionVertexArray,Mt.text.placed,!Nn||le,qe.x,qe.y),pi.verticalTextBox&&ho(a.textCollisionBox.collisionVertexArray,Mt.text.placed,!Nn||Yt,qe.x,qe.y)}var Zi=!!(!Yt&&pi.verticalIconBox);pi.iconBox&&ho(a.iconCollisionBox.collisionVertexArray,Mt.icon.placed,Zi,N?qe.x:0,N?qe.y:0),pi.verticalIconBox&&ho(a.iconCollisionBox.collisionVertexArray,Mt.icon.placed,!Zi,N?qe.x:0,N?qe.y:0);var xr=pi.textCircles;if(xr&&a.hasTextCollisionCircleData())for(var ta=0;ta<xr.length;ta+=5){var ka=wt||xr[ta+4]===0;ho(a.textCollisionCircle.collisionVertexArray,Mt.text.placed,ka)}}}},Z=0;Z<a.symbolInstances.length;Z++)X(Z);a.sortFeatures(this.transform.angle),this.retainedQueryData[a.bucketInstanceId]&&(this.retainedQueryData[a.bucketInstanceId].featureSortOrder=a.featureSortOrder),a.hasTextData()&&a.text.opacityVertexBuffer&&a.text.opacityVertexBuffer.updateData(a.text.opacityVertexArray),a.hasIconData()&&a.icon.opacityVertexBuffer&&a.icon.opacityVertexBuffer.updateData(a.icon.opacityVertexArray),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexBuffer&&a.iconCollisionBox.collisionVertexBuffer.updateData(a.iconCollisionBox.collisionVertexArray),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexBuffer&&a.textCollisionBox.collisionVertexBuffer.updateData(a.textCollisionBox.collisionVertexArray),a.hasIconCollisionCircleData()&&a.iconCollisionCircle.collisionVertexBuffer&&a.iconCollisionCircle.collisionVertexBuffer.updateData(a.iconCollisionCircle.collisionVertexArray),a.hasTextCollisionCircleData()&&a.textCollisionCircle.collisionVertexBuffer&&a.textCollisionCircle.collisionVertexBuffer.updateData(a.textCollisionCircle.collisionVertexArray)},Hn.prototype.symbolFadeChange=function(a){return this.fadeDuration===0?1:(a-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Hn.prototype.zoomAdjustment=function(a){return Math.max(0,(this.transform.zoom-a)/1.5)},Hn.prototype.hasTransitions=function(a){return this.stale||a-this.lastPlacementChangeTime<this.fadeDuration},Hn.prototype.stillRecent=function(a,l){var s=this.zoomAtLastRecencyCheck===l?1-this.zoomAdjustment(l):1;return this.zoomAtLastRecencyCheck=l,this.commitTime+this.fadeDuration*s>a},Hn.prototype.setStale=function(){this.stale=!0};var Hr=Math.pow(2,25),Co=Math.pow(2,24),wl=Math.pow(2,17),fo=Math.pow(2,16),Mn=Math.pow(2,9),gu=Math.pow(2,8),yc=Math.pow(2,1);function Os(a){if(a.opacity===0&&!a.placed)return 0;if(a.opacity===1&&a.placed)return 4294967295;var l=a.placed?1:0,s=Math.floor(127*a.opacity);return s*Hr+l*Co+s*wl+l*fo+s*Mn+l*gu+s*yc+l}var ya=0,_u=function(){this._currentTileIndex=0,this._seenCrossTileIDs={}};_u.prototype.continuePlacement=function(a,l,s,c,m){for(;this._currentTileIndex<a.length;){var g=a[this._currentTileIndex];if(l.placeLayerTile(c,g,s,this._seenCrossTileIDs),this._currentTileIndex++,m())return!0}};var Mo=function(a,l,s,c,m,g,b){this.placement=new Hn(a,m,g,b),this._currentPlacementIndex=l.length-1,this._forceFullPlacement=s,this._showCollisionBoxes=c,this._done=!1};Mo.prototype.isDone=function(){return this._done},Mo.prototype.continuePlacement=function(a,l,s){for(var c=this,m=h.browser.now(),g=function(){var E=h.browser.now()-m;return!c._forceFullPlacement&&E>2};this._currentPlacementIndex>=0;){var b=l[a[this._currentPlacementIndex]],w=this.placement.collisionIndex.transform.zoom;if(b.type==="symbol"&&(!b.minzoom||b.minzoom<=w)&&(!b.maxzoom||b.maxzoom>w)){if(this._inProgressLayer||(this._inProgressLayer=new _u),this._inProgressLayer.continuePlacement(s[b.source],this.placement,this._showCollisionBoxes,b,g))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Mo.prototype.commit=function(a){return this.placement.commit(a),this.placement};var Do=512/h.EXTENT/2,qa=function(a,l,s){this.tileID=a,this.indexedSymbolInstances={},this.bucketInstanceId=s;for(var c=0;c<l.length;c++){var m=l.get(c),g=m.key;this.indexedSymbolInstances[g]||(this.indexedSymbolInstances[g]=[]),this.indexedSymbolInstances[g].push({crossTileID:m.crossTileID,coord:this.getScaledCoordinates(m,a)})}};qa.prototype.getScaledCoordinates=function(a,l){var s=l.canonical.z-this.tileID.canonical.z,c=Do/Math.pow(2,s);return{x:Math.floor((l.canonical.x*h.EXTENT+a.anchorX)*c),y:Math.floor((l.canonical.y*h.EXTENT+a.anchorY)*c)}},qa.prototype.findMatches=function(a,l,s){for(var c=this.tileID.canonical.z<l.canonical.z?1:Math.pow(2,this.tileID.canonical.z-l.canonical.z),m=0;m<a.length;m++){var g=a.get(m);if(!g.crossTileID){var b=this.indexedSymbolInstances[g.key];if(b)for(var w=this.getScaledCoordinates(g,l),E=0,L=b;E<L.length;E+=1){var R=L[E];if(Math.abs(R.coord.x-w.x)<=c&&Math.abs(R.coord.y-w.y)<=c&&!s[R.crossTileID]){s[R.crossTileID]=!0,g.crossTileID=R.crossTileID;break}}}}};var Sl=function(){this.maxCrossTileID=0};Sl.prototype.generate=function(){return++this.maxCrossTileID};var Lo=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Lo.prototype.handleWrapJump=function(a){var l=Math.round((a-this.lng)/360);if(l!==0)for(var s in this.indexes){var c=this.indexes[s],m={};for(var g in c){var b=c[g];b.tileID=b.tileID.unwrapTo(b.tileID.wrap+l),m[b.tileID.key]=b}this.indexes[s]=m}this.lng=a},Lo.prototype.addBucket=function(a,l,s){if(this.indexes[a.overscaledZ]&&this.indexes[a.overscaledZ][a.key]){if(this.indexes[a.overscaledZ][a.key].bucketInstanceId===l.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(a.overscaledZ,this.indexes[a.overscaledZ][a.key])}for(var c=0;c<l.symbolInstances.length;c++)l.symbolInstances.get(c).crossTileID=0;this.usedCrossTileIDs[a.overscaledZ]||(this.usedCrossTileIDs[a.overscaledZ]={});var m=this.usedCrossTileIDs[a.overscaledZ];for(var g in this.indexes){var b=this.indexes[g];if(Number(g)>a.overscaledZ)for(var w in b){var E=b[w];E.tileID.isChildOf(a)&&E.findMatches(l.symbolInstances,a,m)}else{var L=b[a.scaledTo(Number(g)).key];L&&L.findMatches(l.symbolInstances,a,m)}}for(var R=0;R<l.symbolInstances.length;R++){var N=l.symbolInstances.get(R);N.crossTileID||(N.crossTileID=s.generate(),m[N.crossTileID]=!0)}return this.indexes[a.overscaledZ]===void 0&&(this.indexes[a.overscaledZ]={}),this.indexes[a.overscaledZ][a.key]=new qa(a,l.symbolInstances,l.bucketInstanceId),!0},Lo.prototype.removeBucketCrossTileIDs=function(a,l){for(var s in l.indexedSymbolInstances)for(var c=0,m=l.indexedSymbolInstances[s];c<m.length;c+=1){var g=m[c];delete this.usedCrossTileIDs[a][g.crossTileID]}},Lo.prototype.removeStaleBuckets=function(a){var l=!1;for(var s in this.indexes){var c=this.indexes[s];for(var m in c)a[c[m].bucketInstanceId]||(this.removeBucketCrossTileIDs(s,c[m]),delete c[m],l=!0)}return l};var Us=function(){this.layerIndexes={},this.crossTileIDs=new Sl,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Us.prototype.addLayer=function(a,l,s){var c=this.layerIndexes[a.id];c===void 0&&(c=this.layerIndexes[a.id]=new Lo);var m=!1,g={};c.handleWrapJump(s);for(var b=0,w=l;b<w.length;b+=1){var E=w[b],L=E.getBucket(a);L&&a.id===L.layerIds[0]&&(L.bucketInstanceId||(L.bucketInstanceId=++this.maxBucketInstanceId),c.addBucket(E.tileID,L,this.crossTileIDs)&&(m=!0),g[L.bucketInstanceId]=!0)}return c.removeStaleBuckets(g)&&(m=!0),m},Us.prototype.pruneUnusedLayers=function(a){var l={};for(var s in a.forEach((function(c){l[c]=!0})),this.layerIndexes)l[s]||delete this.layerIndexes[s]};var Ro=function(a,l){return h.emitValidationErrors(a,l&&l.filter((function(s){return s.identifier!=="source.canvas"})))},Xr=h.pick(Q,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),rs=h.pick(Q,["setCenter","setZoom","setBearing","setPitch"]),Ps=(function(){var a={},l=h.styleSpec.$version;for(var s in h.styleSpec.$root){var c=h.styleSpec.$root[s];if(c.required){var m=null;(m=s==="version"?l:c.type==="array"?[]:{})!=null&&(a[s]=m)}}return a})(),Ui=(function(a){function l(s,c){var m=this;c===void 0&&(c={}),a.call(this),this.map=s,this.dispatcher=new jn((D||(D=new z),D),this),this.imageManager=new be,this.imageManager.setEventedParent(this),this.glyphManager=new ni(s._requestManager,c.localIdeographFontFamily),this.lineAtlas=new ca(256,512),this.crossTileSymbolIndex=new Us,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new h.ZoomHistory,this._loaded=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",h.getReferrer());var g=this;this._rtlTextPluginCallback=l.registerForPluginStateChange((function(b){var w={pluginStatus:b.pluginStatus,pluginURL:b.pluginURL};g.dispatcher.broadcast("syncRTLPluginState",w,(function(E,L){if(h.triggerPluginCompletionEvent(E),L&&L.every((function(N){return N})))for(var R in g.sourceCaches)g.sourceCaches[R].reload()}))})),this.on("data",(function(b){if(b.dataType==="source"&&b.sourceDataType==="metadata"){var w=m.sourceCaches[b.sourceId];if(w){var E=w.getSource();if(E&&E.vectorLayerIds)for(var L in m._layers){var R=m._layers[L];R.source===E.id&&m._validateLayer(R)}}}}))}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.loadURL=function(s,c){var m=this;c===void 0&&(c={}),this.fire(new h.Event("dataloading",{dataType:"style"}));var g=typeof c.validate=="boolean"?c.validate:!h.isGoongURL(s);s=this.map._requestManager.normalizeStyleURL(s,c.accessToken);var b=this.map._requestManager.transformRequest(s,h.ResourceType.Style);this._request=h.getJSON(b,(function(w,E){m._request=null,w?m.fire(new h.ErrorEvent(w)):E&&m._load(E,g)}))},l.prototype.loadJSON=function(s,c){var m=this;c===void 0&&(c={}),this.fire(new h.Event("dataloading",{dataType:"style"})),this._request=h.browser.frame((function(){m._request=null,m._load(s,c.validate!==!1)}))},l.prototype.loadEmpty=function(){this.fire(new h.Event("dataloading",{dataType:"style"})),this._load(Ps,!1)},l.prototype._load=function(s,c){var m=this;if(!c||!Ro(this,h.validateStyle(s))){for(var g in this._loaded=!0,this.stylesheet=s,s.sources)this.addSource(g,s.sources[g],{validate:!1});s.sprite?this._spriteRequest=(function(R,N,Y){var H,X,Z,at=h.browser.devicePixelRatio>1?"@2x":"",tt=h.getJSON(N.transformRequest(N.normalizeSpriteURL(R,at,".json"),h.ResourceType.SpriteJSON),(function(ft,wt){tt=null,Z||(Z=ft,H=wt,ct())})),ht=h.getImage(N.transformRequest(N.normalizeSpriteURL(R,at,".png"),h.ResourceType.SpriteImage),(function(ft,wt){ht=null,Z||(Z=ft,X=wt,ct())}));function ct(){if(Z)Y(Z);else if(H&&X){var ft=h.browser.getImageData(X),wt={};for(var Mt in H){var Bt=H[Mt],ee=Bt.width,Kt=Bt.height,le=Bt.x,Yt=Bt.y,ye=Bt.sdf,Qt=Bt.pixelRatio,we=Bt.stretchX,ke=Bt.stretchY,ze=Bt.content,Te=new h.RGBAImage({width:ee,height:Kt});h.RGBAImage.copy(ft,Te,{x:le,y:Yt},{x:0,y:0},{width:ee,height:Kt}),wt[Mt]={data:Te,pixelRatio:Qt,sdf:ye,stretchX:we,stretchY:ke,content:ze}}Y(null,wt)}}return{cancel:function(){tt&&(tt.cancel(),tt=null),ht&&(ht.cancel(),ht=null)}}})(s.sprite,this.map._requestManager,(function(R,N){if(m._spriteRequest=null,R)m.fire(new h.ErrorEvent(R));else if(N)for(var Y in N)m.imageManager.addImage(Y,N[Y]);m.imageManager.setLoaded(!0),m.dispatcher.broadcast("setImages",m.imageManager.listImages()),m.fire(new h.Event("data",{dataType:"style"}))})):this.imageManager.setLoaded(!0),this.glyphManager.setURL(s.glyphs);var b=K(this.stylesheet.layers);this._order=b.map((function(R){return R.id})),this._layers={};for(var w=0,E=b;w<E.length;w+=1){var L=E[w];(L=h.createStyleLayer(L)).setEventedParent(this,{layer:{id:L.id}}),this._layers[L.id]=L}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new vn(this.stylesheet.light),this.fire(new h.Event("data",{dataType:"style"})),this.fire(new h.Event("style.load"))}},l.prototype._validateLayer=function(s){var c=this.sourceCaches[s.source];if(c){var m=s.sourceLayer;if(m){var g=c.getSource();(g.type==="geojson"||g.vectorLayerIds&&g.vectorLayerIds.indexOf(m)===-1)&&this.fire(new h.ErrorEvent(new Error('Source layer "'+m+'" does not exist on source "'+g.id+'" as specified by style layer "'+s.id+'"')))}}},l.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var s in this.sourceCaches)if(!this.sourceCaches[s].loaded())return!1;return!!this.imageManager.isLoaded()},l.prototype._serializeLayers=function(s){for(var c=[],m=0,g=s;m<g.length;m+=1){var b=g[m],w=this._layers[b];w.type!=="custom"&&c.push(w.serialize())}return c},l.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var s in this.sourceCaches)if(this.sourceCaches[s].hasTransition())return!0;for(var c in this._layers)if(this._layers[c].hasTransition())return!0;return!1},l.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},l.prototype.update=function(s){if(this._loaded){var c=this._changed;if(this._changed){var m=Object.keys(this._updatedLayers),g=Object.keys(this._removedLayers);for(var b in(m.length||g.length)&&this._updateWorkerLayers(m,g),this._updatedSources){var w=this._updatedSources[b];w==="reload"?this._reloadSource(b):w==="clear"&&this._clearSource(b)}for(var E in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[E].updateTransitions(s);this.light.updateTransitions(s),this._resetUpdates()}for(var L in this.sourceCaches)this.sourceCaches[L].used=!1;for(var R=0,N=this._order;R<N.length;R+=1){var Y=N[R],H=this._layers[Y];H.recalculate(s,this.imageManager.listImages()),!H.isHidden(s.zoom)&&H.source&&(this.sourceCaches[H.source].used=!0)}this.light.recalculate(s),this.z=s.zoom,c&&this.fire(new h.Event("data",{dataType:"style"}))}},l.prototype._updateTilesForChangedImages=function(){var s=Object.keys(this._changedImages);if(s.length){for(var c in this.sourceCaches)this.sourceCaches[c].reloadTilesForDependencies(["icons","patterns"],s);this._changedImages={}}},l.prototype._updateWorkerLayers=function(s,c){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(s),removedIds:c})},l.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},l.prototype.setState=function(s){var c=this;if(this._checkLoaded(),Ro(this,h.validateStyle(s)))return!1;(s=h.clone$1(s)).layers=K(s.layers);var m=Ft(this.serialize(),s).filter((function(b){return!(b.command in rs)}));if(m.length===0)return!1;var g=m.filter((function(b){return!(b.command in Xr)}));if(g.length>0)throw new Error("Unimplemented: "+g.map((function(b){return b.command})).join(", ")+".");return m.forEach((function(b){b.command!=="setTransition"&&c[b.command].apply(c,b.args)})),this.stylesheet=s,!0},l.prototype.addImage=function(s,c){if(this.getImage(s))return this.fire(new h.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(s,c),this._changedImages[s]=!0,this._changed=!0,this.fire(new h.Event("data",{dataType:"style"}))},l.prototype.updateImage=function(s,c){this.imageManager.updateImage(s,c)},l.prototype.getImage=function(s){return this.imageManager.getImage(s)},l.prototype.removeImage=function(s){if(!this.getImage(s))return this.fire(new h.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(s),this._changedImages[s]=!0,this._changed=!0,this.fire(new h.Event("data",{dataType:"style"}))},l.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},l.prototype.addSource=function(s,c,m){var g=this;if(m===void 0&&(m={}),this._checkLoaded(),this.sourceCaches[s]!==void 0)throw new Error("There is already a source with this ID");if(!c.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(c).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(c.type)>=0)||!this._validate(h.validateStyle.source,"sources."+s,c,null,m)){this.map&&this.map._collectResourceTiming&&(c.collectResourceTiming=!0);var b=this.sourceCaches[s]=new ma(s,c,this.dispatcher);b.style=this,b.setEventedParent(this,(function(){return{isSourceLoaded:g.loaded(),source:b.serialize(),sourceId:s}})),b.onAdd(this.map),this._changed=!0}},l.prototype.removeSource=function(s){if(this._checkLoaded(),this.sourceCaches[s]===void 0)throw new Error("There is no source with this ID");for(var c in this._layers)if(this._layers[c].source===s)return this.fire(new h.ErrorEvent(new Error('Source "'+s+'" cannot be removed while layer "'+c+'" is using it.')));var m=this.sourceCaches[s];delete this.sourceCaches[s],delete this._updatedSources[s],m.fire(new h.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:s})),m.setEventedParent(null),m.clearTiles(),m.onRemove&&m.onRemove(this.map),this._changed=!0},l.prototype.setGeoJSONSourceData=function(s,c){this._checkLoaded(),this.sourceCaches[s].getSource().setData(c),this._changed=!0},l.prototype.getSource=function(s){return this.sourceCaches[s]&&this.sourceCaches[s].getSource()},l.prototype.addLayer=function(s,c,m){m===void 0&&(m={}),this._checkLoaded();var g=s.id;if(this.getLayer(g))this.fire(new h.ErrorEvent(new Error('Layer with id "'+g+'" already exists on this map')));else{var b;if(s.type==="custom"){if(Ro(this,h.validateCustomStyleLayer(s)))return;b=h.createStyleLayer(s)}else{if(typeof s.source=="object"&&(this.addSource(g,s.source),s=h.clone$1(s),s=h.extend(s,{source:g})),this._validate(h.validateStyle.layer,"layers."+g,s,{arrayIndex:-1},m))return;b=h.createStyleLayer(s),this._validateLayer(b),b.setEventedParent(this,{layer:{id:g}})}var w=c?this._order.indexOf(c):this._order.length;if(c&&w===-1)this.fire(new h.ErrorEvent(new Error('Layer with id "'+c+'" does not exist on this map.')));else{if(this._order.splice(w,0,g),this._layerOrderChanged=!0,this._layers[g]=b,this._removedLayers[g]&&b.source&&b.type!=="custom"){var E=this._removedLayers[g];delete this._removedLayers[g],E.type!==b.type?this._updatedSources[b.source]="clear":(this._updatedSources[b.source]="reload",this.sourceCaches[b.source].pause())}this._updateLayer(b),b.onAdd&&b.onAdd(this.map)}}},l.prototype.moveLayer=function(s,c){if(this._checkLoaded(),this._changed=!0,this._layers[s]){if(s!==c){var m=this._order.indexOf(s);this._order.splice(m,1);var g=c?this._order.indexOf(c):this._order.length;c&&g===-1?this.fire(new h.ErrorEvent(new Error('Layer with id "'+c+'" does not exist on this map.'))):(this._order.splice(g,0,s),this._layerOrderChanged=!0)}}else this.fire(new h.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be moved.")))},l.prototype.removeLayer=function(s){this._checkLoaded();var c=this._layers[s];if(c){c.setEventedParent(null);var m=this._order.indexOf(s);this._order.splice(m,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[s]=c,delete this._layers[s],delete this._updatedLayers[s],delete this._updatedPaintProps[s],c.onRemove&&c.onRemove(this.map)}else this.fire(new h.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be removed.")))},l.prototype.getLayer=function(s){return this._layers[s]},l.prototype.setLayerZoomRange=function(s,c,m){this._checkLoaded();var g=this.getLayer(s);g?g.minzoom===c&&g.maxzoom===m||(c!=null&&(g.minzoom=c),m!=null&&(g.maxzoom=m),this._updateLayer(g)):this.fire(new h.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot have zoom extent.")))},l.prototype.setFilter=function(s,c,m){m===void 0&&(m={}),this._checkLoaded();var g=this.getLayer(s);if(g){if(!h.deepEqual(g.filter,c))return c==null?(g.filter=void 0,void this._updateLayer(g)):void(this._validate(h.validateStyle.filter,"layers."+g.id+".filter",c,null,m)||(g.filter=h.clone$1(c),this._updateLayer(g)))}else this.fire(new h.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be filtered.")))},l.prototype.getFilter=function(s){return h.clone$1(this.getLayer(s).filter)},l.prototype.setLayoutProperty=function(s,c,m,g){g===void 0&&(g={}),this._checkLoaded();var b=this.getLayer(s);b?h.deepEqual(b.getLayoutProperty(c),m)||(b.setLayoutProperty(c,m,g),this._updateLayer(b)):this.fire(new h.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be styled.")))},l.prototype.getLayoutProperty=function(s,c){var m=this.getLayer(s);if(m)return m.getLayoutProperty(c);this.fire(new h.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style.")))},l.prototype.setPaintProperty=function(s,c,m,g){g===void 0&&(g={}),this._checkLoaded();var b=this.getLayer(s);b?h.deepEqual(b.getPaintProperty(c),m)||(b.setPaintProperty(c,m,g)&&this._updateLayer(b),this._changed=!0,this._updatedPaintProps[s]=!0):this.fire(new h.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be styled.")))},l.prototype.getPaintProperty=function(s,c){return this.getLayer(s).getPaintProperty(c)},l.prototype.setFeatureState=function(s,c){this._checkLoaded();var m=s.source,g=s.sourceLayer,b=this.sourceCaches[m];if(b!==void 0){var w=b.getSource().type;w==="geojson"&&g?this.fire(new h.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):w!=="vector"||g?(s.id===void 0&&this.fire(new h.ErrorEvent(new Error("The feature id parameter must be provided."))),b.setFeatureState(g,s.id,c)):this.fire(new h.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new h.ErrorEvent(new Error("The source '"+m+"' does not exist in the map's style.")))},l.prototype.removeFeatureState=function(s,c){this._checkLoaded();var m=s.source,g=this.sourceCaches[m];if(g!==void 0){var b=g.getSource().type,w=b==="vector"?s.sourceLayer:void 0;b!=="vector"||w?c&&typeof s.id!="string"&&typeof s.id!="number"?this.fire(new h.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):g.removeFeatureState(w,s.id,c):this.fire(new h.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new h.ErrorEvent(new Error("The source '"+m+"' does not exist in the map's style.")))},l.prototype.getFeatureState=function(s){this._checkLoaded();var c=s.source,m=s.sourceLayer,g=this.sourceCaches[c];if(g!==void 0){if(g.getSource().type!=="vector"||m)return s.id===void 0&&this.fire(new h.ErrorEvent(new Error("The feature id parameter must be provided."))),g.getFeatureState(m,s.id);this.fire(new h.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new h.ErrorEvent(new Error("The source '"+c+"' does not exist in the map's style.")))},l.prototype.getTransition=function(){return h.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},l.prototype.serialize=function(){return h.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:h.mapObject(this.sourceCaches,(function(s){return s.serialize()})),layers:this._serializeLayers(this._order)},(function(s){return s!==void 0}))},l.prototype._updateLayer=function(s){this._updatedLayers[s.id]=!0,s.source&&!this._updatedSources[s.source]&&this.sourceCaches[s.source].getSource().type!=="raster"&&(this._updatedSources[s.source]="reload",this.sourceCaches[s.source].pause()),this._changed=!0},l.prototype._flattenAndSortRenderedFeatures=function(s){for(var c=this,m=function(le){return c._layers[le].type==="fill-extrusion"},g={},b=[],w=this._order.length-1;w>=0;w--){var E=this._order[w];if(m(E)){g[E]=w;for(var L=0,R=s;L<R.length;L+=1){var N=R[L][E];if(N)for(var Y=0,H=N;Y<H.length;Y+=1){var X=H[Y];b.push(X)}}}}b.sort((function(le,Yt){return Yt.intersectionZ-le.intersectionZ}));for(var Z=[],at=this._order.length-1;at>=0;at--){var tt=this._order[at];if(m(tt))for(var ht=b.length-1;ht>=0;ht--){var ct=b[ht].feature;if(g[ct.layer.id]<at)break;Z.push(ct),b.pop()}else for(var ft=0,wt=s;ft<wt.length;ft+=1){var Mt=wt[ft][tt];if(Mt)for(var Bt=0,ee=Mt;Bt<ee.length;Bt+=1){var Kt=ee[Bt];Z.push(Kt.feature)}}}return Z},l.prototype.queryRenderedFeatures=function(s,c,m){c&&c.filter&&this._validate(h.validateStyle.filter,"queryRenderedFeatures.filter",c.filter,null,c);var g={};if(c&&c.layers){if(!Array.isArray(c.layers))return this.fire(new h.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var b=0,w=c.layers;b<w.length;b+=1){var E=w[b],L=this._layers[E];if(!L)return this.fire(new h.ErrorEvent(new Error("The layer '"+E+"' does not exist in the map's style and cannot be queried for features."))),[];g[L.source]=!0}}var R=[];for(var N in this.sourceCaches)c.layers&&!g[N]||R.push(He(this.sourceCaches[N],this._layers,s,c,m));return this.placement&&R.push((function(Y,H,X,Z,at,tt){for(var ht={},ct=at.queryRenderedSymbols(X),ft=[],wt=0,Mt=Object.keys(ct).map(Number);wt<Mt.length;wt+=1){var Bt=Mt[wt];ft.push(tt[Bt])}ft.sort(Ln);for(var ee=function(){var Qt=le[Kt],we=Qt.featureIndex.lookupSymbolFeatures(ct[Qt.bucketInstanceId],Qt.bucketIndex,Qt.sourceLayerIndex,Z.filter,Z.layers,Y);for(var ke in we){var ze=ht[ke]=ht[ke]||[],Te=we[ke];Te.sort((function(nn,pi){var qe=Qt.featureSortOrder;if(qe){var Nn=qe.indexOf(nn.featureIndex);return qe.indexOf(pi.featureIndex)-Nn}return pi.featureIndex-nn.featureIndex}));for(var gi=0,Ie=Te;gi<Ie.length;gi+=1){var xe=Ie[gi];ze.push(xe)}}},Kt=0,le=ft;Kt<le.length;Kt+=1)ee();var Yt=function(Qt){ht[Qt].forEach((function(we){var ke=we.feature,ze=Y[Qt],Te=H[ze.source].getFeatureState(ke.layer["source-layer"],ke.id);ke.source=ke.layer.source,ke.layer["source-layer"]&&(ke.sourceLayer=ke.layer["source-layer"]),ke.state=Te}))};for(var ye in ht)Yt(ye);return ht})(this._layers,this.sourceCaches,s,c,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(R)},l.prototype.querySourceFeatures=function(s,c){c&&c.filter&&this._validate(h.validateStyle.filter,"querySourceFeatures.filter",c.filter,null,c);var m=this.sourceCaches[s];return m?(function(g,b){for(var w=g.getRenderableIds().map((function(H){return g.getTileByID(H)})),E=[],L={},R=0;R<w.length;R++){var N=w[R],Y=N.tileID.canonical.key;L[Y]||(L[Y]=!0,N.querySourceFeatures(E,b))}return E})(m,c):[]},l.prototype.addSourceType=function(s,c,m){return l.getSourceType(s)?m(new Error('A source type called "'+s+'" already exists.')):(l.setSourceType(s,c),c.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:s,url:c.workerSourceURL},m):m(null,null))},l.prototype.getLight=function(){return this.light.getLight()},l.prototype.setLight=function(s,c){c===void 0&&(c={}),this._checkLoaded();var m=this.light.getLight(),g=!1;for(var b in s)if(!h.deepEqual(s[b],m[b])){g=!0;break}if(g){var w={now:h.browser.now(),transition:h.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(s,c),this.light.updateTransitions(w)}},l.prototype._validate=function(s,c,m,g,b){return b===void 0&&(b={}),(!b||b.validate!==!1)&&Ro(this,s.call(h.validateStyle,h.extend({key:c,style:this.serialize(),value:m,styleSpec:h.styleSpec},g)))},l.prototype._remove=function(){for(var s in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),h.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[s].setEventedParent(null);for(var c in this.sourceCaches)this.sourceCaches[c].clearTiles(),this.sourceCaches[c].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},l.prototype._clearSource=function(s){this.sourceCaches[s].clearTiles()},l.prototype._reloadSource=function(s){this.sourceCaches[s].resume(),this.sourceCaches[s].reload()},l.prototype._updateSources=function(s){for(var c in this.sourceCaches)this.sourceCaches[c].update(s)},l.prototype._generateCollisionBoxes=function(){for(var s in this.sourceCaches)this._reloadSource(s)},l.prototype._updatePlacement=function(s,c,m,g,b){b===void 0&&(b=!1);for(var w=!1,E=!1,L={},R=0,N=this._order;R<N.length;R+=1){var Y=N[R],H=this._layers[Y];if(H.type==="symbol"){if(!L[H.source]){var X=this.sourceCaches[H.source];L[H.source]=X.getRenderableIds(!0).map((function(ft){return X.getTileByID(ft)})).sort((function(ft,wt){return wt.tileID.overscaledZ-ft.tileID.overscaledZ||(ft.tileID.isLessThan(wt.tileID)?-1:1)}))}var Z=this.crossTileSymbolIndex.addLayer(H,L[H.source],s.center.lng);w=w||Z}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((b=b||this._layerOrderChanged||m===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(h.browser.now(),s.zoom))&&(this.pauseablePlacement=new Mo(s,this._order,b,c,m,g,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,L),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(h.browser.now()),E=!0),w&&this.pauseablePlacement.placement.setStale()),E||w)for(var at=0,tt=this._order;at<tt.length;at+=1){var ht=tt[at],ct=this._layers[ht];ct.type==="symbol"&&this.placement.updateLayerOpacities(ct,L[ct.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(h.browser.now())},l.prototype._releaseSymbolFadeTiles=function(){for(var s in this.sourceCaches)this.sourceCaches[s].releaseSymbolFadeTiles()},l.prototype.getImages=function(s,c,m){this.imageManager.getImages(c.icons,m),this._updateTilesForChangedImages();var g=this.sourceCaches[c.source];g&&g.setDependencies(c.tileID.key,c.type,c.icons)},l.prototype.getGlyphs=function(s,c,m){this.glyphManager.getGlyphs(c.stacks,m)},l.prototype.getResource=function(s,c,m){return h.makeRequest(c,m)},l})(h.Evented);Ui.getSourceType=function(a){return je[a]},Ui.setSourceType=function(a,l){je[a]=l},Ui.registerForPluginStateChange=h.registerForPluginStateChange;var ko=h.createLayout([{name:"a_pos",type:"Int16",components:2}]),Yr=Yi(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`),mo=Yi(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),ja=Yi(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Za=Yi(`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),Io=Yi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Pn=Yi(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),Bo=Yi(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),El=Yi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Ga=Yi("uniform float u_overscale_factor;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {float alpha=0.5;vec4 color=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {color=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {color*=.2;}float extrude_scale_length=length(v_extrude_scale);float extrude_length=length(v_extrude)*extrude_scale_length;float stroke_width=15.0*extrude_scale_length/u_overscale_factor;float radius=v_radius*extrude_scale_length;float distance_to_edge=abs(extrude_length-radius);float opacity_t=smoothstep(-stroke_width,0.0,-distance_to_edge);gl_FragColor=opacity_t*color;}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);highp float padding_factor=1.2;gl_Position.xy+=a_extrude*u_extrude_scale*padding_factor*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;v_radius=abs(a_extrude.y);v_extrude=a_extrude*padding_factor;v_extrude_scale=u_extrude_scale*u_camera_to_center_distance*collision_perspective_ratio;}"),rh=Yi("uniform highp vec4 u_color;void main() {gl_FragColor=u_color;}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),vc=Yi(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),gc=Yi(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),Tl=Yi(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),xu=Yi(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),$c=Yi(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),as=Yi(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec4 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),os=Yi(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),Ns=Yi(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),bu=Yi(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),tp=Yi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define MAX_LINE_DISTANCE 32767.0
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),_c=Yi(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec4 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x,1.0);float x_b=mod(v_linesofar/pattern_size_b.x,1.0);float y_a=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_a.y+2.0)/2.0)/pattern_size_a.y);float y_b=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_b.y+2.0)/2.0)/pattern_size_b.y);vec2 pos_a=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,vec2(x_a,y_a));vec2 pos_b=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,vec2(x_b,y_b));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);}`),ss=Yi(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),xc=Yi(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),Fs=Yi(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`),ls=Yi(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),ep=Yi(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`);function Yi(a,l){var s=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,c={};return{fragmentSource:a=a.replace(s,(function(m,g,b,w,E){return c[E]=!0,g==="define"?`
#ifndef HAS_UNIFORM_u_`+E+`
varying `+b+" "+w+" "+E+`;
#else
uniform `+b+" "+w+" u_"+E+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+E+`
    `+b+" "+w+" "+E+" = u_"+E+`;
#endif
`})),vertexSource:l=l.replace(s,(function(m,g,b,w,E){var L=w==="float"?"vec2":"vec4",R=E.match(/color/)?"color":L;return c[E]?g==="define"?`
#ifndef HAS_UNIFORM_u_`+E+`
uniform lowp float u_`+E+`_t;
attribute `+b+" "+L+" a_"+E+`;
varying `+b+" "+w+" "+E+`;
#else
uniform `+b+" "+w+" u_"+E+`;
#endif
`:R==="vec4"?`
#ifndef HAS_UNIFORM_u_`+E+`
    `+E+" = a_"+E+`;
#else
    `+b+" "+w+" "+E+" = u_"+E+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+E+`
    `+E+" = unpack_mix_"+R+"(a_"+E+", u_"+E+`_t);
#else
    `+b+" "+w+" "+E+" = u_"+E+`;
#endif
`:g==="define"?`
#ifndef HAS_UNIFORM_u_`+E+`
uniform lowp float u_`+E+`_t;
attribute `+b+" "+L+" a_"+E+`;
#else
uniform `+b+" "+w+" u_"+E+`;
#endif
`:R==="vec4"?`
#ifndef HAS_UNIFORM_u_`+E+`
    `+b+" "+w+" "+E+" = a_"+E+`;
#else
    `+b+" "+w+" "+E+" = u_"+E+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+E+`
    `+b+" "+w+" "+E+" = unpack_mix_"+R+"(a_"+E+", u_"+E+`_t);
#else
    `+b+" "+w+" "+E+" = u_"+E+`;
#endif
`}))}}var Ki=Object.freeze({__proto__:null,prelude:Yr,background:mo,backgroundPattern:ja,circle:Za,clippingMask:Io,heatmap:Pn,heatmapTexture:Bo,collisionBox:El,collisionCircle:Ga,debug:rh,fill:vc,fillOutline:gc,fillOutlinePattern:Tl,fillPattern:xu,fillExtrusion:$c,fillExtrusionPattern:as,hillshadePrepare:os,hillshade:Ns,line:bu,lineGradient:tp,linePattern:_c,lineSDF:ss,raster:xc,symbolIcon:Fs,symbolSDF:ls,symbolTextAndIcon:ep}),us=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};us.prototype.bind=function(a,l,s,c,m,g,b,w){this.context=a;for(var E=this.boundPaintVertexBuffers.length!==c.length,L=0;!E&&L<c.length;L++)this.boundPaintVertexBuffers[L]!==c[L]&&(E=!0);var R=!this.vao||this.boundProgram!==l||this.boundLayoutVertexBuffer!==s||E||this.boundIndexBuffer!==m||this.boundVertexOffset!==g||this.boundDynamicVertexBuffer!==b||this.boundDynamicVertexBuffer2!==w;!a.extVertexArrayObject||R?this.freshBind(l,s,c,m,g,b,w):(a.bindVertexArrayOES.set(this.vao),b&&b.bind(),m&&m.dynamicDraw&&m.bind(),w&&w.bind())},us.prototype.freshBind=function(a,l,s,c,m,g,b){var w,E=a.numAttributes,L=this.context,R=L.gl;if(L.extVertexArrayObject)this.vao&&this.destroy(),this.vao=L.extVertexArrayObject.createVertexArrayOES(),L.bindVertexArrayOES.set(this.vao),w=0,this.boundProgram=a,this.boundLayoutVertexBuffer=l,this.boundPaintVertexBuffers=s,this.boundIndexBuffer=c,this.boundVertexOffset=m,this.boundDynamicVertexBuffer=g,this.boundDynamicVertexBuffer2=b;else{w=L.currentNumAttributes||0;for(var N=E;N<w;N++)R.disableVertexAttribArray(N)}l.enableAttributes(R,a);for(var Y=0,H=s;Y<H.length;Y+=1)H[Y].enableAttributes(R,a);g&&g.enableAttributes(R,a),b&&b.enableAttributes(R,a),l.bind(),l.setVertexAttribPointers(R,a,m);for(var X=0,Z=s;X<Z.length;X+=1){var at=Z[X];at.bind(),at.setVertexAttribPointers(R,a,m)}g&&(g.bind(),g.setVertexAttribPointers(R,a,m)),c&&c.bind(),b&&(b.bind(),b.setVertexAttribPointers(R,a,m)),L.currentNumAttributes=E},us.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var wu=function(a,l,s,c,m){var g=a.gl;this.program=g.createProgram();var b=s.defines();m&&b.push("#define OVERDRAW_INSPECTOR;");var w=b.concat(Yr.fragmentSource,l.fragmentSource).join(`
`),E=b.concat(Yr.vertexSource,l.vertexSource).join(`
`),L=g.createShader(g.FRAGMENT_SHADER);if(g.isContextLost())this.failedToCreate=!0;else{g.shaderSource(L,w),g.compileShader(L),g.attachShader(this.program,L);var R=g.createShader(g.VERTEX_SHADER);if(g.isContextLost())this.failedToCreate=!0;else{g.shaderSource(R,E),g.compileShader(R),g.attachShader(this.program,R);for(var N=s.layoutAttributes||[],Y=0;Y<N.length;Y++)g.bindAttribLocation(this.program,Y,N[Y].name);g.linkProgram(this.program),this.numAttributes=g.getProgramParameter(this.program,g.ACTIVE_ATTRIBUTES),this.attributes={};for(var H={},X=0;X<this.numAttributes;X++){var Z=g.getActiveAttrib(this.program,X);Z&&(this.attributes[Z.name]=g.getAttribLocation(this.program,Z.name))}for(var at=g.getProgramParameter(this.program,g.ACTIVE_UNIFORMS),tt=0;tt<at;tt++){var ht=g.getActiveUniform(this.program,tt);ht&&(H[ht.name]=g.getUniformLocation(this.program,ht.name))}this.fixedUniforms=c(a,H),this.binderUniforms=s.getUniforms(a,H)}}};function Vs(a,l,s){var c=1/Qe(s,1,l.transform.tileZoom),m=Math.pow(2,s.tileID.overscaledZ),g=s.tileSize*Math.pow(2,l.transform.tileZoom)/m,b=g*(s.tileID.canonical.x+s.tileID.wrap*m),w=g*s.tileID.canonical.y;return{u_image:0,u_texsize:s.imageAtlasTexture.size,u_scale:[h.browser.devicePixelRatio,c,a.fromScale,a.toScale],u_fade:a.t,u_pixel_coord_upper:[b>>16,w>>16],u_pixel_coord_lower:[65535&b,65535&w]}}wu.prototype.draw=function(a,l,s,c,m,g,b,w,E,L,R,N,Y,H,X,Z){var at,tt=a.gl;if(!this.failedToCreate){for(var ht in a.program.set(this.program),a.setDepthMode(s),a.setStencilMode(c),a.setColorMode(m),a.setCullFace(g),this.fixedUniforms)this.fixedUniforms[ht].set(b[ht]);H&&H.setUniforms(a,this.binderUniforms,N,{zoom:Y});for(var ct=(at={},at[tt.LINES]=2,at[tt.TRIANGLES]=3,at[tt.LINE_STRIP]=1,at)[l],ft=0,wt=R.get();ft<wt.length;ft+=1){var Mt=wt[ft],Bt=Mt.vaos||(Mt.vaos={});(Bt[w]||(Bt[w]=new us)).bind(a,this,E,H?H.getPaintVertexBuffers():[],L,Mt.vertexOffset,X,Z),tt.drawElements(l,Mt.primitiveLength*ct,tt.UNSIGNED_SHORT,Mt.primitiveOffset*ct*2)}}};var ip=function(a,l,s,c){var m=l.style.light,g=m.properties.get("position"),b=[g.x,g.y,g.z],w=h.create$1();m.properties.get("anchor")==="viewport"&&h.fromRotation(w,-l.transform.angle),h.transformMat3(b,b,w);var E=m.properties.get("color");return{u_matrix:a,u_lightpos:b,u_lightintensity:m.properties.get("intensity"),u_lightcolor:[E.r,E.g,E.b],u_vertical_gradient:+s,u_opacity:c}},ah=function(a,l,s,c,m,g,b){return h.extend(ip(a,l,s,c),Vs(g,l,b),{u_height_factor:-Math.pow(2,m.overscaledZ)/b.tileSize/8})},Su=function(a){return{u_matrix:a}},np=function(a,l,s,c){return h.extend(Su(a),Vs(s,l,c))},Al=function(a,l){return{u_matrix:a,u_world:l}},Eu=function(a,l,s,c,m){return h.extend(np(a,l,s,c),{u_world:m})},Tu=function(a,l,s,c){var m,g,b=a.transform;if(c.paint.get("circle-pitch-alignment")==="map"){var w=Qe(s,1,b.zoom);m=!0,g=[w,w]}else m=!1,g=b.pixelsToGLUnits;return{u_camera_to_center_distance:b.cameraToCenterDistance,u_scale_with_map:+(c.paint.get("circle-pitch-scale")==="map"),u_matrix:a.translatePosMatrix(l.posMatrix,s,c.paint.get("circle-translate"),c.paint.get("circle-translate-anchor")),u_pitch_with_map:+m,u_device_pixel_ratio:h.browser.devicePixelRatio,u_extrude_scale:g}},qs=function(a,l){return{u_matrix:new h.UniformMatrix4f(a,l.u_matrix),u_camera_to_center_distance:new h.Uniform1f(a,l.u_camera_to_center_distance),u_pixels_to_tile_units:new h.Uniform1f(a,l.u_pixels_to_tile_units),u_extrude_scale:new h.Uniform2f(a,l.u_extrude_scale),u_overscale_factor:new h.Uniform1f(a,l.u_overscale_factor)}},js=function(a,l,s){var c=Qe(s,1,l.zoom),m=Math.pow(2,l.zoom-s.tileID.overscaledZ),g=s.tileID.overscaleFactor();return{u_matrix:a,u_camera_to_center_distance:l.cameraToCenterDistance,u_pixels_to_tile_units:c,u_extrude_scale:[l.pixelsToGLUnits[0]/(c*m),l.pixelsToGLUnits[1]/(c*m)],u_overscale_factor:g}},Au=function(a,l){return{u_matrix:a,u_color:l}},Zs=function(a){return{u_matrix:a}},Ma=function(a,l,s,c){return{u_matrix:a,u_extrude_scale:Qe(l,1,s),u_intensity:c}};function zu(a,l){var s=Math.pow(2,l.canonical.z),c=l.canonical.y;return[new h.MercatorCoordinate(0,c/s).toLngLat().lat,new h.MercatorCoordinate(0,(c+1)/s).toLngLat().lat]}var Oo=function(a,l,s){var c=a.transform;return{u_matrix:bc(a,l,s),u_ratio:1/Qe(l,1,c.zoom),u_device_pixel_ratio:h.browser.devicePixelRatio,u_units_to_pixels:[1/c.pixelsToGLUnits[0],1/c.pixelsToGLUnits[1]]}},rp=function(a,l,s){return h.extend(Oo(a,l,s),{u_image:0})},cs=function(a,l,s,c){var m=a.transform,g=Cl(l,m);return{u_matrix:bc(a,l,s),u_texsize:l.imageAtlasTexture.size,u_ratio:1/Qe(l,1,m.zoom),u_device_pixel_ratio:h.browser.devicePixelRatio,u_image:0,u_scale:[h.browser.devicePixelRatio,g,c.fromScale,c.toScale],u_fade:c.t,u_units_to_pixels:[1/m.pixelsToGLUnits[0],1/m.pixelsToGLUnits[1]]}},zl=function(a,l,s,c,m){var g=a.transform,b=a.lineAtlas,w=Cl(l,g),E=s.layout.get("line-cap")==="round",L=b.getDash(c.from,E),R=b.getDash(c.to,E),N=L.width*m.fromScale,Y=R.width*m.toScale;return h.extend(Oo(a,l,s),{u_patternscale_a:[w/N,-L.height/2],u_patternscale_b:[w/Y,-R.height/2],u_sdfgamma:b.width/(256*Math.min(N,Y)*h.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:L.y,u_tex_y_b:R.y,u_mix:m.t})};function Cl(a,l){return 1/Qe(a,1,l.tileZoom)}function bc(a,l,s){return a.translatePosMatrix(l.tileID.posMatrix,l,s.paint.get("line-translate"),s.paint.get("line-translate-anchor"))}var Ml=function(a,l,s,c,m){return{u_matrix:a,u_tl_parent:l,u_scale_parent:s,u_buffer_scale:1,u_fade_t:c.mix,u_opacity:c.opacity*m.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:m.paint.get("raster-brightness-min"),u_brightness_high:m.paint.get("raster-brightness-max"),u_saturation_factor:(b=m.paint.get("raster-saturation"),b>0?1-1/(1.001-b):-b),u_contrast_factor:(g=m.paint.get("raster-contrast"),g>0?1/(1-g):1+g),u_spin_weights:Gs(m.paint.get("raster-hue-rotate"))};var g,b};function Gs(a){a*=Math.PI/180;var l=Math.sin(a),s=Math.cos(a);return[(2*s+1)/3,(-Math.sqrt(3)*l-s+1)/3,(Math.sqrt(3)*l-s+1)/3]}var Dl=function(a,l,s,c,m,g,b,w,E,L){var R=m.transform;return{u_is_size_zoom_constant:+(a==="constant"||a==="source"),u_is_size_feature_constant:+(a==="constant"||a==="camera"),u_size_t:l?l.uSizeT:0,u_size:l?l.uSize:0,u_camera_to_center_distance:R.cameraToCenterDistance,u_pitch:R.pitch/360*2*Math.PI,u_rotate_symbol:+s,u_aspect_ratio:R.width/R.height,u_fade_change:m.options.fadeDuration?m.symbolFadeChange:1,u_matrix:g,u_label_plane_matrix:b,u_coord_matrix:w,u_is_text:+E,u_pitch_with_map:+c,u_texsize:L,u_texture:0}},Cu=function(a,l,s,c,m,g,b,w,E,L,R){var N=m.transform;return h.extend(Dl(a,l,s,c,m,g,b,w,E,L),{u_gamma_scale:c?Math.cos(N._pitch)*N.cameraToCenterDistance:1,u_device_pixel_ratio:h.browser.devicePixelRatio,u_is_halo:1})},ap=function(a,l,s,c,m,g,b,w,E,L){return h.extend(Cu(a,l,s,c,m,g,b,w,!0,E),{u_texsize_icon:L,u_texture_icon:1})},wc=function(a,l,s){return{u_matrix:a,u_opacity:l,u_color:s}},Ll=function(a,l,s,c,m,g){return h.extend((function(b,w,E,L){var R=E.imageManager.getPattern(b.from.toString()),N=E.imageManager.getPattern(b.to.toString()),Y=E.imageManager.getPixelSize(),H=Y.width,X=Y.height,Z=Math.pow(2,L.tileID.overscaledZ),at=L.tileSize*Math.pow(2,E.transform.tileZoom)/Z,tt=at*(L.tileID.canonical.x+L.tileID.wrap*Z),ht=at*L.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:R.tl,u_pattern_br_a:R.br,u_pattern_tl_b:N.tl,u_pattern_br_b:N.br,u_texsize:[H,X],u_mix:w.t,u_pattern_size_a:R.displaySize,u_pattern_size_b:N.displaySize,u_scale_a:w.fromScale,u_scale_b:w.toScale,u_tile_units_to_pixels:1/Qe(L,1,E.transform.tileZoom),u_pixel_coord_upper:[tt>>16,ht>>16],u_pixel_coord_lower:[65535&tt,65535&ht]}})(c,g,s,m),{u_matrix:a,u_opacity:l})},ps={fillExtrusion:function(a,l){return{u_matrix:new h.UniformMatrix4f(a,l.u_matrix),u_lightpos:new h.Uniform3f(a,l.u_lightpos),u_lightintensity:new h.Uniform1f(a,l.u_lightintensity),u_lightcolor:new h.Uniform3f(a,l.u_lightcolor),u_vertical_gradient:new h.Uniform1f(a,l.u_vertical_gradient),u_opacity:new h.Uniform1f(a,l.u_opacity)}},fillExtrusionPattern:function(a,l){return{u_matrix:new h.UniformMatrix4f(a,l.u_matrix),u_lightpos:new h.Uniform3f(a,l.u_lightpos),u_lightintensity:new h.Uniform1f(a,l.u_lightintensity),u_lightcolor:new h.Uniform3f(a,l.u_lightcolor),u_vertical_gradient:new h.Uniform1f(a,l.u_vertical_gradient),u_height_factor:new h.Uniform1f(a,l.u_height_factor),u_image:new h.Uniform1i(a,l.u_image),u_texsize:new h.Uniform2f(a,l.u_texsize),u_pixel_coord_upper:new h.Uniform2f(a,l.u_pixel_coord_upper),u_pixel_coord_lower:new h.Uniform2f(a,l.u_pixel_coord_lower),u_scale:new h.Uniform4f(a,l.u_scale),u_fade:new h.Uniform1f(a,l.u_fade),u_opacity:new h.Uniform1f(a,l.u_opacity)}},fill:function(a,l){return{u_matrix:new h.UniformMatrix4f(a,l.u_matrix)}},fillPattern:function(a,l){return{u_matrix:new h.UniformMatrix4f(a,l.u_matrix),u_image:new h.Uniform1i(a,l.u_image),u_texsize:new h.Uniform2f(a,l.u_texsize),u_pixel_coord_upper:new h.Uniform2f(a,l.u_pixel_coord_upper),u_pixel_coord_lower:new h.Uniform2f(a,l.u_pixel_coord_lower),u_scale:new h.Uniform4f(a,l.u_scale),u_fade:new h.Uniform1f(a,l.u_fade)}},fillOutline:function(a,l){return{u_matrix:new h.UniformMatrix4f(a,l.u_matrix),u_world:new h.Uniform2f(a,l.u_world)}},fillOutlinePattern:function(a,l){return{u_matrix:new h.UniformMatrix4f(a,l.u_matrix),u_world:new h.Uniform2f(a,l.u_world),u_image:new h.Uniform1i(a,l.u_image),u_texsize:new h.Uniform2f(a,l.u_texsize),u_pixel_coord_upper:new h.Uniform2f(a,l.u_pixel_coord_upper),u_pixel_coord_lower:new h.Uniform2f(a,l.u_pixel_coord_lower),u_scale:new h.Uniform4f(a,l.u_scale),u_fade:new h.Uniform1f(a,l.u_fade)}},circle:function(a,l){return{u_camera_to_center_distance:new h.Uniform1f(a,l.u_camera_to_center_distance),u_scale_with_map:new h.Uniform1i(a,l.u_scale_with_map),u_pitch_with_map:new h.Uniform1i(a,l.u_pitch_with_map),u_extrude_scale:new h.Uniform2f(a,l.u_extrude_scale),u_device_pixel_ratio:new h.Uniform1f(a,l.u_device_pixel_ratio),u_matrix:new h.UniformMatrix4f(a,l.u_matrix)}},collisionBox:qs,collisionCircle:qs,debug:function(a,l){return{u_color:new h.UniformColor(a,l.u_color),u_matrix:new h.UniformMatrix4f(a,l.u_matrix)}},clippingMask:function(a,l){return{u_matrix:new h.UniformMatrix4f(a,l.u_matrix)}},heatmap:function(a,l){return{u_extrude_scale:new h.Uniform1f(a,l.u_extrude_scale),u_intensity:new h.Uniform1f(a,l.u_intensity),u_matrix:new h.UniformMatrix4f(a,l.u_matrix)}},heatmapTexture:function(a,l){return{u_matrix:new h.UniformMatrix4f(a,l.u_matrix),u_world:new h.Uniform2f(a,l.u_world),u_image:new h.Uniform1i(a,l.u_image),u_color_ramp:new h.Uniform1i(a,l.u_color_ramp),u_opacity:new h.Uniform1f(a,l.u_opacity)}},hillshade:function(a,l){return{u_matrix:new h.UniformMatrix4f(a,l.u_matrix),u_image:new h.Uniform1i(a,l.u_image),u_latrange:new h.Uniform2f(a,l.u_latrange),u_light:new h.Uniform2f(a,l.u_light),u_shadow:new h.UniformColor(a,l.u_shadow),u_highlight:new h.UniformColor(a,l.u_highlight),u_accent:new h.UniformColor(a,l.u_accent)}},hillshadePrepare:function(a,l){return{u_matrix:new h.UniformMatrix4f(a,l.u_matrix),u_image:new h.Uniform1i(a,l.u_image),u_dimension:new h.Uniform2f(a,l.u_dimension),u_zoom:new h.Uniform1f(a,l.u_zoom),u_maxzoom:new h.Uniform1f(a,l.u_maxzoom),u_unpack:new h.Uniform4f(a,l.u_unpack)}},line:function(a,l){return{u_matrix:new h.UniformMatrix4f(a,l.u_matrix),u_ratio:new h.Uniform1f(a,l.u_ratio),u_device_pixel_ratio:new h.Uniform1f(a,l.u_device_pixel_ratio),u_units_to_pixels:new h.Uniform2f(a,l.u_units_to_pixels)}},lineGradient:function(a,l){return{u_matrix:new h.UniformMatrix4f(a,l.u_matrix),u_ratio:new h.Uniform1f(a,l.u_ratio),u_device_pixel_ratio:new h.Uniform1f(a,l.u_device_pixel_ratio),u_units_to_pixels:new h.Uniform2f(a,l.u_units_to_pixels),u_image:new h.Uniform1i(a,l.u_image)}},linePattern:function(a,l){return{u_matrix:new h.UniformMatrix4f(a,l.u_matrix),u_texsize:new h.Uniform2f(a,l.u_texsize),u_ratio:new h.Uniform1f(a,l.u_ratio),u_device_pixel_ratio:new h.Uniform1f(a,l.u_device_pixel_ratio),u_image:new h.Uniform1i(a,l.u_image),u_units_to_pixels:new h.Uniform2f(a,l.u_units_to_pixels),u_scale:new h.Uniform4f(a,l.u_scale),u_fade:new h.Uniform1f(a,l.u_fade)}},lineSDF:function(a,l){return{u_matrix:new h.UniformMatrix4f(a,l.u_matrix),u_ratio:new h.Uniform1f(a,l.u_ratio),u_device_pixel_ratio:new h.Uniform1f(a,l.u_device_pixel_ratio),u_units_to_pixels:new h.Uniform2f(a,l.u_units_to_pixels),u_patternscale_a:new h.Uniform2f(a,l.u_patternscale_a),u_patternscale_b:new h.Uniform2f(a,l.u_patternscale_b),u_sdfgamma:new h.Uniform1f(a,l.u_sdfgamma),u_image:new h.Uniform1i(a,l.u_image),u_tex_y_a:new h.Uniform1f(a,l.u_tex_y_a),u_tex_y_b:new h.Uniform1f(a,l.u_tex_y_b),u_mix:new h.Uniform1f(a,l.u_mix)}},raster:function(a,l){return{u_matrix:new h.UniformMatrix4f(a,l.u_matrix),u_tl_parent:new h.Uniform2f(a,l.u_tl_parent),u_scale_parent:new h.Uniform1f(a,l.u_scale_parent),u_buffer_scale:new h.Uniform1f(a,l.u_buffer_scale),u_fade_t:new h.Uniform1f(a,l.u_fade_t),u_opacity:new h.Uniform1f(a,l.u_opacity),u_image0:new h.Uniform1i(a,l.u_image0),u_image1:new h.Uniform1i(a,l.u_image1),u_brightness_low:new h.Uniform1f(a,l.u_brightness_low),u_brightness_high:new h.Uniform1f(a,l.u_brightness_high),u_saturation_factor:new h.Uniform1f(a,l.u_saturation_factor),u_contrast_factor:new h.Uniform1f(a,l.u_contrast_factor),u_spin_weights:new h.Uniform3f(a,l.u_spin_weights)}},symbolIcon:function(a,l){return{u_is_size_zoom_constant:new h.Uniform1i(a,l.u_is_size_zoom_constant),u_is_size_feature_constant:new h.Uniform1i(a,l.u_is_size_feature_constant),u_size_t:new h.Uniform1f(a,l.u_size_t),u_size:new h.Uniform1f(a,l.u_size),u_camera_to_center_distance:new h.Uniform1f(a,l.u_camera_to_center_distance),u_pitch:new h.Uniform1f(a,l.u_pitch),u_rotate_symbol:new h.Uniform1i(a,l.u_rotate_symbol),u_aspect_ratio:new h.Uniform1f(a,l.u_aspect_ratio),u_fade_change:new h.Uniform1f(a,l.u_fade_change),u_matrix:new h.UniformMatrix4f(a,l.u_matrix),u_label_plane_matrix:new h.UniformMatrix4f(a,l.u_label_plane_matrix),u_coord_matrix:new h.UniformMatrix4f(a,l.u_coord_matrix),u_is_text:new h.Uniform1f(a,l.u_is_text),u_pitch_with_map:new h.Uniform1i(a,l.u_pitch_with_map),u_texsize:new h.Uniform2f(a,l.u_texsize),u_texture:new h.Uniform1i(a,l.u_texture)}},symbolSDF:function(a,l){return{u_is_size_zoom_constant:new h.Uniform1i(a,l.u_is_size_zoom_constant),u_is_size_feature_constant:new h.Uniform1i(a,l.u_is_size_feature_constant),u_size_t:new h.Uniform1f(a,l.u_size_t),u_size:new h.Uniform1f(a,l.u_size),u_camera_to_center_distance:new h.Uniform1f(a,l.u_camera_to_center_distance),u_pitch:new h.Uniform1f(a,l.u_pitch),u_rotate_symbol:new h.Uniform1i(a,l.u_rotate_symbol),u_aspect_ratio:new h.Uniform1f(a,l.u_aspect_ratio),u_fade_change:new h.Uniform1f(a,l.u_fade_change),u_matrix:new h.UniformMatrix4f(a,l.u_matrix),u_label_plane_matrix:new h.UniformMatrix4f(a,l.u_label_plane_matrix),u_coord_matrix:new h.UniformMatrix4f(a,l.u_coord_matrix),u_is_text:new h.Uniform1f(a,l.u_is_text),u_pitch_with_map:new h.Uniform1i(a,l.u_pitch_with_map),u_texsize:new h.Uniform2f(a,l.u_texsize),u_texture:new h.Uniform1i(a,l.u_texture),u_gamma_scale:new h.Uniform1f(a,l.u_gamma_scale),u_device_pixel_ratio:new h.Uniform1f(a,l.u_device_pixel_ratio),u_is_halo:new h.Uniform1f(a,l.u_is_halo)}},symbolTextAndIcon:function(a,l){return{u_is_size_zoom_constant:new h.Uniform1i(a,l.u_is_size_zoom_constant),u_is_size_feature_constant:new h.Uniform1i(a,l.u_is_size_feature_constant),u_size_t:new h.Uniform1f(a,l.u_size_t),u_size:new h.Uniform1f(a,l.u_size),u_camera_to_center_distance:new h.Uniform1f(a,l.u_camera_to_center_distance),u_pitch:new h.Uniform1f(a,l.u_pitch),u_rotate_symbol:new h.Uniform1i(a,l.u_rotate_symbol),u_aspect_ratio:new h.Uniform1f(a,l.u_aspect_ratio),u_fade_change:new h.Uniform1f(a,l.u_fade_change),u_matrix:new h.UniformMatrix4f(a,l.u_matrix),u_label_plane_matrix:new h.UniformMatrix4f(a,l.u_label_plane_matrix),u_coord_matrix:new h.UniformMatrix4f(a,l.u_coord_matrix),u_is_text:new h.Uniform1f(a,l.u_is_text),u_pitch_with_map:new h.Uniform1i(a,l.u_pitch_with_map),u_texsize:new h.Uniform2f(a,l.u_texsize),u_texsize_icon:new h.Uniform2f(a,l.u_texsize_icon),u_texture:new h.Uniform1i(a,l.u_texture),u_texture_icon:new h.Uniform1i(a,l.u_texture_icon),u_gamma_scale:new h.Uniform1f(a,l.u_gamma_scale),u_device_pixel_ratio:new h.Uniform1f(a,l.u_device_pixel_ratio),u_is_halo:new h.Uniform1f(a,l.u_is_halo)}},background:function(a,l){return{u_matrix:new h.UniformMatrix4f(a,l.u_matrix),u_opacity:new h.Uniform1f(a,l.u_opacity),u_color:new h.UniformColor(a,l.u_color)}},backgroundPattern:function(a,l){return{u_matrix:new h.UniformMatrix4f(a,l.u_matrix),u_opacity:new h.Uniform1f(a,l.u_opacity),u_image:new h.Uniform1i(a,l.u_image),u_pattern_tl_a:new h.Uniform2f(a,l.u_pattern_tl_a),u_pattern_br_a:new h.Uniform2f(a,l.u_pattern_br_a),u_pattern_tl_b:new h.Uniform2f(a,l.u_pattern_tl_b),u_pattern_br_b:new h.Uniform2f(a,l.u_pattern_br_b),u_texsize:new h.Uniform2f(a,l.u_texsize),u_mix:new h.Uniform1f(a,l.u_mix),u_pattern_size_a:new h.Uniform2f(a,l.u_pattern_size_a),u_pattern_size_b:new h.Uniform2f(a,l.u_pattern_size_b),u_scale_a:new h.Uniform1f(a,l.u_scale_a),u_scale_b:new h.Uniform1f(a,l.u_scale_b),u_pixel_coord_upper:new h.Uniform2f(a,l.u_pixel_coord_upper),u_pixel_coord_lower:new h.Uniform2f(a,l.u_pixel_coord_lower),u_tile_units_to_pixels:new h.Uniform1f(a,l.u_tile_units_to_pixels)}}};function hs(a,l,s,c,m,g,b,w){for(var E=a.context,L=E.gl,R=m?a.useProgram("collisionCircle"):a.useProgram("collisionBox"),N=0;N<c.length;N++){var Y=c[N],H=l.getTile(Y),X=H.getBucket(s);if(X){var Z=m?w?X.textCollisionCircle:X.iconCollisionCircle:w?X.textCollisionBox:X.iconCollisionBox;if(Z){var at=Y.posMatrix;g[0]===0&&g[1]===0||(at=a.translatePosMatrix(Y.posMatrix,H,g,b)),R.draw(E,m?L.TRIANGLES:L.LINES,oi.disabled,gn.disabled,a.colorModeForRenderPass(),zt.disabled,js(at,a.transform,H),s.id,Z.layoutVertexBuffer,Z.indexBuffer,Z.segments,null,a.transform.zoom,null,null,Z.collisionVertexBuffer)}}}}function Sc(a,l,s,c,m,g,b){hs(a,l,s,c,!1,m,g,b),hs(a,l,s,c,!0,m,g,b)}var Rl=h.identity(new Float32Array(16));function Ec(a,l,s,c,m,g){var b=h.getAnchorAlignment(a),w=-(b.horizontalAlign-.5)*l,E=-(b.verticalAlign-.5)*s,L=h.evaluateVariableOffset(a,c);return new h.Point((w/m+L[0])*g,(E/m+L[1])*g)}function fs(a,l,s,c,m,g,b,w,E,L,R){var N=a.text.placedSymbolArray,Y=a.text.dynamicLayoutVertexArray,H=a.icon.dynamicLayoutVertexArray,X={};Y.clear();for(var Z=0;Z<N.length;Z++){var at=N.get(Z),tt=a.allowVerticalPlacement&&!at.placedOrientation,ht=at.hidden||!at.crossTileID||tt?null:c[at.crossTileID];if(ht){var ct=new h.Point(at.anchorX,at.anchorY),ft=Ht(ct,s?w:b),wt=.5+g.cameraToCenterDistance/ft.signedDistanceFromCamera*.5,Mt=m.evaluateSizeForFeature(a.textSizeData,L,at)*wt/h.ONE_EM;s&&(Mt*=a.tilePixelRatio/E);for(var Bt=ht.width,ee=ht.height,Kt=Ec(ht.anchor,Bt,ee,ht.textOffset,ht.textBoxScale,Mt),le=s?Ht(ct.add(Kt),b).point:ft.point.add(l?Kt.rotate(-g.angle):Kt),Yt=a.allowVerticalPlacement&&at.placedOrientation===h.WritingMode.vertical?Math.PI/2:0,ye=0;ye<at.numGlyphs;ye++)h.addDynamicAttributes(Y,le,Yt);R&&at.associatedIconIndex>=0&&(X[at.associatedIconIndex]={shiftedAnchor:le,angle:Yt})}else Ve(at.numGlyphs,Y)}if(R){H.clear();for(var Qt=a.icon.placedSymbolArray,we=0;we<Qt.length;we++){var ke=Qt.get(we);if(ke.hidden)Ve(ke.numGlyphs,H);else{var ze=X[we];if(ze)for(var Te=0;Te<ke.numGlyphs;Te++)h.addDynamicAttributes(H,ze.shiftedAnchor,ze.angle);else Ve(ke.numGlyphs,H)}}a.icon.dynamicLayoutVertexBuffer.updateData(H)}a.text.dynamicLayoutVertexBuffer.updateData(Y)}function Mu(a,l,s){return s.iconsInText&&l?"symbolTextAndIcon":a?"symbolSDF":"symbolIcon"}function kl(a,l,s,c,m,g,b,w,E,L,R,N){for(var Y,H,X=a.context,Z=X.gl,at=a.transform,tt=w==="map",ht=E==="map",ct=tt&&s.layout.get("symbol-placement")!=="point",ft=tt&&!ht&&!ct,wt=s.layout.get("symbol-sort-key").constantOr(1)!==void 0,Mt=a.depthModeForSublayer(0,oi.ReadOnly),Bt=s.layout.get("text-variable-anchor"),ee=[],Kt=0,le=c;Kt<le.length;Kt+=1){var Yt=le[Kt],ye=l.getTile(Yt),Qt=ye.getBucket(s);if(Qt){var we=m?Qt.text:Qt.icon;if(we&&we.segments.get().length){var ke=we.programConfigurations.get(s.id),ze=m||Qt.sdfIcons,Te=m?Qt.textSizeData:Qt.iconSizeData,gi=ht||at.pitch!==0;Y||(Y=a.useProgram(Mu(ze,m,Qt),ke),H=h.evaluateSizeForZoom(Te,at.zoom));var Ie=void 0,xe=[0,0],nn=void 0,pi=void 0,qe=null,Nn=void 0;if(m){if(nn=ye.glyphAtlasTexture,pi=Z.LINEAR,Ie=ye.glyphAtlasTexture.size,Qt.iconsInText){xe=ye.imageAtlasTexture.size,qe=ye.imageAtlasTexture;var En=Te.kind==="composite"||Te.kind==="camera";Nn=gi||a.options.rotating||a.options.zooming||En?Z.LINEAR:Z.NEAREST}}else{var Zi=s.layout.get("icon-size").constantOr(0)!==1||Qt.iconsNeedLinear;nn=ye.imageAtlasTexture,pi=ze||a.options.rotating||a.options.zooming||Zi||gi?Z.LINEAR:Z.NEAREST,Ie=ye.imageAtlasTexture.size}var xr=Qe(ye,1,a.transform.zoom),ta=ae(Yt.posMatrix,ht,tt,a.transform,xr),ka=de(Yt.posMatrix,ht,tt,a.transform,xr),kn=Bt&&Qt.hasTextData(),Xa=s.layout.get("icon-text-fit")!=="none"&&kn&&Qt.hasIconData();ct&&We(Qt,Yt.posMatrix,a,m,ta,ka,ht,L);var xa=a.translatePosMatrix(Yt.posMatrix,ye,g,b),Vo=ct||m&&Bt||Xa?Rl:ta,Pr=a.translatePosMatrix(ka,ye,g,b,!0),Bu=ze&&s.paint.get(m?"text-halo-width":"icon-halo-width").constantOr(1)!==0,Ya={program:Y,buffers:we,uniformValues:ze?Qt.iconsInText?ap(Te.kind,H,ft,ht,a,xa,Vo,Pr,Ie,xe):Cu(Te.kind,H,ft,ht,a,xa,Vo,Pr,m,Ie):Dl(Te.kind,H,ft,ht,a,xa,Vo,Pr,m,Ie),atlasTexture:nn,atlasTextureIcon:qe,atlasInterpolation:pi,atlasInterpolationIcon:Nn,isSDF:ze,hasHalo:Bu};if(wt)for(var ba=0,Qs=we.segments.get();ba<Qs.length;ba+=1){var vo=Qs[ba];ee.push({segments:new h.SegmentVector([vo]),sortKey:vo.sortKey,state:Ya})}else ee.push({segments:we.segments,sortKey:0,state:Ya})}}}wt&&ee.sort((function(pr,Er){return pr.sortKey-Er.sortKey}));for(var qo=0,Ka=ee;qo<Ka.length;qo+=1){var Gi=Ka[qo],mi=Gi.state;if(X.activeTexture.set(Z.TEXTURE0),mi.atlasTexture.bind(mi.atlasInterpolation,Z.CLAMP_TO_EDGE),mi.atlasTextureIcon&&(X.activeTexture.set(Z.TEXTURE1),mi.atlasTextureIcon&&mi.atlasTextureIcon.bind(mi.atlasInterpolationIcon,Z.CLAMP_TO_EDGE)),mi.isSDF){var wi=mi.uniformValues;mi.hasHalo&&(wi.u_is_halo=1,Du(mi.buffers,Gi.segments,s,a,mi.program,Mt,R,N,wi)),wi.u_is_halo=0}Du(mi.buffers,Gi.segments,s,a,mi.program,Mt,R,N,mi.uniformValues)}}function Du(a,l,s,c,m,g,b,w,E){var L=c.context,R=L.gl;m.draw(L,R.TRIANGLES,g,b,w,zt.disabled,E,s.id,a.layoutVertexBuffer,a.indexBuffer,l,s.paint,c.transform.zoom,a.programConfigurations.get(s.id),a.dynamicLayoutVertexBuffer,a.opacityVertexBuffer)}function Lu(a,l,s,c,m,g,b){var w,E,L,R,N,Y=a.context.gl,H=s.paint.get("fill-pattern"),X=H&&H.constantOr(1),Z=s.getCrossfadeParameters();b?(E=X&&!s.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",w=Y.LINES):(E=X?"fillPattern":"fill",w=Y.TRIANGLES);for(var at=0,tt=c;at<tt.length;at+=1){var ht=tt[at],ct=l.getTile(ht);if(!X||ct.patternsLoaded()){var ft=ct.getBucket(s);if(ft){var wt=ft.programConfigurations.get(s.id),Mt=a.useProgram(E,wt);X&&(a.context.activeTexture.set(Y.TEXTURE0),ct.imageAtlasTexture.bind(Y.LINEAR,Y.CLAMP_TO_EDGE),wt.updatePatternPaintBuffers(Z));var Bt=H.constantOr(null);if(Bt&&ct.imageAtlas){var ee=ct.imageAtlas,Kt=ee.patternPositions[Bt.to.toString()],le=ee.patternPositions[Bt.from.toString()];Kt&&le&&wt.setConstantPatternPositions(Kt,le)}var Yt=a.translatePosMatrix(ht.posMatrix,ct,s.paint.get("fill-translate"),s.paint.get("fill-translate-anchor"));if(b){R=ft.indexBuffer2,N=ft.segments2;var ye=[Y.drawingBufferWidth,Y.drawingBufferHeight];L=E==="fillOutlinePattern"&&X?Eu(Yt,a,Z,ct,ye):Al(Yt,ye)}else R=ft.indexBuffer,N=ft.segments,L=X?np(Yt,a,Z,ct):Su(Yt);Mt.draw(a.context,w,m,a.stencilModeForClipping(ht),g,zt.disabled,L,s.id,ft.layoutVertexBuffer,R,N,s.paint,a.transform.zoom,wt)}}}}function kr(a,l,s,c,m,g,b){for(var w=a.context,E=w.gl,L=s.paint.get("fill-extrusion-pattern"),R=L.constantOr(1),N=s.getCrossfadeParameters(),Y=s.paint.get("fill-extrusion-opacity"),H=0,X=c;H<X.length;H+=1){var Z=X[H],at=l.getTile(Z),tt=at.getBucket(s);if(tt){var ht=tt.programConfigurations.get(s.id),ct=a.useProgram(R?"fillExtrusionPattern":"fillExtrusion",ht);R&&(a.context.activeTexture.set(E.TEXTURE0),at.imageAtlasTexture.bind(E.LINEAR,E.CLAMP_TO_EDGE),ht.updatePatternPaintBuffers(N));var ft=L.constantOr(null);if(ft&&at.imageAtlas){var wt=at.imageAtlas,Mt=wt.patternPositions[ft.to.toString()],Bt=wt.patternPositions[ft.from.toString()];Mt&&Bt&&ht.setConstantPatternPositions(Mt,Bt)}var ee=a.translatePosMatrix(Z.posMatrix,at,s.paint.get("fill-extrusion-translate"),s.paint.get("fill-extrusion-translate-anchor")),Kt=s.paint.get("fill-extrusion-vertical-gradient"),le=R?ah(ee,a,Kt,Y,Z,N,at):ip(ee,a,Kt,Y);ct.draw(w,w.gl.TRIANGLES,m,g,b,zt.backCCW,le,s.id,tt.layoutVertexBuffer,tt.indexBuffer,tt.segments,s.paint,a.transform.zoom,ht)}}}function oh(a,l,s,c,m,g){var b=a.context,w=b.gl,E=l.fbo;if(E){var L=a.useProgram("hillshade");b.activeTexture.set(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,E.colorAttachment.get());var R=(function(N,Y,H){var X=H.paint.get("hillshade-shadow-color"),Z=H.paint.get("hillshade-highlight-color"),at=H.paint.get("hillshade-accent-color"),tt=H.paint.get("hillshade-illumination-direction")*(Math.PI/180);H.paint.get("hillshade-illumination-anchor")==="viewport"&&(tt-=N.transform.angle);var ht=!N.options.moving;return{u_matrix:N.transform.calculatePosMatrix(Y.tileID.toUnwrapped(),ht),u_image:0,u_latrange:zu(N,Y.tileID),u_light:[H.paint.get("hillshade-exaggeration"),tt],u_shadow:X,u_highlight:Z,u_accent:at}})(a,l,s);L.draw(b,w.TRIANGLES,c,m,g,zt.disabled,R,s.id,a.rasterBoundsBuffer,a.quadTriangleIndexBuffer,a.rasterBoundsSegments)}}function ds(a,l,s,c,m,g,b){var w=a.context,E=w.gl,L=l.dem;if(L&&L.data){var R=L.dim,N=L.stride,Y=L.getPixels();if(w.activeTexture.set(E.TEXTURE1),w.pixelStoreUnpackPremultiplyAlpha.set(!1),l.demTexture=l.demTexture||a.getTileTexture(N),l.demTexture){var H=l.demTexture;H.update(Y,{premultiply:!1}),H.bind(E.NEAREST,E.CLAMP_TO_EDGE)}else l.demTexture=new h.Texture(w,Y,E.RGBA,{premultiply:!1}),l.demTexture.bind(E.NEAREST,E.CLAMP_TO_EDGE);w.activeTexture.set(E.TEXTURE0);var X=l.fbo;if(!X){var Z=new h.Texture(w,{width:R,height:R,data:null},E.RGBA);Z.bind(E.LINEAR,E.CLAMP_TO_EDGE),(X=l.fbo=w.createFramebuffer(R,R)).colorAttachment.set(Z.texture)}w.bindFramebuffer.set(X.framebuffer),w.viewport.set([0,0,R,R]),a.useProgram("hillshadePrepare").draw(w,E.TRIANGLES,m,g,b,zt.disabled,(function(at,tt,ht){var ct=tt.stride,ft=h.create();return h.ortho(ft,0,h.EXTENT,-h.EXTENT,0,0,1),h.translate(ft,ft,[0,-h.EXTENT,0]),{u_matrix:ft,u_image:1,u_dimension:[ct,ct],u_zoom:at.overscaledZ,u_maxzoom:ht,u_unpack:tt.getUnpackVector()}})(l.tileID,L,c),s.id,a.rasterBoundsBuffer,a.quadTriangleIndexBuffer,a.rasterBoundsSegments),l.needsHillshadePrepare=!1}}function op(a,l,s,c,m){var g=c.paint.get("raster-fade-duration");if(g>0){var b=h.browser.now(),w=(b-a.timeAdded)/g,E=l?(b-l.timeAdded)/g:-1,L=s.getSource(),R=m.coveringZoomLevel({tileSize:L.tileSize,roundZoom:L.roundZoom}),N=!l||Math.abs(l.tileID.overscaledZ-R)>Math.abs(a.tileID.overscaledZ-R),Y=N&&a.refreshedUponExpiration?1:h.clamp(N?w:1-E,0,1);return a.refreshedUponExpiration&&w>=1&&(a.refreshedUponExpiration=!1),l?{opacity:1,mix:1-Y}:{opacity:Y,mix:0}}return{opacity:1,mix:0}}function Hs(a,l,s){var c=a.context,m=c.gl,g=s.posMatrix,b=a.useProgram("debug"),w=oi.disabled,E=gn.disabled,L=a.colorModeForRenderPass(),R="$debug";b.draw(c,m.LINE_STRIP,w,E,L,zt.disabled,Au(g,h.Color.red),R,a.debugBuffer,a.tileBorderIndexBuffer,a.debugSegments);var N=l.getTileByID(s.key).latestRawTileData,Y=N&&N.byteLength||0,H=Math.floor(Y/1024),X=l.getTile(s).tileSize,Z=512/Math.min(X,512),at=s.canonical.toString();s.overscaledZ!==s.canonical.z&&(at+=" => "+s.overscaledZ);for(var tt=(function(we,ke,ze,Te){Te=Te||1;var gi,Ie,xe,nn,pi,qe,Nn,En,Zi=[];for(gi=0,Ie=we.length;gi<Ie;gi++)if(pi=Il[we[gi]]){for(En=null,xe=0,nn=pi[1].length;xe<nn;xe+=2)pi[1][xe]===-1&&pi[1][xe+1]===-1?En=null:(qe=ke+pi[1][xe]*Te,Nn=ze-pi[1][xe+1]*Te,En&&Zi.push(En.x,En.y,qe,Nn),En={x:qe,y:Nn});ke+=pi[0]*Te}return Zi})(at+" "+H+"kb",50,200*Z,5*Z),ht=new h.StructArrayLayout2i4,ct=new h.StructArrayLayout2ui4,ft=0;ft<tt.length;ft+=2)ht.emplaceBack(tt[ft],tt[ft+1]),ct.emplaceBack(ft,ft+1);for(var wt=c.createVertexBuffer(ht,ko.members),Mt=c.createIndexBuffer(ct),Bt=h.SegmentVector.simpleSegment(0,0,ht.length/2,ht.length/2),ee=h.EXTENT/(Math.pow(2,a.transform.zoom-s.overscaledZ)*X*Z),Kt=[],le=-1;le<=1;le++)for(var Yt=-1;Yt<=1&&(le!==0||Yt!==0);Yt++)Kt.push([le,Yt]);for(var ye=0;ye<Kt.length;ye++){var Qt=Kt[ye];b.draw(c,m.LINES,w,E,L,zt.disabled,Au(h.translate([],g,[ee*Qt[0],ee*Qt[1],0]),h.Color.white),R,wt,Mt,Bt)}b.draw(c,m.LINES,w,E,L,zt.disabled,Au(g,h.Color.black),R,wt,Mt,Bt),wt.destroy(),Mt.destroy(),Bt.destroy()}var Il={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]},Ir={symbol:function(a,l,s,c,m){if(a.renderPass==="translucent"){var g=gn.disabled,b=a.colorModeForRenderPass();s.layout.get("text-variable-anchor")&&(function(w,E,L,R,N,Y,H){for(var X=E.transform,Z=N==="map",at=Y==="map",tt=0,ht=w;tt<ht.length;tt+=1){var ct=ht[tt],ft=R.getTile(ct),wt=ft.getBucket(L);if(wt&&wt.text&&wt.text.segments.get().length){var Mt=wt.textSizeData,Bt=h.evaluateSizeForZoom(Mt,X.zoom),ee=Qe(ft,1,E.transform.zoom),Kt=ae(ct.posMatrix,at,Z,E.transform,ee),le=L.layout.get("icon-text-fit")!=="none"&&wt.hasIconData();if(Bt){var Yt=Math.pow(2,X.zoom-ft.tileID.overscaledZ);fs(wt,Z,at,H,h.symbolSize,X,Kt,ct.posMatrix,Yt,Bt,le)}}}})(c,a,s,l,s.layout.get("text-rotation-alignment"),s.layout.get("text-pitch-alignment"),m),s.paint.get("icon-opacity").constantOr(1)!==0&&kl(a,l,s,c,!1,s.paint.get("icon-translate"),s.paint.get("icon-translate-anchor"),s.layout.get("icon-rotation-alignment"),s.layout.get("icon-pitch-alignment"),s.layout.get("icon-keep-upright"),g,b),s.paint.get("text-opacity").constantOr(1)!==0&&kl(a,l,s,c,!0,s.paint.get("text-translate"),s.paint.get("text-translate-anchor"),s.layout.get("text-rotation-alignment"),s.layout.get("text-pitch-alignment"),s.layout.get("text-keep-upright"),g,b),l.map.showCollisionBoxes&&(Sc(a,l,s,c,s.paint.get("text-translate"),s.paint.get("text-translate-anchor"),!0),Sc(a,l,s,c,s.paint.get("icon-translate"),s.paint.get("icon-translate-anchor"),!1))}},circle:function(a,l,s,c){if(a.renderPass==="translucent"){var m=s.paint.get("circle-opacity"),g=s.paint.get("circle-stroke-width"),b=s.paint.get("circle-stroke-opacity"),w=s.layout.get("circle-sort-key").constantOr(1)!==void 0;if(m.constantOr(1)!==0||g.constantOr(1)!==0&&b.constantOr(1)!==0){for(var E=a.context,L=E.gl,R=a.depthModeForSublayer(0,oi.ReadOnly),N=gn.disabled,Y=a.colorModeForRenderPass(),H=[],X=0;X<c.length;X++){var Z=c[X],at=l.getTile(Z),tt=at.getBucket(s);if(tt){var ht=tt.programConfigurations.get(s.id),ct={programConfiguration:ht,program:a.useProgram("circle",ht),layoutVertexBuffer:tt.layoutVertexBuffer,indexBuffer:tt.indexBuffer,uniformValues:Tu(a,Z,at,s)};if(w)for(var ft=0,wt=tt.segments.get();ft<wt.length;ft+=1){var Mt=wt[ft];H.push({segments:new h.SegmentVector([Mt]),sortKey:Mt.sortKey,state:ct})}else H.push({segments:tt.segments,sortKey:0,state:ct})}}w&&H.sort((function(Te,gi){return Te.sortKey-gi.sortKey}));for(var Bt=0,ee=H;Bt<ee.length;Bt+=1){var Kt=ee[Bt],le=Kt.state,Yt=le.programConfiguration,ye=le.program,Qt=le.layoutVertexBuffer,we=le.indexBuffer,ke=le.uniformValues,ze=Kt.segments;ye.draw(E,L.TRIANGLES,R,N,Y,zt.disabled,ke,s.id,Qt,we,ze,s.paint,a.transform.zoom,Yt)}}}},heatmap:function(a,l,s,c){if(s.paint.get("heatmap-opacity")!==0)if(a.renderPass==="offscreen"){var m=a.context,g=m.gl,b=a.depthModeForSublayer(0,oi.ReadOnly),w=gn.disabled,E=new Xi([g.ONE,g.ONE],h.Color.transparent,[!0,!0,!0,!0]);(function(at,tt,ht){var ct=at.gl;at.activeTexture.set(ct.TEXTURE1),at.viewport.set([0,0,tt.width/4,tt.height/4]);var ft=ht.heatmapFbo;if(ft)ct.bindTexture(ct.TEXTURE_2D,ft.colorAttachment.get()),at.bindFramebuffer.set(ft.framebuffer);else{var wt=ct.createTexture();ct.bindTexture(ct.TEXTURE_2D,wt),ct.texParameteri(ct.TEXTURE_2D,ct.TEXTURE_WRAP_S,ct.CLAMP_TO_EDGE),ct.texParameteri(ct.TEXTURE_2D,ct.TEXTURE_WRAP_T,ct.CLAMP_TO_EDGE),ct.texParameteri(ct.TEXTURE_2D,ct.TEXTURE_MIN_FILTER,ct.LINEAR),ct.texParameteri(ct.TEXTURE_2D,ct.TEXTURE_MAG_FILTER,ct.LINEAR),ft=ht.heatmapFbo=at.createFramebuffer(tt.width/4,tt.height/4),(function Mt(Bt,ee,Kt,le){var Yt=Bt.gl;Yt.texImage2D(Yt.TEXTURE_2D,0,Yt.RGBA,ee.width/4,ee.height/4,0,Yt.RGBA,Bt.extTextureHalfFloat?Bt.extTextureHalfFloat.HALF_FLOAT_OES:Yt.UNSIGNED_BYTE,null),le.colorAttachment.set(Kt),Bt.extTextureHalfFloat&&Yt.checkFramebufferStatus(Yt.FRAMEBUFFER)!==Yt.FRAMEBUFFER_COMPLETE&&(Bt.extTextureHalfFloat=null,le.colorAttachment.setDirty(),Mt(Bt,ee,Kt,le))})(at,tt,wt,ft)}})(m,a,s),m.clear({color:h.Color.transparent});for(var L=0;L<c.length;L++){var R=c[L];if(!l.hasRenderableParent(R)){var N=l.getTile(R),Y=N.getBucket(s);if(Y){var H=Y.programConfigurations.get(s.id),X=a.useProgram("heatmap",H),Z=a.transform.zoom;X.draw(m,g.TRIANGLES,b,w,E,zt.disabled,Ma(R.posMatrix,N,Z,s.paint.get("heatmap-intensity")),s.id,Y.layoutVertexBuffer,Y.indexBuffer,Y.segments,s.paint,a.transform.zoom,H)}}}m.viewport.set([0,0,a.width,a.height])}else a.renderPass==="translucent"&&(a.context.setColorMode(a.colorModeForRenderPass()),(function(at,tt){var ht=at.context,ct=ht.gl,ft=tt.heatmapFbo;if(ft){ht.activeTexture.set(ct.TEXTURE0),ct.bindTexture(ct.TEXTURE_2D,ft.colorAttachment.get()),ht.activeTexture.set(ct.TEXTURE1);var wt=tt.colorRampTexture;wt||(wt=tt.colorRampTexture=new h.Texture(ht,tt.colorRamp,ct.RGBA)),wt.bind(ct.LINEAR,ct.CLAMP_TO_EDGE),at.useProgram("heatmapTexture").draw(ht,ct.TRIANGLES,oi.disabled,gn.disabled,at.colorModeForRenderPass(),zt.disabled,(function(Mt,Bt,ee,Kt){var le=h.create();h.ortho(le,0,Mt.width,Mt.height,0,0,1);var Yt=Mt.context.gl;return{u_matrix:le,u_world:[Yt.drawingBufferWidth,Yt.drawingBufferHeight],u_image:ee,u_color_ramp:Kt,u_opacity:Bt.paint.get("heatmap-opacity")}})(at,tt,0,1),tt.id,at.viewportBuffer,at.quadTriangleIndexBuffer,at.viewportSegments,tt.paint,at.transform.zoom)}})(a,s))},line:function(a,l,s,c){if(a.renderPass==="translucent"){var m=s.paint.get("line-opacity"),g=s.paint.get("line-width");if(m.constantOr(1)!==0&&g.constantOr(1)!==0){var b=a.depthModeForSublayer(0,oi.ReadOnly),w=a.colorModeForRenderPass(),E=s.paint.get("line-dasharray"),L=s.paint.get("line-pattern"),R=L.constantOr(1),N=s.paint.get("line-gradient"),Y=s.getCrossfadeParameters(),H=E?"lineSDF":R?"linePattern":N?"lineGradient":"line",X=a.context,Z=X.gl,at=!0;if(N){X.activeTexture.set(Z.TEXTURE0);var tt=s.gradientTexture;if(!s.gradient)return;tt||(tt=s.gradientTexture=new h.Texture(X,s.gradient,Z.RGBA)),tt.bind(Z.LINEAR,Z.CLAMP_TO_EDGE)}for(var ht=0,ct=c;ht<ct.length;ht+=1){var ft=ct[ht],wt=l.getTile(ft);if(!R||wt.patternsLoaded()){var Mt=wt.getBucket(s);if(Mt){var Bt=Mt.programConfigurations.get(s.id),ee=a.context.program.get(),Kt=a.useProgram(H,Bt),le=at||Kt.program!==ee,Yt=L.constantOr(null);if(Yt&&wt.imageAtlas){var ye=wt.imageAtlas,Qt=ye.patternPositions[Yt.to.toString()],we=ye.patternPositions[Yt.from.toString()];Qt&&we&&Bt.setConstantPatternPositions(Qt,we)}var ke=E?zl(a,wt,s,E,Y):R?cs(a,wt,s,Y):N?rp(a,wt,s):Oo(a,wt,s);E&&(le||a.lineAtlas.dirty)?(X.activeTexture.set(Z.TEXTURE0),a.lineAtlas.bind(X)):R&&(X.activeTexture.set(Z.TEXTURE0),wt.imageAtlasTexture.bind(Z.LINEAR,Z.CLAMP_TO_EDGE),Bt.updatePatternPaintBuffers(Y)),Kt.draw(X,Z.TRIANGLES,b,a.stencilModeForClipping(ft),w,zt.disabled,ke,s.id,Mt.layoutVertexBuffer,Mt.indexBuffer,Mt.segments,s.paint,a.transform.zoom,Bt),at=!1}}}}}},fill:function(a,l,s,c){var m=s.paint.get("fill-color"),g=s.paint.get("fill-opacity");if(g.constantOr(1)!==0){var b=a.colorModeForRenderPass(),w=s.paint.get("fill-pattern"),E=a.opaquePassEnabledForLayer()&&!w.constantOr(1)&&m.constantOr(h.Color.transparent).a===1&&g.constantOr(0)===1?"opaque":"translucent";if(a.renderPass===E){var L=a.depthModeForSublayer(1,a.renderPass==="opaque"?oi.ReadWrite:oi.ReadOnly);Lu(a,l,s,c,L,b,!1)}if(a.renderPass==="translucent"&&s.paint.get("fill-antialias")){var R=a.depthModeForSublayer(s.getPaintProperty("fill-outline-color")?2:0,oi.ReadOnly);Lu(a,l,s,c,R,b,!0)}}},"fill-extrusion":function(a,l,s,c){var m=s.paint.get("fill-extrusion-opacity");if(m!==0&&a.renderPass==="translucent"){var g=new oi(a.context.gl.LEQUAL,oi.ReadWrite,a.depthRangeFor3D);if(m!==1||s.paint.get("fill-extrusion-pattern").constantOr(1))kr(a,l,s,c,g,gn.disabled,Xi.disabled),kr(a,l,s,c,g,a.stencilModeFor3D(),a.colorModeForRenderPass());else{var b=a.colorModeForRenderPass();kr(a,l,s,c,g,gn.disabled,b)}}},hillshade:function(a,l,s,c){if(a.renderPass==="offscreen"||a.renderPass==="translucent"){for(var m=a.context,g=l.getSource().maxzoom,b=a.depthModeForSublayer(0,oi.ReadOnly),w=a.colorModeForRenderPass(),E=a.renderPass==="translucent"?a.stencilConfigForOverlap(c):[{},c],L=E[0],R=0,N=E[1];R<N.length;R+=1){var Y=N[R],H=l.getTile(Y);H.needsHillshadePrepare&&a.renderPass==="offscreen"?ds(a,H,s,g,b,gn.disabled,w):a.renderPass==="translucent"&&oh(a,H,s,b,L[Y.overscaledZ],w)}m.viewport.set([0,0,a.width,a.height])}},raster:function(a,l,s,c){if(a.renderPass==="translucent"&&s.paint.get("raster-opacity")!==0&&c.length)for(var m=a.context,g=m.gl,b=l.getSource(),w=a.useProgram("raster"),E=a.colorModeForRenderPass(),L=b instanceof Pt?[{},c]:a.stencilConfigForOverlap(c),R=L[0],N=L[1],Y=N[N.length-1].overscaledZ,H=!a.options.moving,X=0,Z=N;X<Z.length;X+=1){var at=Z[X],tt=a.depthModeForSublayer(at.overscaledZ-Y,s.paint.get("raster-opacity")===1?oi.ReadWrite:oi.ReadOnly,g.LESS),ht=l.getTile(at),ct=a.transform.calculatePosMatrix(at.toUnwrapped(),H);ht.registerFadeDuration(s.paint.get("raster-fade-duration"));var ft=l.findLoadedParent(at,0),wt=op(ht,ft,l,s,a.transform),Mt=void 0,Bt=void 0,ee=s.paint.get("raster-resampling")==="nearest"?g.NEAREST:g.LINEAR;m.activeTexture.set(g.TEXTURE0),ht.texture.bind(ee,g.CLAMP_TO_EDGE,g.LINEAR_MIPMAP_NEAREST),m.activeTexture.set(g.TEXTURE1),ft?(ft.texture.bind(ee,g.CLAMP_TO_EDGE,g.LINEAR_MIPMAP_NEAREST),Mt=Math.pow(2,ft.tileID.overscaledZ-ht.tileID.overscaledZ),Bt=[ht.tileID.canonical.x*Mt%1,ht.tileID.canonical.y*Mt%1]):ht.texture.bind(ee,g.CLAMP_TO_EDGE,g.LINEAR_MIPMAP_NEAREST);var Kt=Ml(ct,Bt||[0,0],Mt||1,wt,s);b instanceof Pt?w.draw(m,g.TRIANGLES,tt,gn.disabled,E,zt.disabled,Kt,s.id,b.boundsBuffer,a.quadTriangleIndexBuffer,b.boundsSegments):w.draw(m,g.TRIANGLES,tt,R[at.overscaledZ],E,zt.disabled,Kt,s.id,a.rasterBoundsBuffer,a.quadTriangleIndexBuffer,a.rasterBoundsSegments)}},background:function(a,l,s){var c=s.paint.get("background-color"),m=s.paint.get("background-opacity");if(m!==0){var g=a.context,b=g.gl,w=a.transform,E=w.tileSize,L=s.paint.get("background-pattern");if(!a.isPatternMissing(L)){var R=!L&&c.a===1&&m===1&&a.opaquePassEnabledForLayer()?"opaque":"translucent";if(a.renderPass===R){var N=gn.disabled,Y=a.depthModeForSublayer(0,R==="opaque"?oi.ReadWrite:oi.ReadOnly),H=a.colorModeForRenderPass(),X=a.useProgram(L?"backgroundPattern":"background"),Z=w.coveringTiles({tileSize:E});L&&(g.activeTexture.set(b.TEXTURE0),a.imageManager.bind(a.context));for(var at=s.getCrossfadeParameters(),tt=0,ht=Z;tt<ht.length;tt+=1){var ct=ht[tt],ft=a.transform.calculatePosMatrix(ct.toUnwrapped()),wt=L?Ll(ft,m,a,L,{tileID:ct,tileSize:E},at):wc(ft,m,c);X.draw(g,b.TRIANGLES,Y,N,H,zt.disabled,wt,s.id,a.tileExtentBuffer,a.quadTriangleIndexBuffer,a.tileExtentSegments)}}}}},debug:function(a,l,s){for(var c=0;c<s.length;c++)Hs(a,l,s[c])},custom:function(a,l,s){var c=a.context,m=s.implementation;if(a.renderPass==="offscreen"){var g=m.prerender;g&&(a.setCustomLayerDefaults(),c.setColorMode(a.colorModeForRenderPass()),g.call(m,c.gl,a.transform.customLayerMatrix()),c.setDirty(),a.setBaseState())}else if(a.renderPass==="translucent"){a.setCustomLayerDefaults(),c.setColorMode(a.colorModeForRenderPass()),c.setStencilMode(gn.disabled);var b=m.renderingMode==="3d"?new oi(a.context.gl.LEQUAL,oi.ReadWrite,a.depthRangeFor3D):a.depthModeForSublayer(0,oi.ReadOnly);c.setDepthMode(b),m.render(c.gl,a.transform.customLayerMatrix()),c.setDirty(),a.setBaseState(),c.bindFramebuffer.set(null)}}},qi=function(a,l){this.context=new Jt(a),this.transform=l,this._tileTextures={},this.setup(),this.numSublayers=ma.maxUnderzooming+ma.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new h.ProgramConfiguration,this.crossTileSymbolIndex=new Us,this.gpuTimers={}};function Ru(a,l){if(a.y>l.y){var s=a;a=l,l=s}return{x0:a.x,y0:a.y,x1:l.x,y1:l.y,dx:l.x-a.x,dy:l.y-a.y}}function ku(a,l,s,c,m){var g=Math.max(s,Math.floor(l.y0)),b=Math.min(c,Math.ceil(l.y1));if(a.x0===l.x0&&a.y0===l.y0?a.x0+l.dy/a.dy*a.dx<l.x1:a.x1-l.dy/a.dy*a.dx<l.x0){var w=a;a=l,l=w}for(var E=a.dx/a.dy,L=l.dx/l.dy,R=a.dx>0,N=l.dx<0,Y=g;Y<b;Y++){var H=E*Math.max(0,Math.min(a.dy,Y+R-a.y0))+a.x0,X=L*Math.max(0,Math.min(l.dy,Y+N-l.y0))+l.x0;m(Math.floor(X),Math.ceil(H),Y)}}function Uo(a,l,s,c,m,g){var b,w=Ru(a,l),E=Ru(l,s),L=Ru(s,a);w.dy>E.dy&&(b=w,w=E,E=b),w.dy>L.dy&&(b=w,w=L,L=b),E.dy>L.dy&&(b=E,E=L,L=b),w.dy&&ku(L,w,c,m,g),E.dy&&ku(L,E,c,m,g)}qi.prototype.resize=function(a,l){var s=this.context.gl;if(this.width=a*h.browser.devicePixelRatio,this.height=l*h.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var c=0,m=this.style._order;c<m.length;c+=1){var g=m[c];this.style._layers[g].resize()}this.depthRbo&&(s.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},qi.prototype.setup=function(){var a=this.context,l=new h.StructArrayLayout2i4;l.emplaceBack(0,0),l.emplaceBack(h.EXTENT,0),l.emplaceBack(0,h.EXTENT),l.emplaceBack(h.EXTENT,h.EXTENT),this.tileExtentBuffer=a.createVertexBuffer(l,ko.members),this.tileExtentSegments=h.SegmentVector.simpleSegment(0,0,4,2);var s=new h.StructArrayLayout2i4;s.emplaceBack(0,0),s.emplaceBack(h.EXTENT,0),s.emplaceBack(0,h.EXTENT),s.emplaceBack(h.EXTENT,h.EXTENT),this.debugBuffer=a.createVertexBuffer(s,ko.members),this.debugSegments=h.SegmentVector.simpleSegment(0,0,4,5);var c=new h.StructArrayLayout4i8;c.emplaceBack(0,0,0,0),c.emplaceBack(h.EXTENT,0,h.EXTENT,0),c.emplaceBack(0,h.EXTENT,0,h.EXTENT),c.emplaceBack(h.EXTENT,h.EXTENT,h.EXTENT,h.EXTENT),this.rasterBoundsBuffer=a.createVertexBuffer(c,lt.members),this.rasterBoundsSegments=h.SegmentVector.simpleSegment(0,0,4,2);var m=new h.StructArrayLayout2i4;m.emplaceBack(0,0),m.emplaceBack(1,0),m.emplaceBack(0,1),m.emplaceBack(1,1),this.viewportBuffer=a.createVertexBuffer(m,ko.members),this.viewportSegments=h.SegmentVector.simpleSegment(0,0,4,2);var g=new h.StructArrayLayout1ui2;g.emplaceBack(0),g.emplaceBack(1),g.emplaceBack(3),g.emplaceBack(2),g.emplaceBack(0),this.tileBorderIndexBuffer=a.createIndexBuffer(g);var b=new h.StructArrayLayout3ui6;b.emplaceBack(0,1,2),b.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=a.createIndexBuffer(b);var w=this.context.gl;this.stencilClearMode=new gn({func:w.ALWAYS,mask:0},0,255,w.ZERO,w.ZERO,w.ZERO)},qi.prototype.clearStencil=function(){var a=this.context,l=a.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var s=h.create();h.ortho(s,0,this.width,this.height,0,0,1),h.scale(s,s,[l.drawingBufferWidth,l.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(a,l.TRIANGLES,oi.disabled,this.stencilClearMode,Xi.disabled,zt.disabled,Zs(s),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},qi.prototype._renderTileClippingMasks=function(a,l){if(this.currentStencilSource!==a.source&&a.isTileClipped()&&l&&l.length){this.currentStencilSource=a.source;var s=this.context,c=s.gl;this.nextStencilID+l.length>256&&this.clearStencil(),s.setColorMode(Xi.disabled),s.setDepthMode(oi.disabled);var m=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var g=0,b=l;g<b.length;g+=1){var w=b[g],E=this._tileClippingMaskIDs[w.key]=this.nextStencilID++;m.draw(s,c.TRIANGLES,oi.disabled,new gn({func:c.ALWAYS,mask:0},E,255,c.KEEP,c.KEEP,c.REPLACE),Xi.disabled,zt.disabled,Zs(w.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},qi.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var a=this.nextStencilID++,l=this.context.gl;return new gn({func:l.NOTEQUAL,mask:255},a,255,l.KEEP,l.KEEP,l.REPLACE)},qi.prototype.stencilModeForClipping=function(a){var l=this.context.gl;return new gn({func:l.EQUAL,mask:255},this._tileClippingMaskIDs[a.key],0,l.KEEP,l.KEEP,l.REPLACE)},qi.prototype.stencilConfigForOverlap=function(a){var l,s=this.context.gl,c=a.sort((function(E,L){return L.overscaledZ-E.overscaledZ})),m=c[c.length-1].overscaledZ,g=c[0].overscaledZ-m+1;if(g>1){this.currentStencilSource=void 0,this.nextStencilID+g>256&&this.clearStencil();for(var b={},w=0;w<g;w++)b[w+m]=new gn({func:s.GEQUAL,mask:255},w+this.nextStencilID,255,s.KEEP,s.KEEP,s.REPLACE);return this.nextStencilID+=g,[b,c]}return[(l={},l[m]=gn.disabled,l),c]},qi.prototype.colorModeForRenderPass=function(){var a=this.context.gl;return this._showOverdrawInspector?new Xi([a.CONSTANT_COLOR,a.ONE],new h.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Xi.unblended:Xi.alphaBlended},qi.prototype.depthModeForSublayer=function(a,l,s){if(!this.opaquePassEnabledForLayer())return oi.disabled;var c=1-((1+this.currentLayer)*this.numSublayers+a)*this.depthEpsilon;return new oi(s||this.context.gl.LEQUAL,l,[c,c])},qi.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},qi.prototype.render=function(a,l){var s=this;this.style=a,this.options=l,this.lineAtlas=a.lineAtlas,this.imageManager=a.imageManager,this.glyphManager=a.glyphManager,this.symbolFadeChange=a.placement.symbolFadeChange(h.browser.now()),this.imageManager.beginFrame();var c=this.style._order,m=this.style.sourceCaches;for(var g in m){var b=m[g];b.used&&b.prepare(this.context)}var w,E,L={},R={},N={};for(var Y in m){var H=m[Y];L[Y]=H.getVisibleCoordinates(),R[Y]=L[Y].slice().reverse(),N[Y]=H.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var X=0;X<c.length;X++){var Z=c[X];if(this.style._layers[Z].is3D()){this.opaquePassCutoff=X;break}}this.renderPass="offscreen",this.depthRboNeedsClear=!0;for(var at=0,tt=c;at<tt.length;at+=1){var ht=tt[at],ct=this.style._layers[ht];if(ct.hasOffscreenPass()&&!ct.isHidden(this.transform.zoom)){var ft=R[ct.source];(ct.type==="custom"||ft.length)&&this.renderLayer(this,m[ct.source],ct,ft)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:l.showOverdrawInspector?h.Color.black:h.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=l.showOverdrawInspector,this.depthRangeFor3D=[0,1-(a._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=c.length-1;this.currentLayer>=0;this.currentLayer--){var wt=this.style._layers[c[this.currentLayer]],Mt=m[wt.source],Bt=L[wt.source];this._renderTileClippingMasks(wt,Bt),this.renderLayer(this,Mt,wt,Bt)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<c.length;this.currentLayer++){var ee=this.style._layers[c[this.currentLayer]],Kt=m[ee.source],le=(ee.type==="symbol"?N:R)[ee.source];this._renderTileClippingMasks(ee,L[ee.source]),this.renderLayer(this,Kt,ee,le)}this.options.showTileBoundaries&&(h.values(this.style._layers).forEach((function(Yt){Yt.source&&!Yt.isHidden(s.transform.zoom)&&(Yt.source!==(E&&E.id)&&(E=s.style.sourceCaches[Yt.source]),(!w||w.getSource().maxzoom<E.getSource().maxzoom)&&(w=E))})),w&&Ir.debug(this,w,w.getVisibleCoordinates())),this.context.setDefault()},qi.prototype.setupOffscreenDepthRenderbuffer=function(){var a=this.context;this.depthRbo||(this.depthRbo=a.createRenderbuffer(a.gl.DEPTH_COMPONENT16,this.width,this.height))},qi.prototype.renderLayer=function(a,l,s,c){s.isHidden(this.transform.zoom)||(s.type==="background"||s.type==="custom"||c.length)&&(this.id=s.id,this.gpuTimingStart(s),Ir[s.type](a,l,s,c,this.style.placement.variableOffsets),this.gpuTimingEnd())},qi.prototype.gpuTimingStart=function(a){if(this.options.gpuTiming){var l=this.context.extTimerQuery,s=this.gpuTimers[a.id];s||(s=this.gpuTimers[a.id]={calls:0,cpuTime:0,query:l.createQueryEXT()}),s.calls++,l.beginQueryEXT(l.TIME_ELAPSED_EXT,s.query)}},qi.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var a=this.context.extTimerQuery;a.endQueryEXT(a.TIME_ELAPSED_EXT)}},qi.prototype.collectGpuTimers=function(){var a=this.gpuTimers;return this.gpuTimers={},a},qi.prototype.queryGpuTimers=function(a){var l={};for(var s in a){var c=a[s],m=this.context.extTimerQuery,g=m.getQueryObjectEXT(c.query,m.QUERY_RESULT_EXT)/1e6;m.deleteQueryEXT(c.query),l[s]=g}return l},qi.prototype.translatePosMatrix=function(a,l,s,c,m){if(!s[0]&&!s[1])return a;var g=m?c==="map"?this.transform.angle:0:c==="viewport"?-this.transform.angle:0;if(g){var b=Math.sin(g),w=Math.cos(g);s=[s[0]*w-s[1]*b,s[0]*b+s[1]*w]}var E=[m?s[0]:Qe(l,s[0],this.transform.zoom),m?s[1]:Qe(l,s[1],this.transform.zoom),0],L=new Float32Array(16);return h.translate(L,a,E),L},qi.prototype.saveTileTexture=function(a){var l=this._tileTextures[a.size[0]];l?l.push(a):this._tileTextures[a.size[0]]=[a]},qi.prototype.getTileTexture=function(a){var l=this._tileTextures[a];return l&&l.length>0?l.pop():null},qi.prototype.isPatternMissing=function(a){if(!a)return!1;var l=this.imageManager.getPattern(a.from.toString()),s=this.imageManager.getPattern(a.to.toString());return!l||!s},qi.prototype.useProgram=function(a,l){l===void 0&&(l=this.emptyProgramConfiguration),this.cache=this.cache||{};var s=""+a+(l.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[s]||(this.cache[s]=new wu(this.context,Ki[a],l,ps[a],this._showOverdrawInspector)),this.cache[s]},qi.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},qi.prototype.setBaseState=function(){var a=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(a.FUNC_ADD)};var li=function(a,l,s,c,m){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=m===void 0||m,this._minZoom=a||0,this._maxZoom=l||22,this._minPitch=s??0,this._maxPitch=c??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new h.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}},ji={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerPoint:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};li.prototype.clone=function(){var a=new li(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return a.tileSize=this.tileSize,a.latRange=this.latRange,a.width=this.width,a.height=this.height,a._center=this._center,a.zoom=this.zoom,a.angle=this.angle,a._fov=this._fov,a._pitch=this._pitch,a._unmodified=this._unmodified,a._calcMatrices(),a},ji.minZoom.get=function(){return this._minZoom},ji.minZoom.set=function(a){this._minZoom!==a&&(this._minZoom=a,this.zoom=Math.max(this.zoom,a))},ji.maxZoom.get=function(){return this._maxZoom},ji.maxZoom.set=function(a){this._maxZoom!==a&&(this._maxZoom=a,this.zoom=Math.min(this.zoom,a))},ji.minPitch.get=function(){return this._minPitch},ji.minPitch.set=function(a){this._minPitch!==a&&(this._minPitch=a,this.pitch=Math.max(this.pitch,a))},ji.maxPitch.get=function(){return this._maxPitch},ji.maxPitch.set=function(a){this._maxPitch!==a&&(this._maxPitch=a,this.pitch=Math.min(this.pitch,a))},ji.renderWorldCopies.get=function(){return this._renderWorldCopies},ji.renderWorldCopies.set=function(a){a===void 0?a=!0:a===null&&(a=!1),this._renderWorldCopies=a},ji.worldSize.get=function(){return this.tileSize*this.scale},ji.centerPoint.get=function(){return this.size._div(2)},ji.size.get=function(){return new h.Point(this.width,this.height)},ji.bearing.get=function(){return-this.angle/Math.PI*180},ji.bearing.set=function(a){var l=-h.wrap(a,-180,180)*Math.PI/180;this.angle!==l&&(this._unmodified=!1,this.angle=l,this._calcMatrices(),this.rotationMatrix=h.create$2(),h.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},ji.pitch.get=function(){return this._pitch/Math.PI*180},ji.pitch.set=function(a){var l=h.clamp(a,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==l&&(this._unmodified=!1,this._pitch=l,this._calcMatrices())},ji.fov.get=function(){return this._fov/Math.PI*180},ji.fov.set=function(a){a=Math.max(.01,Math.min(60,a)),this._fov!==a&&(this._unmodified=!1,this._fov=a/180*Math.PI,this._calcMatrices())},ji.zoom.get=function(){return this._zoom},ji.zoom.set=function(a){var l=Math.min(Math.max(a,this.minZoom),this.maxZoom);this._zoom!==l&&(this._unmodified=!1,this._zoom=l,this.scale=this.zoomScale(l),this.tileZoom=Math.floor(l),this.zoomFraction=l-this.tileZoom,this._constrain(),this._calcMatrices())},ji.center.get=function(){return this._center},ji.center.set=function(a){a.lat===this._center.lat&&a.lng===this._center.lng||(this._unmodified=!1,this._center=a,this._constrain(),this._calcMatrices())},li.prototype.coveringZoomLevel=function(a){var l=(a.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/a.tileSize));return Math.max(0,l)},li.prototype.getVisibleUnwrappedCoordinates=function(a){var l=[new h.UnwrappedTileID(0,a)];if(this._renderWorldCopies)for(var s=this.pointCoordinate(new h.Point(0,0)),c=this.pointCoordinate(new h.Point(this.width,0)),m=this.pointCoordinate(new h.Point(this.width,this.height)),g=this.pointCoordinate(new h.Point(0,this.height)),b=Math.floor(Math.min(s.x,c.x,m.x,g.x)),w=Math.floor(Math.max(s.x,c.x,m.x,g.x)),E=b-1;E<=w+1;E++)E!==0&&l.push(new h.UnwrappedTileID(E,a));return l},li.prototype.coveringTiles=function(a){var l=this.coveringZoomLevel(a),s=l;if(a.minzoom!==void 0&&l<a.minzoom)return[];a.maxzoom!==void 0&&l>a.maxzoom&&(l=a.maxzoom);var c=h.MercatorCoordinate.fromLngLat(this.center),m=Math.pow(2,l),g=new h.Point(m*c.x-.5,m*c.y-.5);return(function(b,w,E,L){L===void 0&&(L=!0);var R=1<<b,N={};function Y(X,Z,at){var tt,ht,ct,ft;if(at>=0&&at<=R)for(tt=X;tt<Z;tt++)ht=Math.floor(tt/R),ct=(tt%R+R)%R,ht!==0&&L!==!0||(ft=new h.OverscaledTileID(E,ht,b,ct,at),N[ft.key]=ft)}var H=w.map((function(X){return new h.Point(X.x,X.y)._mult(R)}));return Uo(H[0],H[1],H[2],0,R,Y),Uo(H[2],H[3],H[0],0,R,Y),Object.keys(N).map((function(X){return N[X]}))})(l,[this.pointCoordinate(new h.Point(0,0)),this.pointCoordinate(new h.Point(this.width,0)),this.pointCoordinate(new h.Point(this.width,this.height)),this.pointCoordinate(new h.Point(0,this.height))],a.reparseOverscaled?s:l,this._renderWorldCopies).sort((function(b,w){return g.dist(b.canonical)-g.dist(w.canonical)}))},li.prototype.resize=function(a,l){this.width=a,this.height=l,this.pixelsToGLUnits=[2/a,-2/l],this._constrain(),this._calcMatrices()},ji.unmodified.get=function(){return this._unmodified},li.prototype.zoomScale=function(a){return Math.pow(2,a)},li.prototype.scaleZoom=function(a){return Math.log(a)/Math.LN2},li.prototype.project=function(a){var l=h.clamp(a.lat,-this.maxValidLatitude,this.maxValidLatitude);return new h.Point(h.mercatorXfromLng(a.lng)*this.worldSize,h.mercatorYfromLat(l)*this.worldSize)},li.prototype.unproject=function(a){return new h.MercatorCoordinate(a.x/this.worldSize,a.y/this.worldSize).toLngLat()},ji.point.get=function(){return this.project(this.center)},li.prototype.setLocationAtPoint=function(a,l){var s=this.pointCoordinate(l),c=this.pointCoordinate(this.centerPoint),m=this.locationCoordinate(a),g=new h.MercatorCoordinate(m.x-(s.x-c.x),m.y-(s.y-c.y));this.center=this.coordinateLocation(g),this._renderWorldCopies&&(this.center=this.center.wrap())},li.prototype.locationPoint=function(a){return this.coordinatePoint(this.locationCoordinate(a))},li.prototype.pointLocation=function(a){return this.coordinateLocation(this.pointCoordinate(a))},li.prototype.locationCoordinate=function(a){return h.MercatorCoordinate.fromLngLat(a)},li.prototype.coordinateLocation=function(a){return a.toLngLat()},li.prototype.pointCoordinate=function(a){var l=[a.x,a.y,0,1],s=[a.x,a.y,1,1];h.transformMat4(l,l,this.pixelMatrixInverse),h.transformMat4(s,s,this.pixelMatrixInverse);var c=l[3],m=s[3],g=l[0]/c,b=s[0]/m,w=l[1]/c,E=s[1]/m,L=l[2]/c,R=s[2]/m,N=L===R?0:(0-L)/(R-L);return new h.MercatorCoordinate(h.number(g,b,N)/this.worldSize,h.number(w,E,N)/this.worldSize)},li.prototype.coordinatePoint=function(a){var l=[a.x*this.worldSize,a.y*this.worldSize,0,1];return h.transformMat4(l,l,this.pixelMatrix),new h.Point(l[0]/l[3],l[1]/l[3])},li.prototype.getBounds=function(){return new h.LngLatBounds().extend(this.pointLocation(new h.Point(0,0))).extend(this.pointLocation(new h.Point(this.width,0))).extend(this.pointLocation(new h.Point(this.width,this.height))).extend(this.pointLocation(new h.Point(0,this.height)))},li.prototype.getMaxBounds=function(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new h.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},li.prototype.setMaxBounds=function(a){a?(this.lngRange=[a.getWest(),a.getEast()],this.latRange=[a.getSouth(),a.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},li.prototype.calculatePosMatrix=function(a,l){l===void 0&&(l=!1);var s=a.key,c=l?this._alignedPosMatrixCache:this._posMatrixCache;if(c[s])return c[s];var m=a.canonical,g=this.worldSize/this.zoomScale(m.z),b=m.x+Math.pow(2,m.z)*a.wrap,w=h.identity(new Float64Array(16));return h.translate(w,w,[b*g,m.y*g,0]),h.scale(w,w,[g/h.EXTENT,g/h.EXTENT,1]),h.multiply(w,l?this.alignedProjMatrix:this.projMatrix,w),c[s]=new Float32Array(w),c[s]},li.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},li.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var a,l,s,c,m=-90,g=90,b=-180,w=180,E=this.size,L=this._unmodified;if(this.latRange){var R=this.latRange;m=h.mercatorYfromLat(R[1])*this.worldSize,a=(g=h.mercatorYfromLat(R[0])*this.worldSize)-m<E.y?E.y/(g-m):0}if(this.lngRange){var N=this.lngRange;b=h.mercatorXfromLng(N[0])*this.worldSize,l=(w=h.mercatorXfromLng(N[1])*this.worldSize)-b<E.x?E.x/(w-b):0}var Y=this.point,H=Math.max(l||0,a||0);if(H)return this.center=this.unproject(new h.Point(l?(w+b)/2:Y.x,a?(g+m)/2:Y.y)),this.zoom+=this.scaleZoom(H),this._unmodified=L,void(this._constraining=!1);if(this.latRange){var X=Y.y,Z=E.y/2;X-Z<m&&(c=m+Z),X+Z>g&&(c=g-Z)}if(this.lngRange){var at=Y.x,tt=E.x/2;at-tt<b&&(s=b+tt),at+tt>w&&(s=w-tt)}s===void 0&&c===void 0||(this.center=this.unproject(new h.Point(s!==void 0?s:Y.x,c!==void 0?c:Y.y))),this._unmodified=L,this._constraining=!1}},li.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var a=this._fov/2,l=Math.PI/2+this._pitch,s=Math.sin(a)*this.cameraToCenterDistance/Math.sin(Math.PI-l-a),c=this.point,m=c.x,g=c.y,b=1.01*(Math.cos(Math.PI/2-this._pitch)*s+this.cameraToCenterDistance),w=this.height/50,E=new Float64Array(16);h.perspective(E,this._fov,this.width/this.height,w,b),h.scale(E,E,[1,-1,1]),h.translate(E,E,[0,0,-this.cameraToCenterDistance]),h.rotateX(E,E,this._pitch),h.rotateZ(E,E,this.angle),h.translate(E,E,[-m,-g,0]),this.mercatorMatrix=h.scale([],E,[this.worldSize,this.worldSize,this.worldSize]),h.scale(E,E,[1,1,h.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=E;var L=this.width%2/2,R=this.height%2/2,N=Math.cos(this.angle),Y=Math.sin(this.angle),H=m-Math.round(m)+N*L+Y*R,X=g-Math.round(g)+N*R+Y*L,Z=new Float64Array(E);if(h.translate(Z,Z,[H>.5?H-1:H,X>.5?X-1:X,0]),this.alignedProjMatrix=Z,E=h.create(),h.scale(E,E,[this.width/2,-this.height/2,1]),h.translate(E,E,[1,-1,0]),this.labelPlaneMatrix=E,E=h.create(),h.scale(E,E,[1,-1,1]),h.translate(E,E,[-1,-1,0]),h.scale(E,E,[2/this.width,2/this.height,1]),this.glCoordMatrix=E,this.pixelMatrix=h.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(E=h.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=E,this._posMatrixCache={},this._alignedPosMatrixCache={}}},li.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var a=this.pointCoordinate(new h.Point(0,0)),l=[a.x*this.worldSize,a.y*this.worldSize,0,1];return h.transformMat4(l,l,this.pixelMatrix)[3]/this.cameraToCenterDistance},li.prototype.getCameraPoint=function(){var a=this._pitch,l=Math.tan(a)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new h.Point(0,l))},li.prototype.getCameraQueryGeometry=function(a){var l=this.getCameraPoint();if(a.length===1)return[a[0],l];for(var s=l.x,c=l.y,m=l.x,g=l.y,b=0,w=a;b<w.length;b+=1){var E=w[b];s=Math.min(s,E.x),c=Math.min(c,E.y),m=Math.max(m,E.x),g=Math.max(g,E.y)}return[new h.Point(s,c),new h.Point(m,c),new h.Point(m,g),new h.Point(s,g),new h.Point(s,c)]},Object.defineProperties(li.prototype,ji);var Po=function(a){var l,s,c,m,g;this._hashName=a&&encodeURIComponent(a),h.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(l=this._updateHashUnthrottled.bind(this),s=300,c=!1,m=null,g=function(){m=null,c&&(l(),m=setTimeout(g,s),c=!1)},function(){return c=!0,m||g(),m})};Po.prototype.addTo=function(a){return this._map=a,h.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Po.prototype.remove=function(){return h.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Po.prototype.getHashString=function(a){var l=this._map.getCenter(),s=Math.round(100*this._map.getZoom())/100,c=Math.ceil((s*Math.LN2+Math.log(512/360/.5))/Math.LN10),m=Math.pow(10,c),g=Math.round(l.lng*m)/m,b=Math.round(l.lat*m)/m,w=this._map.getBearing(),E=this._map.getPitch(),L="";if(L+=a?"/"+g+"/"+b+"/"+s:s+"/"+b+"/"+g,(w||E)&&(L+="/"+Math.round(10*w)/10),E&&(L+="/"+Math.round(E)),this._hashName){var R=this._hashName,N=!1,Y=h.window.location.hash.slice(1).split("&").map((function(H){var X=H.split("=")[0];return X===R?(N=!0,X+"="+L):H})).filter((function(H){return H}));return N||Y.push(R+"="+L),"#"+Y.join("&")}return"#"+L},Po.prototype._getCurrentHash=function(){var a,l=this,s=h.window.location.hash.replace("#","");return this._hashName?(s.split("&").map((function(c){return c.split("=")})).forEach((function(c){c[0]===l._hashName&&(a=c)})),(a&&a[1]||"").split("/")):s.split("/")},Po.prototype._onHashChange=function(){var a=this._getCurrentHash();return a.length>=3&&!a.some((function(l){return isNaN(l)}))&&(this._map.jumpTo({center:[+a[2],+a[1]],zoom:+a[0],bearing:+(a[3]||0),pitch:+(a[4]||0)}),!0)},Po.prototype._updateHashUnthrottled=function(){var a=this.getHashString();try{h.window.history.replaceState(h.window.history.state,"",a)}catch{}};var Rn=(function(a){function l(c,m,g,b){b===void 0&&(b={});var w=G.mousePos(m.getCanvasContainer(),g),E=m.unproject(w);a.call(this,c,h.extend({point:w,lngLat:E,originalEvent:g},b)),this._defaultPrevented=!1,this.target=m}a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l;var s={defaultPrevented:{configurable:!0}};return l.prototype.preventDefault=function(){this._defaultPrevented=!0},s.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(l.prototype,s),l})(h.Event),ue=(function(a){function l(c,m,g){var b=G.touchPos(m.getCanvasContainer(),g),w=b.map((function(R){return m.unproject(R)})),E=b.reduce((function(R,N,Y,H){return R.add(N.div(H.length))}),new h.Point(0,0)),L=m.unproject(E);a.call(this,c,{points:b,point:E,lngLats:w,lngLat:L,originalEvent:g}),this._defaultPrevented=!1}a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l;var s={defaultPrevented:{configurable:!0}};return l.prototype.preventDefault=function(){this._defaultPrevented=!0},s.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(l.prototype,s),l})(h.Event),ms=(function(a){function l(c,m,g){a.call(this,c,{originalEvent:g}),this._defaultPrevented=!1}a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l;var s={defaultPrevented:{configurable:!0}};return l.prototype.preventDefault=function(){this._defaultPrevented=!0},s.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(l.prototype,s),l})(h.Event),vr=function(a){this._map=a,this._el=a.getCanvasContainer(),this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,h.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};vr.prototype.setZoomRate=function(a){this._defaultZoomRate=a},vr.prototype.setWheelZoomRate=function(a){this._wheelZoomRate=a},vr.prototype.isEnabled=function(){return!!this._enabled},vr.prototype.isActive=function(){return!!this._active},vr.prototype.isZooming=function(){return!!this._zooming},vr.prototype.enable=function(a){this.isEnabled()||(this._enabled=!0,this._aroundCenter=a&&a.around==="center")},vr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},vr.prototype.onWheel=function(a){if(this.isEnabled()){var l=a.deltaMode===h.window.WheelEvent.DOM_DELTA_LINE?40*a.deltaY:a.deltaY,s=h.browser.now(),c=s-(this._lastWheelEventTime||0);this._lastWheelEventTime=s,l!==0&&l%4.000244140625==0?this._type="wheel":l!==0&&Math.abs(l)<4?this._type="trackpad":c>400?(this._type=null,this._lastValue=l,this._timeout=setTimeout(this._onTimeout,40,a)):this._type||(this._type=Math.abs(c*l)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,l+=this._lastValue)),a.shiftKey&&l&&(l/=4),this._type&&(this._lastWheelEvent=a,this._delta-=l,this.isActive()||this._start(a)),a.preventDefault()}},vr.prototype._onTimeout=function(a){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(a)},vr.prototype._start=function(a){if(this._delta){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0,this._map.fire(new h.Event("movestart",{originalEvent:a})),this._map.fire(new h.Event("zoomstart",{originalEvent:a}))),this._finishTimeout&&clearTimeout(this._finishTimeout);var l=G.mousePos(this._el,a);this._around=h.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(l)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame))}},vr.prototype._onScrollFrame=function(){var a=this;if(this._frameId=null,this.isActive()){var l=this._map.transform;if(this._delta!==0){var s=this._type==="wheel"&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,c=2/(1+Math.exp(-Math.abs(this._delta*s)));this._delta<0&&c!==0&&(c=1/c);var m=typeof this._targetZoom=="number"?l.zoomScale(this._targetZoom):l.scale;this._targetZoom=Math.min(l.maxZoom,Math.max(l.minZoom,l.scaleZoom(m*c))),this._type==="wheel"&&(this._startZoom=l.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var g=typeof this._targetZoom=="number"?this._targetZoom:l.zoom,b=this._startZoom,w=this._easing,E=!1;if(this._type==="wheel"&&b&&w){var L=Math.min((h.browser.now()-this._lastWheelEventTime)/200,1),R=w(L);l.zoom=h.number(b,g,R),L<1?this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame)):E=!0}else l.zoom=g,E=!0;l.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire(new h.Event("move",{originalEvent:this._lastWheelEvent})),this._map.fire(new h.Event("zoom",{originalEvent:this._lastWheelEvent})),E&&(this._active=!1,this._finishTimeout=setTimeout((function(){a._zooming=!1,a._map.fire(new h.Event("zoomend",{originalEvent:a._lastWheelEvent})),a._map.fire(new h.Event("moveend",{originalEvent:a._lastWheelEvent})),delete a._targetZoom}),200))}},vr.prototype._smoothOutEasing=function(a){var l=h.ease;if(this._prevEase){var s=this._prevEase,c=(h.browser.now()-s.start)/s.duration,m=s.easing(c+.01)-s.easing(c),g=.27/Math.sqrt(m*m+1e-4)*.01,b=Math.sqrt(.0729-g*g);l=h.bezier(g,b,.25,1)}return this._prevEase={start:h.browser.now(),duration:a,easing:l},l};var Kr=function(a,l){this._map=a,this._el=a.getCanvasContainer(),this._container=a.getContainer(),this._clickTolerance=l.clickTolerance||1,h.bindAll(["_onMouseMove","_onMouseUp","_onKeyDown"],this)};Kr.prototype.isEnabled=function(){return!!this._enabled},Kr.prototype.isActive=function(){return!!this._active},Kr.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Kr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Kr.prototype.onMouseDown=function(a){this.isEnabled()&&a.shiftKey&&a.button===0&&(h.window.document.addEventListener("mousemove",this._onMouseMove,!1),h.window.document.addEventListener("keydown",this._onKeyDown,!1),h.window.document.addEventListener("mouseup",this._onMouseUp,!1),G.disableDrag(),this._startPos=this._lastPos=G.mousePos(this._el,a),this._active=!0)},Kr.prototype._onMouseMove=function(a){var l=G.mousePos(this._el,a);if(!(this._lastPos.equals(l)||!this._box&&l.dist(this._startPos)<this._clickTolerance)){var s=this._startPos;this._lastPos=l,this._box||(this._box=G.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",a));var c=Math.min(s.x,l.x),m=Math.max(s.x,l.x),g=Math.min(s.y,l.y),b=Math.max(s.y,l.y);G.setTransform(this._box,"translate("+c+"px,"+g+"px)"),this._box.style.width=m-c+"px",this._box.style.height=b-g+"px"}},Kr.prototype._onMouseUp=function(a){if(a.button===0){var l=this._startPos,s=G.mousePos(this._el,a);this._finish(),G.suppressClick(),l.x===s.x&&l.y===s.y?this._fireEvent("boxzoomcancel",a):this._map.fitScreenCoordinates(l,s,this._map.getBearing(),{linear:!0}).fire(new h.Event("boxzoomend",{originalEvent:a}))}},Kr.prototype._onKeyDown=function(a){a.keyCode===27&&(this._finish(),this._fireEvent("boxzoomcancel",a))},Kr.prototype._finish=function(){this._active=!1,h.window.document.removeEventListener("mousemove",this._onMouseMove,!1),h.window.document.removeEventListener("keydown",this._onKeyDown,!1),h.window.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(G.remove(this._box),this._box=null),G.enableDrag(),delete this._startPos,delete this._lastPos},Kr.prototype._fireEvent=function(a,l){return this._map.fire(new h.Event(a,{originalEvent:l}))};var va=h.bezier(0,0,.25,1),sn=function(a,l){this._map=a,this._el=l.element||a.getCanvasContainer(),this._state="disabled",this._button=l.button||"right",this._bearingSnap=l.bearingSnap||0,this._pitchWithRotate=l.pitchWithRotate!==!1,h.bindAll(["onMouseDown","_onMouseMove","_onMouseUp","_onBlur","_onDragFrame"],this)};sn.prototype.isEnabled=function(){return this._state!=="disabled"},sn.prototype.isActive=function(){return this._state==="active"},sn.prototype.enable=function(){this.isEnabled()||(this._state="enabled")},sn.prototype.disable=function(){if(this.isEnabled())switch(this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend"),this._pitchWithRotate&&this._fireEvent("pitchend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},sn.prototype.onMouseDown=function(a){if(this._state==="enabled"){var l=a.type==="touchstart";if(l)this._startTime=Date.now();else if(this._button==="right"){if(this._eventButton=G.mouseButton(a),this._eventButton!==(a.ctrlKey?0:2))return}else{if(a.ctrlKey||G.mouseButton(a)!==0)return;this._eventButton=0}G.disableDrag(),l?(h.window.document.addEventListener("touchmove",this._onMouseMove,{capture:!0}),h.window.document.addEventListener("touchend",this._onMouseUp)):(h.window.document.addEventListener("mousemove",this._onMouseMove,{capture:!0}),h.window.document.addEventListener("mouseup",this._onMouseUp)),h.window.addEventListener("blur",this._onBlur),this._state="pending",this._inertia=[[h.browser.now(),this._map.getBearing()]],this._startPos=this._prevPos=this._lastPos=G.mousePos(this._el,a),this._center=this._map.transform.centerPoint,a.preventDefault()}},sn.prototype._onMouseMove=function(a){var l=G.mousePos(this._el,a);this._lastPos.equals(l)||(this._lastMoveEvent=a,this._lastPos=l,this._state==="pending"&&(this._state="active",this._fireEvent("rotatestart",a),this._fireEvent("movestart",a),this._pitchWithRotate&&this._fireEvent("pitchstart",a)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},sn.prototype._onDragFrame=function(){this._frameId=null;var a=this._lastMoveEvent;if(a){var l=this._map.transform,s=this._prevPos,c=this._lastPos,m=.8*(s.x-c.x),g=-.5*(s.y-c.y),b=l.bearing-m,w=l.pitch-g,E=this._inertia,L=E[E.length-1];this._drainInertiaBuffer(),E.push([h.browser.now(),this._map._normalizeBearing(b,L[1])]);var R=l.bearing;if(l.bearing=b,this._pitchWithRotate){var N=l.pitch;l.pitch=w,l.pitch!==N&&this._fireEvent("pitch",a)}l.bearing!==R&&this._fireEvent("rotate",a),this._fireEvent("move",a),delete this._lastMoveEvent,this._prevPos=this._lastPos}},sn.prototype._onMouseUp=function(a){var l=a.type==="touchend";if(l&&this._startPos===this._lastPos&&Date.now()-this._startTime<300&&this._el.click(),l||G.mouseButton(a)===this._eventButton)switch(this._state){case"active":this._state="enabled",G.suppressClick(),this._unbind(),this._deactivate(),this._inertialRotate(a);break;case"pending":this._state="enabled",this._unbind()}},sn.prototype._onBlur=function(a){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend",a),this._pitchWithRotate&&this._fireEvent("pitchend",a),this._fireEvent("moveend",a);break;case"pending":this._state="enabled",this._unbind()}},sn.prototype._unbind=function(){h.window.document.removeEventListener("mousemove",this._onMouseMove,{capture:!0}),h.window.document.removeEventListener("mouseup",this._onMouseUp),h.window.document.removeEventListener("touchmove",this._onMouseMove,{capture:!0}),h.window.document.removeEventListener("touchend",this._onMouseUp),h.window.removeEventListener("blur",this._onBlur),G.enableDrag()},sn.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._prevPos,delete this._lastPos},sn.prototype._inertialRotate=function(a){var l=this;this._fireEvent("rotateend",a),this._drainInertiaBuffer();var s=this._map,c=s.getBearing(),m=this._inertia,g=function(){Math.abs(c)<l._bearingSnap?s.resetNorth({noMoveStart:!0},{originalEvent:a}):l._fireEvent("moveend",a),l._pitchWithRotate&&l._fireEvent("pitchend",a)};if(m.length<2)g();else{var b=m[0],w=m[m.length-1],E=m[m.length-2],L=s._normalizeBearing(c,E[1]),R=w[1]-b[1],N=R<0?-1:1,Y=(w[0]-b[0])/1e3;if(R!==0&&Y!==0){var H=Math.abs(R*(.25/Y));H>180&&(H=180);var X=H/180;L+=N*H*(X/2),Math.abs(s._normalizeBearing(L,0))<this._bearingSnap&&(L=s._normalizeBearing(0,L)),s.rotateTo(L,{duration:1e3*X,easing:va,noMoveStart:!0},{originalEvent:a})}else g()}},sn.prototype._fireEvent=function(a,l){return this._map.fire(new h.Event(a,l?{originalEvent:l}:{}))},sn.prototype._drainInertiaBuffer=function(){for(var a=this._inertia,l=h.browser.now();a.length>0&&l-a[0][0]>160;)a.shift()};var Xs={linearity:.3,easing:h.bezier(0,0,.3,1),maxSpeed:1400,deceleration:2500},Zt=function(a,l){this._map=a,this._el=a.getCanvasContainer(),this._state="disabled",this._clickTolerance=l.clickTolerance||1,this._inertiaOptions=Xs,h.bindAll(["_onMove","_onMouseUp","_onTouchEnd","_onBlur","_onDragFrame"],this)};Zt.prototype.isEnabled=function(){return this._state!=="disabled"},Zt.prototype.isActive=function(){return this._state==="active"},Zt.prototype.enable=function(a){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._state="enabled",this._inertiaOptions=h.extend(Xs,a))},Zt.prototype.disable=function(){if(this.isEnabled())switch(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("dragend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},Zt.prototype.onMouseDown=function(a){this._state==="enabled"&&(a.ctrlKey||G.mouseButton(a)!==0||(G.addEventListener(h.window.document,"mousemove",this._onMove,{capture:!0}),G.addEventListener(h.window.document,"mouseup",this._onMouseUp),this._start(a)))},Zt.prototype.onTouchStart=function(a){this.isEnabled()&&(a.touches&&a.touches.length>1&&(this._state==="pending"||this._state==="active")||(G.addEventListener(h.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),G.addEventListener(h.window.document,"touchend",this._onTouchEnd),this._start(a)))},Zt.prototype._start=function(a){h.window.addEventListener("blur",this._onBlur),this._state="pending",this._startPos=this._mouseDownPos=this._prevPos=this._lastPos=G.mousePos(this._el,a),this._startTouch=this._lastTouch=h.window.TouchEvent&&a instanceof h.window.TouchEvent?G.touchPos(this._el,a):null,this._inertia=[[h.browser.now(),this._startPos]]},Zt.prototype._touchesMatch=function(a,l){return!(!a||!l||a.length!==l.length)&&a.every((function(s,c){return l[c]===s}))},Zt.prototype._onMove=function(a){a.preventDefault();var l=h.window.TouchEvent&&a instanceof h.window.TouchEvent?G.touchPos(this._el,a):null,s=G.mousePos(this._el,a);(l?this._touchesMatch(this._lastTouch,l):this._lastPos.equals(s))||this._state==="pending"&&s.dist(this._mouseDownPos)<this._clickTolerance||(this._lastMoveEvent=a,this._lastPos=s,this._lastTouch=l,this._drainInertiaBuffer(),this._inertia.push([h.browser.now(),this._lastPos]),this._state==="pending"&&(this._state="active",this._shouldStart=!0),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},Zt.prototype._onDragFrame=function(){this._frameId=null;var a=this._lastMoveEvent;if(a){if(this._map.touchZoomRotate.isActive())this._abort(a);else if(this._shouldStart&&(this._fireEvent("dragstart",a),this._fireEvent("movestart",a),this._shouldStart=!1),this.isActive()){var l=this._map.transform;l.setLocationAtPoint(l.pointLocation(this._prevPos),this._lastPos),this._fireEvent("drag",a),this._fireEvent("move",a),this._prevPos=this._lastPos,delete this._lastMoveEvent}}},Zt.prototype._onMouseUp=function(a){if(G.mouseButton(a)===0)switch(this._state){case"active":this._state="enabled",G.suppressClick(),this._unbind(),this._deactivate(),this._inertialPan(a);break;case"pending":this._state="enabled",this._unbind()}},Zt.prototype._onTouchEnd=function(a){if(a.touches&&a.touches.length!==0)switch(this._state){case"pending":case"active":break;case"enabled":this.onTouchStart(a)}else switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._inertialPan(a);break;case"pending":this._state="enabled",this._unbind();break;case"enabled":this._unbind()}},Zt.prototype._abort=function(a){switch(this._state){case"active":this._state="enabled",this._shouldStart||(this._fireEvent("dragend",a),this._fireEvent("moveend",a)),this._unbind(),this._deactivate(),h.window.TouchEvent&&a instanceof h.window.TouchEvent&&a.touches.length>1&&G.addEventListener(h.window.document,"touchend",this._onTouchEnd);break;case"pending":this._state="enabled",this._unbind();break;case"enabled":this._unbind()}},Zt.prototype._onBlur=function(a){this._abort(a)},Zt.prototype._unbind=function(){G.removeEventListener(h.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),G.removeEventListener(h.window.document,"touchend",this._onTouchEnd),G.removeEventListener(h.window.document,"mousemove",this._onMove,{capture:!0}),G.removeEventListener(h.window.document,"mouseup",this._onMouseUp),G.removeEventListener(h.window,"blur",this._onBlur)},Zt.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._prevPos,delete this._mouseDownPos,delete this._lastPos,delete this._startTouch,delete this._lastTouch,delete this._shouldStart},Zt.prototype._inertialPan=function(a){this._fireEvent("dragend",a),this._drainInertiaBuffer();var l=this._inertia;if(l.length<2)this._fireEvent("moveend",a);else{var s=l[l.length-1],c=l[0],m=s[1].sub(c[1]),g=(s[0]-c[0])/1e3;if(g===0||s[1].equals(c[1]))this._fireEvent("moveend",a);else{var b=this._inertiaOptions,w=b.linearity,E=b.easing,L=b.maxSpeed,R=b.deceleration,N=m.mult(w/g),Y=N.mag();Y>L&&(Y=L,N._unit()._mult(Y));var H=Y/(R*w),X=N.mult(-H/2);this._map.panBy(X,{duration:1e3*H,easing:E,noMoveStart:!0},{originalEvent:a})}}},Zt.prototype._fireEvent=function(a,l){return this._map.fire(new h.Event(a,l?{originalEvent:l}:{}))},Zt.prototype._drainInertiaBuffer=function(){for(var a=this._inertia,l=h.browser.now();a.length>0&&l-a[0][0]>160;)a.shift()};var Jr=function(a){this._map=a,this._el=a.getCanvasContainer(),h.bindAll(["_onKeyDown"],this)};function sp(a){return a*(2-a)}Jr.prototype.isEnabled=function(){return!!this._enabled},Jr.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},Jr.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},Jr.prototype._onKeyDown=function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var l=0,s=0,c=0,m=0,g=0;switch(a.keyCode){case 61:case 107:case 171:case 187:l=1;break;case 189:case 109:case 173:l=-1;break;case 37:a.shiftKey?s=-1:(a.preventDefault(),m=-1);break;case 39:a.shiftKey?s=1:(a.preventDefault(),m=1);break;case 38:a.shiftKey?c=1:(a.preventDefault(),g=-1);break;case 40:a.shiftKey?c=-1:(g=1,a.preventDefault());break;default:return}var b=this._map,w=b.getZoom(),E={duration:300,delayEndEvents:500,easing:sp,zoom:l?Math.round(w)+l*(a.shiftKey?2:1):w,bearing:b.getBearing()+15*s,pitch:b.getPitch()+10*c,offset:[100*-m,100*-g],center:b.getCenter()};b.easeTo(E,{originalEvent:a})}};var Qr=function(a){this._map=a,h.bindAll(["_onDblClick","_onZoomEnd"],this)};Qr.prototype.isEnabled=function(){return!!this._enabled},Qr.prototype.isActive=function(){return!!this._active},Qr.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Qr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Qr.prototype.onTouchStart=function(a){var l=this;if(this.isEnabled()&&!(a.points.length>1))if(this._tapped){var s=a.points[0],c=this._tappedPoint;if(c&&c.dist(s)<=30){a.originalEvent.preventDefault();var m=function(){l._tapped&&l._zoom(a),l._map.off("touchcancel",g),l._resetTapped()},g=function(){l._map.off("touchend",m),l._resetTapped()};this._map.once("touchend",m),this._map.once("touchcancel",g)}else this._resetTapped()}else this._tappedPoint=a.points[0],this._tapped=setTimeout((function(){l._tapped=null,l._tappedPoint=null}),300)},Qr.prototype._resetTapped=function(){clearTimeout(this._tapped),this._tapped=null,this._tappedPoint=null},Qr.prototype.onDblClick=function(a){this.isEnabled()&&(a.originalEvent.preventDefault(),this._zoom(a))},Qr.prototype._zoom=function(a){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(a.originalEvent.shiftKey?-1:1),{around:a.lngLat},a)},Qr.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)};var Tc=h.bezier(0,0,.15,1),Br=function(a){this._map=a,this._el=a.getCanvasContainer(),h.bindAll(["_onMove","_onEnd","_onTouchFrame"],this)};Br.prototype.isEnabled=function(){return!!this._enabled},Br.prototype.enable=function(a){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._enabled=!0,this._aroundCenter=!!a&&a.around==="center")},Br.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._enabled=!1)},Br.prototype.disableRotation=function(){this._rotationDisabled=!0},Br.prototype.enableRotation=function(){this._rotationDisabled=!1},Br.prototype.isActive=function(){return this.isEnabled()&&!!this._gestureIntent},Br.prototype.onStart=function(a){if(this.isEnabled()&&a.touches.length===2){var l=G.mousePos(this._el,a.touches[0]),s=G.mousePos(this._el,a.touches[1]),c=l.add(s).div(2);this._startVec=l.sub(s),this._startAround=this._map.transform.pointLocation(c),this._gestureIntent=void 0,this._inertia=[],G.addEventListener(h.window.document,"touchmove",this._onMove,{passive:!1}),G.addEventListener(h.window.document,"touchend",this._onEnd)}},Br.prototype._getTouchEventData=function(a){var l=G.mousePos(this._el,a.touches[0]),s=G.mousePos(this._el,a.touches[1]),c=l.sub(s);return{vec:c,center:l.add(s).div(2),scale:c.mag()/this._startVec.mag(),bearing:this._rotationDisabled?0:180*c.angleWith(this._startVec)/Math.PI}},Br.prototype._onMove=function(a){if(a.touches.length===2){var l=this._getTouchEventData(a),s=l.vec,c=l.scale,m=l.bearing;if(!this._gestureIntent){var g=this._rotationDisabled&&c!==1||Math.abs(1-c)>.15;Math.abs(m)>10?this._gestureIntent="rotate":g&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._map.fire(new h.Event(this._gestureIntent+"start",{originalEvent:a})),this._map.fire(new h.Event("movestart",{originalEvent:a})),this._startVec=s)}this._lastTouchEvent=a,this._frameId||(this._frameId=this._map._requestRenderFrame(this._onTouchFrame)),a.preventDefault()}},Br.prototype._onTouchFrame=function(){this._frameId=null;var a=this._gestureIntent;if(a){var l=this._map.transform;this._startScale||(this._startScale=l.scale,this._startBearing=l.bearing);var s=this._getTouchEventData(this._lastTouchEvent),c=s.center,m=s.bearing,g=s.scale,b=l.pointLocation(c),w=l.locationPoint(b);a==="rotate"&&(l.bearing=this._startBearing+m),l.zoom=l.scaleZoom(this._startScale*g),l.setLocationAtPoint(this._startAround,w),this._map.fire(new h.Event(a,{originalEvent:this._lastTouchEvent})),this._map.fire(new h.Event("move",{originalEvent:this._lastTouchEvent})),this._drainInertiaBuffer(),this._inertia.push([h.browser.now(),g,c])}},Br.prototype._onEnd=function(a){G.removeEventListener(h.window.document,"touchmove",this._onMove,{passive:!1}),G.removeEventListener(h.window.document,"touchend",this._onEnd);var l=this._gestureIntent,s=this._startScale;if(this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._gestureIntent,delete this._startScale,delete this._startBearing,delete this._lastTouchEvent,l){this._map.fire(new h.Event(l+"end",{originalEvent:a})),this._drainInertiaBuffer();var c=this._inertia,m=this._map;if(c.length<2)m.snapToNorth({},{originalEvent:a});else{var g=c[c.length-1],b=c[0],w=m.transform.scaleZoom(s*g[1]),E=m.transform.scaleZoom(s*b[1]),L=w-E,R=(g[0]-b[0])/1e3,N=g[2];if(R!==0&&w!==E){var Y=.15*L/R;Math.abs(Y)>2.5&&(Y=Y>0?2.5:-2.5);var H=1e3*Math.abs(Y/(12*.15)),X=w+Y*H/2e3;m.easeTo({zoom:X,duration:H,easing:Tc,around:this._aroundCenter?m.getCenter():m.unproject(N),noMoveStart:!0},{originalEvent:a})}else m.snapToNorth({},{originalEvent:a})}}},Br.prototype._drainInertiaBuffer=function(){for(var a=this._inertia,l=h.browser.now();a.length>2&&l-a[0][0]>160;)a.shift()};var lp={scrollZoom:vr,boxZoom:Kr,dragRotate:sn,dragPan:Zt,keyboard:Jr,doubleClickZoom:Qr,touchZoomRotate:Br},sh=(function(a){function l(s,c){a.call(this),this._moving=!1,this._zooming=!1,this.transform=s,this._bearingSnap=c.bearingSnap,h.bindAll(["_renderFrameCallback"],this)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.getCenter=function(){return new h.LngLat(this.transform.center.lng,this.transform.center.lat)},l.prototype.setCenter=function(s,c){return this.jumpTo({center:s},c)},l.prototype.panBy=function(s,c,m){return s=h.Point.convert(s).mult(-1),this.panTo(this.transform.center,h.extend({offset:s},c),m)},l.prototype.panTo=function(s,c,m){return this.easeTo(h.extend({center:s},c),m)},l.prototype.getZoom=function(){return this.transform.zoom},l.prototype.setZoom=function(s,c){return this.jumpTo({zoom:s},c),this},l.prototype.zoomTo=function(s,c,m){return this.easeTo(h.extend({zoom:s},c),m)},l.prototype.zoomIn=function(s,c){return this.zoomTo(this.getZoom()+1,s,c),this},l.prototype.zoomOut=function(s,c){return this.zoomTo(this.getZoom()-1,s,c),this},l.prototype.getBearing=function(){return this.transform.bearing},l.prototype.setBearing=function(s,c){return this.jumpTo({bearing:s},c),this},l.prototype.rotateTo=function(s,c,m){return this.easeTo(h.extend({bearing:s},c),m)},l.prototype.resetNorth=function(s,c){return this.rotateTo(0,h.extend({duration:1e3},s),c),this},l.prototype.resetNorthPitch=function(s,c){return this.easeTo(h.extend({bearing:0,pitch:0,duration:1e3},s),c),this},l.prototype.snapToNorth=function(s,c){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(s,c):this},l.prototype.getPitch=function(){return this.transform.pitch},l.prototype.setPitch=function(s,c){return this.jumpTo({pitch:s},c),this},l.prototype.cameraForBounds=function(s,c){return s=h.LngLatBounds.convert(s),this._cameraForBoxAndBearing(s.getNorthWest(),s.getSouthEast(),0,c)},l.prototype._cameraForBoxAndBearing=function(s,c,m,g){if(typeof(g=h.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},g)).padding=="number"){var b=g.padding;g.padding={top:b,bottom:b,right:b,left:b}}if(h.deepEqual(Object.keys(g.padding).sort((function(Mt,Bt){return Mt<Bt?-1:Mt>Bt?1:0})),["bottom","left","right","top"])){var w=this.transform,E=w.project(h.LngLat.convert(s)),L=w.project(h.LngLat.convert(c)),R=E.rotate(-m*Math.PI/180),N=L.rotate(-m*Math.PI/180),Y=new h.Point(Math.max(R.x,N.x),Math.max(R.y,N.y)),H=new h.Point(Math.min(R.x,N.x),Math.min(R.y,N.y)),X=Y.sub(H),Z=(w.width-g.padding.left-g.padding.right)/X.x,at=(w.height-g.padding.top-g.padding.bottom)/X.y;if(!(at<0||Z<0)){var tt=Math.min(w.scaleZoom(w.scale*Math.min(Z,at)),g.maxZoom),ht=h.Point.convert(g.offset),ct=(g.padding.left-g.padding.right)/2,ft=(g.padding.top-g.padding.bottom)/2,wt=new h.Point(ht.x+ct,ht.y+ft).mult(w.scale/w.zoomScale(tt));return{center:w.unproject(E.add(L).div(2).sub(wt)),zoom:tt,bearing:m}}h.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}else h.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'")},l.prototype.fitBounds=function(s,c,m){return this._fitInternal(this.cameraForBounds(s,c),c,m)},l.prototype.fitScreenCoordinates=function(s,c,m,g,b){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(h.Point.convert(s)),this.transform.pointLocation(h.Point.convert(c)),m,g),g,b)},l.prototype._fitInternal=function(s,c,m){return s?(c=h.extend(s,c)).linear?this.easeTo(c,m):this.flyTo(c,m):this},l.prototype.jumpTo=function(s,c){this.stop();var m=this.transform,g=!1,b=!1,w=!1;return"zoom"in s&&m.zoom!==+s.zoom&&(g=!0,m.zoom=+s.zoom),s.center!==void 0&&(m.center=h.LngLat.convert(s.center)),"bearing"in s&&m.bearing!==+s.bearing&&(b=!0,m.bearing=+s.bearing),"pitch"in s&&m.pitch!==+s.pitch&&(w=!0,m.pitch=+s.pitch),this.fire(new h.Event("movestart",c)).fire(new h.Event("move",c)),g&&this.fire(new h.Event("zoomstart",c)).fire(new h.Event("zoom",c)).fire(new h.Event("zoomend",c)),b&&this.fire(new h.Event("rotatestart",c)).fire(new h.Event("rotate",c)).fire(new h.Event("rotateend",c)),w&&this.fire(new h.Event("pitchstart",c)).fire(new h.Event("pitch",c)).fire(new h.Event("pitchend",c)),this.fire(new h.Event("moveend",c))},l.prototype.easeTo=function(s,c){var m=this;this.stop(),((s=h.extend({offset:[0,0],duration:500,easing:h.ease},s)).animate===!1||!s.essential&&h.browser.prefersReducedMotion)&&(s.duration=0);var g=this.transform,b=this.getZoom(),w=this.getBearing(),E=this.getPitch(),L="zoom"in s?+s.zoom:b,R="bearing"in s?this._normalizeBearing(s.bearing,w):w,N="pitch"in s?+s.pitch:E,Y=g.centerPoint.add(h.Point.convert(s.offset)),H=g.pointLocation(Y),X=h.LngLat.convert(s.center||H);this._normalizeCenter(X);var Z,at,tt=g.project(H),ht=g.project(X).sub(tt),ct=g.zoomScale(L-b);return s.around&&(Z=h.LngLat.convert(s.around),at=g.locationPoint(Z)),this._zooming=L!==b,this._rotating=w!==R,this._pitching=N!==E,this._prepareEase(c,s.noMoveStart),clearTimeout(this._easeEndTimeoutID),this._ease((function(ft){if(m._zooming&&(g.zoom=h.number(b,L,ft)),m._rotating&&(g.bearing=h.number(w,R,ft)),m._pitching&&(g.pitch=h.number(E,N,ft)),Z)g.setLocationAtPoint(Z,at);else{var wt=g.zoomScale(g.zoom-b),Mt=L>b?Math.min(2,ct):Math.max(.5,ct),Bt=Math.pow(Mt,1-ft),ee=g.unproject(tt.add(ht.mult(ft*Bt)).mult(wt));g.setLocationAtPoint(g.renderWorldCopies?ee.wrap():ee,Y)}m._fireMoveEvents(c)}),(function(){s.delayEndEvents?m._easeEndTimeoutID=setTimeout((function(){return m._afterEase(c)}),s.delayEndEvents):m._afterEase(c)}),s),this},l.prototype._prepareEase=function(s,c){this._moving=!0,c||this.fire(new h.Event("movestart",s)),this._zooming&&this.fire(new h.Event("zoomstart",s)),this._rotating&&this.fire(new h.Event("rotatestart",s)),this._pitching&&this.fire(new h.Event("pitchstart",s))},l.prototype._fireMoveEvents=function(s){this.fire(new h.Event("move",s)),this._zooming&&this.fire(new h.Event("zoom",s)),this._rotating&&this.fire(new h.Event("rotate",s)),this._pitching&&this.fire(new h.Event("pitch",s))},l.prototype._afterEase=function(s){var c=this._zooming,m=this._rotating,g=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,c&&this.fire(new h.Event("zoomend",s)),m&&this.fire(new h.Event("rotateend",s)),g&&this.fire(new h.Event("pitchend",s)),this.fire(new h.Event("moveend",s))},l.prototype.flyTo=function(s,c){var m=this;if(!s.essential&&h.browser.prefersReducedMotion){var g=h.pick(s,["center","zoom","bearing","pitch","around"]);return this.jumpTo(g,c)}this.stop(),s=h.extend({offset:[0,0],speed:1.2,curve:1.42,easing:h.ease},s);var b=this.transform,w=this.getZoom(),E=this.getBearing(),L=this.getPitch(),R="zoom"in s?h.clamp(+s.zoom,b.minZoom,b.maxZoom):w,N="bearing"in s?this._normalizeBearing(s.bearing,E):E,Y="pitch"in s?+s.pitch:L,H=b.zoomScale(R-w),X=b.centerPoint.add(h.Point.convert(s.offset)),Z=b.pointLocation(X),at=h.LngLat.convert(s.center||Z);this._normalizeCenter(at);var tt=b.project(Z),ht=b.project(at).sub(tt),ct=s.curve,ft=Math.max(b.width,b.height),wt=ft/H,Mt=ht.mag();if("minZoom"in s){var Bt=h.clamp(Math.min(s.minZoom,w,R),b.minZoom,b.maxZoom),ee=ft/b.zoomScale(Bt-w);ct=Math.sqrt(ee/Mt*2)}var Kt=ct*ct;function le(Ie){var xe=(wt*wt-ft*ft+(Ie?-1:1)*Kt*Kt*Mt*Mt)/(2*(Ie?wt:ft)*Kt*Mt);return Math.log(Math.sqrt(xe*xe+1)-xe)}function Yt(Ie){return(Math.exp(Ie)-Math.exp(-Ie))/2}function ye(Ie){return(Math.exp(Ie)+Math.exp(-Ie))/2}var Qt=le(0),we=function(Ie){return ye(Qt)/ye(Qt+ct*Ie)},ke=function(Ie){return ft*((ye(Qt)*(Yt(xe=Qt+ct*Ie)/ye(xe))-Yt(Qt))/Kt)/Mt;var xe},ze=(le(1)-Qt)/ct;if(Math.abs(Mt)<1e-6||!isFinite(ze)){if(Math.abs(ft-wt)<1e-6)return this.easeTo(s,c);var Te=wt<ft?-1:1;ze=Math.abs(Math.log(wt/ft))/ct,ke=function(){return 0},we=function(Ie){return Math.exp(Te*ct*Ie)}}if("duration"in s)s.duration=+s.duration;else{var gi="screenSpeed"in s?+s.screenSpeed/ct:+s.speed;s.duration=1e3*ze/gi}return s.maxDuration&&s.duration>s.maxDuration&&(s.duration=0),this._zooming=!0,this._rotating=E!==N,this._pitching=Y!==L,this._prepareEase(c,!1),this._ease((function(Ie){var xe=Ie*ze,nn=1/we(xe);b.zoom=Ie===1?R:w+b.scaleZoom(nn),m._rotating&&(b.bearing=h.number(E,N,Ie)),m._pitching&&(b.pitch=h.number(L,Y,Ie));var pi=Ie===1?at:b.unproject(tt.add(ht.mult(ke(xe))).mult(nn));b.setLocationAtPoint(b.renderWorldCopies?pi.wrap():pi,X),m._fireMoveEvents(c)}),(function(){return m._afterEase(c)}),s),this},l.prototype.isEasing=function(){return!!this._easeFrameId},l.prototype.stop=function(){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var s=this._onEaseEnd;delete this._onEaseEnd,s.call(this)}return this},l.prototype._ease=function(s,c,m){m.animate===!1||m.duration===0?(s(1),c()):(this._easeStart=h.browser.now(),this._easeOptions=m,this._onEaseFrame=s,this._onEaseEnd=c,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},l.prototype._renderFrameCallback=function(){var s=Math.min((h.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(s)),s<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},l.prototype._normalizeBearing=function(s,c){s=h.wrap(s,-180,180);var m=Math.abs(s-c);return Math.abs(s-360-c)<m&&(s-=360),Math.abs(s+360-c)<m&&(s+=360),s},l.prototype._normalizeCenter=function(s){var c=this.transform;if(c.renderWorldCopies&&!c.lngRange){var m=s.lng-c.center.lng;s.lng+=m>180?-360:m<-180?360:0}},l})(h.Evented),ga=function(a){a===void 0&&(a={}),this.options=a,h.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};ga.prototype.getDefaultPosition=function(){return"bottom-right"},ga.prototype.onAdd=function(a){var l=this.options&&this.options.compact;return this._map=a,this._container=G.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=G.create("div","mapboxgl-ctrl-attrib-inner",this._container),l&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),l===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},ga.prototype.onRemove=function(){G.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},ga.prototype._updateEditLink=function(){var a=this._editLink;a||(a=this._editLink=this._container.querySelector(".mapbox-improve-map"));var l=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||h.config.ACCESS_TOKEN}];if(a){var s=l.reduce((function(c,m,g){return m.value&&(c+=m.key+"="+m.value+(g<l.length-1?"&":"")),c}),"?");a.href=h.config.FEEDBACK_URL+"/"+s+(this._map._hash?this._map._hash.getHashString(!0):""),a.rel="noopener nofollow"}},ga.prototype._updateData=function(a){!a||a.sourceDataType!=="metadata"&&a.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())},ga.prototype._updateAttributions=function(){if(this._map.style){var a=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?a=a.concat(this.options.customAttribution.map((function(w){return typeof w!="string"?"":w}))):typeof this.options.customAttribution=="string"&&a.push(this.options.customAttribution)),this._map.style.stylesheet){var l=this._map.style.stylesheet;this.styleOwner=l.owner,this.styleId=l.id}var s=this._map.style.sourceCaches;for(var c in s){var m=s[c];if(m.used){var g=m.getSource();g.attribution&&a.indexOf(g.attribution)<0&&a.push(g.attribution)}}a.sort((function(w,E){return w.length-E.length}));var b=(a=a.filter((function(w,E){for(var L=E+1;L<a.length;L++)if(a[L].indexOf(w)>=0)return!1;return!0}))).join(" | ");b!==this._attribHTML&&(this._attribHTML=b,a.length?(this._innerContainer.innerHTML=b,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},ga.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var Ha=function(){h.bindAll(["_updateLogo"],this),h.bindAll(["_updateCompact"],this)};Ha.prototype.onAdd=function(a){this._map=a,this._container=G.create("div","mapboxgl-ctrl");var l=G.create("a","mapboxgl-ctrl-logo");return l.target="_blank",l.rel="noopener nofollow",l.href="https://goong.io/",l.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),l.setAttribute("rel","noopener nofollow"),this._container.appendChild(l),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Ha.prototype.onRemove=function(){G.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Ha.prototype.getDefaultPosition=function(){return"bottom-left"},Ha.prototype._updateLogo=function(a){a&&a.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")},Ha.prototype._logoRequired=function(){return!0},Ha.prototype._updateCompact=function(){var a=this._container.children;if(a.length){var l=a[0];this._map.getCanvasContainer().offsetWidth<250?l.classList.add("mapboxgl-compact"):l.classList.remove("mapboxgl-compact")}};var yo=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};yo.prototype.add=function(a){var l=++this._id;return this._queue.push({callback:a,id:l,cancelled:!1}),l},yo.prototype.remove=function(a){for(var l=this._currentlyRunning,s=0,c=l?this._queue.concat(l):this._queue;s<c.length;s+=1){var m=c[s];if(m.id===a)return void(m.cancelled=!0)}},yo.prototype.run=function(){var a=this._currentlyRunning=this._queue;this._queue=[];for(var l=0,s=a;l<s.length;l+=1){var c=s[l];if(!c.cancelled&&(c.callback(),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},yo.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Wr={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Goong logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},tr=h.window.HTMLImageElement,Xn=h.window.HTMLElement,_a=h.window.ImageBitmap,Bl={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,clickTolerance:3,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Ys=(function(a){function l(c){var m=this;if((c=h.extend({},Bl,c)).minZoom!=null&&c.maxZoom!=null&&c.minZoom>c.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(c.minPitch!=null&&c.maxPitch!=null&&c.minPitch>c.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(c.minPitch!=null&&c.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(c.maxPitch!=null&&c.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var g=new li(c.minZoom,c.maxZoom,c.minPitch,c.maxPitch,c.renderWorldCopies);if(a.call(this,g,c),this._interactive=c.interactive,this._maxTileCacheSize=c.maxTileCacheSize,this._failIfMajorPerformanceCaveat=c.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=c.preserveDrawingBuffer,this._antialias=c.antialias,this._trackResize=c.trackResize,this._bearingSnap=c.bearingSnap,this._refreshExpiredTiles=c.refreshExpiredTiles,this._fadeDuration=c.fadeDuration,this._crossSourceCollisions=c.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=c.collectResourceTiming,this._renderTaskQueue=new yo,this._controls=[],this._mapId=h.uniqueId(),this._locale=h.extend({},Wr,c.locale),this._requestManager=new h.RequestManager(c.transformRequest,c.accessToken),typeof c.container=="string"){if(this._container=h.window.document.getElementById(c.container),!this._container)throw new Error("Container '"+c.container+"' not found.")}else{if(!(c.container instanceof Xn))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=c.container}if(c.maxBounds&&this.setMaxBounds(c.maxBounds),h.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",(function(){return m._update(!1)})),this.on("moveend",(function(){return m._update(!1)})),this.on("zoom",(function(){return m._update(!0)})),h.window!==void 0&&(h.window.addEventListener("online",this._onWindowOnline,!1),h.window.addEventListener("resize",this._onWindowResize,!1)),(function(w,E){var L=w.getCanvasContainer(),R=null,N=!1,Y=null;for(var H in lp)w[H]=new lp[H](w,E),E.interactive&&E[H]&&w[H].enable(E[H]);G.addEventListener(L,"mouseout",(function(X){w.fire(new Rn("mouseout",w,X))})),G.addEventListener(L,"mousedown",(function(X){N=!0,Y=G.mousePos(L,X);var Z=new Rn("mousedown",w,X);w.fire(Z),!Z.defaultPrevented&&(E.interactive&&!w.doubleClickZoom.isActive()&&w.stop(),w.boxZoom.onMouseDown(X),w.boxZoom.isActive()||w.dragPan.isActive()||w.dragRotate.onMouseDown(X),w.boxZoom.isActive()||w.dragRotate.isActive()||w.dragPan.onMouseDown(X))})),G.addEventListener(L,"mouseup",(function(X){var Z=w.dragRotate.isActive();R&&!Z&&w.fire(new Rn("contextmenu",w,R)),R=null,N=!1,w.fire(new Rn("mouseup",w,X))})),G.addEventListener(L,"mousemove",(function(X){if(!w.dragPan.isActive()&&!w.dragRotate.isActive()){for(var Z=X.target;Z&&Z!==L;)Z=Z.parentNode;Z===L&&w.fire(new Rn("mousemove",w,X))}})),G.addEventListener(L,"mouseover",(function(X){for(var Z=X.target;Z&&Z!==L;)Z=Z.parentNode;Z===L&&w.fire(new Rn("mouseover",w,X))})),G.addEventListener(L,"touchstart",(function(X){var Z=new ue("touchstart",w,X);w.fire(Z),!Z.defaultPrevented&&(E.interactive&&w.stop(),w.boxZoom.isActive()||w.dragRotate.isActive()||w.dragPan.onTouchStart(X),w.touchZoomRotate.onStart(X),w.doubleClickZoom.onTouchStart(Z))}),{passive:!1}),G.addEventListener(L,"touchmove",(function(X){w.fire(new ue("touchmove",w,X))}),{passive:!1}),G.addEventListener(L,"touchend",(function(X){w.fire(new ue("touchend",w,X))})),G.addEventListener(L,"touchcancel",(function(X){w.fire(new ue("touchcancel",w,X))})),G.addEventListener(L,"click",(function(X){var Z=G.mousePos(L,X);(!Y||Z.equals(Y)||Z.dist(Y)<E.clickTolerance)&&w.fire(new Rn("click",w,X))})),G.addEventListener(L,"dblclick",(function(X){var Z=new Rn("dblclick",w,X);w.fire(Z),!Z.defaultPrevented&&w.doubleClickZoom.onDblClick(Z)})),G.addEventListener(L,"contextmenu",(function(X){var Z=w.dragRotate.isActive();N||Z?N&&(R=X):w.fire(new Rn("contextmenu",w,X)),(w.dragRotate.isEnabled()||w.listens("contextmenu"))&&X.preventDefault()})),G.addEventListener(L,"wheel",(function(X){E.interactive&&w.stop();var Z=new ms("wheel",w,X);w.fire(Z),!Z.defaultPrevented&&w.scrollZoom.onWheel(X)}),{passive:!1})})(this,c);var b=typeof c.hash=="string"&&c.hash||void 0;this._hash=c.hash&&new Po(b).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:c.center,zoom:c.zoom,bearing:c.bearing,pitch:c.pitch}),c.bounds&&(this.resize(),this.fitBounds(c.bounds,h.extend({},c.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=c.localIdeographFontFamily,c.style&&this.setStyle(c.style,{localIdeographFontFamily:c.localIdeographFontFamily}),c.attributionControl&&this.addControl(new ga({customAttribution:c.customAttribution})),this.addControl(new Ha,c.logoPosition),this.on("style.load",(function(){m.transform.unmodified&&m.jumpTo(m.style.stylesheet)})),this.on("data",(function(w){m._update(w.dataType==="style"),m.fire(new h.Event(w.dataType+"data",w))})),this.on("dataloading",(function(w){m.fire(new h.Event(w.dataType+"dataloading",w))}))}a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l;var s={showTileBoundaries:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return l.prototype._getMapId=function(){return this._mapId},l.prototype.addControl=function(c,m){if(m===void 0&&c.getDefaultPosition&&(m=c.getDefaultPosition()),m===void 0&&(m="top-right"),!c||!c.onAdd)return this.fire(new h.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var g=c.onAdd(this);this._controls.push(c);var b=this._controlPositions[m];return m.indexOf("bottom")!==-1?b.insertBefore(g,b.firstChild):b.appendChild(g),this},l.prototype.removeControl=function(c){if(!c||!c.onRemove)return this.fire(new h.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var m=this._controls.indexOf(c);return m>-1&&this._controls.splice(m,1),c.onRemove(this),this},l.prototype.resize=function(c){var m=this._containerDimensions(),g=m[0],b=m[1];return this._resizeCanvas(g,b),this.transform.resize(g,b),this.painter.resize(g,b),this.fire(new h.Event("movestart",c)).fire(new h.Event("move",c)).fire(new h.Event("resize",c)).fire(new h.Event("moveend",c)),this},l.prototype.getBounds=function(){return this.transform.getBounds()},l.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},l.prototype.setMaxBounds=function(c){return this.transform.setMaxBounds(h.LngLatBounds.convert(c)),this._update()},l.prototype.setMinZoom=function(c){if((c=c??-2)>=-2&&c<=this.transform.maxZoom)return this.transform.minZoom=c,this._update(),this.getZoom()<c&&this.setZoom(c),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},l.prototype.getMinZoom=function(){return this.transform.minZoom},l.prototype.setMaxZoom=function(c){if((c=c??22)>=this.transform.minZoom)return this.transform.maxZoom=c,this._update(),this.getZoom()>c&&this.setZoom(c),this;throw new Error("maxZoom must be greater than the current minZoom")},l.prototype.getMaxZoom=function(){return this.transform.maxZoom},l.prototype.setMinPitch=function(c){if((c=c??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(c>=0&&c<=this.transform.maxPitch)return this.transform.minPitch=c,this._update(),this.getPitch()<c&&this.setPitch(c),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},l.prototype.getMinPitch=function(){return this.transform.minPitch},l.prototype.setMaxPitch=function(c){if((c=c??60)>60)throw new Error("maxPitch must be less than or equal to 60");if(c>=this.transform.minPitch)return this.transform.maxPitch=c,this._update(),this.getPitch()>c&&this.setPitch(c),this;throw new Error("maxPitch must be greater than the current minPitch")},l.prototype.getMaxPitch=function(){return this.transform.maxPitch},l.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},l.prototype.setRenderWorldCopies=function(c){return this.transform.renderWorldCopies=c,this._update()},l.prototype.project=function(c){return this.transform.locationPoint(h.LngLat.convert(c))},l.prototype.unproject=function(c){return this.transform.pointLocation(h.Point.convert(c))},l.prototype.isMoving=function(){return this._moving||this.dragPan.isActive()||this.dragRotate.isActive()||this.scrollZoom.isActive()},l.prototype.isZooming=function(){return this._zooming||this.scrollZoom.isZooming()},l.prototype.isRotating=function(){return this._rotating||this.dragRotate.isActive()},l.prototype.on=function(c,m,g){var b=this;if(g===void 0)return a.prototype.on.call(this,c,m);var w=(function(){var L;if(c==="mouseenter"||c==="mouseover"){var R=!1;return{layer:m,listener:g,delegates:{mousemove:function(Y){var H=b.getLayer(m)?b.queryRenderedFeatures(Y.point,{layers:[m]}):[];H.length?R||(R=!0,g.call(b,new Rn(c,b,Y.originalEvent,{features:H}))):R=!1},mouseout:function(){R=!1}}}}if(c==="mouseleave"||c==="mouseout"){var N=!1;return{layer:m,listener:g,delegates:{mousemove:function(Y){(b.getLayer(m)?b.queryRenderedFeatures(Y.point,{layers:[m]}):[]).length?N=!0:N&&(N=!1,g.call(b,new Rn(c,b,Y.originalEvent)))},mouseout:function(Y){N&&(N=!1,g.call(b,new Rn(c,b,Y.originalEvent)))}}}}return{layer:m,listener:g,delegates:(L={},L[c]=function(Y){var H=b.getLayer(m)?b.queryRenderedFeatures(Y.point,{layers:[m]}):[];H.length&&(Y.features=H,g.call(b,Y),delete Y.features)},L)}})();for(var E in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[c]=this._delegatedListeners[c]||[],this._delegatedListeners[c].push(w),w.delegates)this.on(E,w.delegates[E]);return this},l.prototype.off=function(c,m,g){if(g===void 0)return a.prototype.off.call(this,c,m);if(this._delegatedListeners&&this._delegatedListeners[c])for(var b=this._delegatedListeners[c],w=0;w<b.length;w++){var E=b[w];if(E.layer===m&&E.listener===g){for(var L in E.delegates)this.off(L,E.delegates[L]);return b.splice(w,1),this}}return this},l.prototype.queryRenderedFeatures=function(c,m){if(!this.style)return[];var g;if(m!==void 0||c===void 0||c instanceof h.Point||Array.isArray(c)||(m=c,c=void 0),m=m||{},(c=c||[[0,0],[this.transform.width,this.transform.height]])instanceof h.Point||typeof c[0]=="number")g=[h.Point.convert(c)];else{var b=h.Point.convert(c[0]),w=h.Point.convert(c[1]);g=[b,new h.Point(w.x,b.y),w,new h.Point(b.x,w.y),b]}return this.style.queryRenderedFeatures(g,m,this.transform)},l.prototype.querySourceFeatures=function(c,m){return this.style.querySourceFeatures(c,m)},l.prototype.setStyle=function(c,m){return(m=h.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},m)).diff!==!1&&m.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&c?(this._diffStyle(c,m),this):(this._localIdeographFontFamily=m.localIdeographFontFamily,this._updateStyle(c,m))},l.prototype._getUIString=function(c){var m=this._locale[c];if(m==null)throw new Error("Missing UI string '"+c+"'");return m},l.prototype._updateStyle=function(c,m){return this.style&&(this.style.setEventedParent(null),this.style._remove()),c?(this.style=new Ui(this,m||{}),this.style.setEventedParent(this,{style:this.style}),typeof c=="string"?this.style.loadURL(c):this.style.loadJSON(c),this):(delete this.style,this)},l.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Ui(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},l.prototype._diffStyle=function(c,m){var g=this;if(typeof c=="string"){var b=this._requestManager.normalizeStyleURL(c),w=this._requestManager.transformRequest(b,h.ResourceType.Style);h.getJSON(w,(function(E,L){E?g.fire(new h.ErrorEvent(E)):L&&g._updateDiff(L,m)}))}else typeof c=="object"&&this._updateDiff(c,m)},l.prototype._updateDiff=function(c,m){try{this.style.setState(c)&&this._update(!0)}catch(g){h.warnOnce("Unable to perform style diff: "+(g.message||g.error||g)+".  Rebuilding the style from scratch."),this._updateStyle(c,m)}},l.prototype.getStyle=function(){if(this.style)return this.style.serialize()},l.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():h.warnOnce("There is no style added to the map.")},l.prototype.addSource=function(c,m){return this._lazyInitEmptyStyle(),this.style.addSource(c,m),this._update(!0)},l.prototype.isSourceLoaded=function(c){var m=this.style&&this.style.sourceCaches[c];if(m!==void 0)return m.loaded();this.fire(new h.ErrorEvent(new Error("There is no source with ID '"+c+"'")))},l.prototype.areTilesLoaded=function(){var c=this.style&&this.style.sourceCaches;for(var m in c){var g=c[m]._tiles;for(var b in g){var w=g[b];if(w.state!=="loaded"&&w.state!=="errored")return!1}}return!0},l.prototype.addSourceType=function(c,m,g){return this._lazyInitEmptyStyle(),this.style.addSourceType(c,m,g)},l.prototype.removeSource=function(c){return this.style.removeSource(c),this._update(!0)},l.prototype.getSource=function(c){return this.style.getSource(c)},l.prototype.addImage=function(c,m,g){g===void 0&&(g={});var b=g.pixelRatio;b===void 0&&(b=1);var w=g.sdf;w===void 0&&(w=!1);var E=g.stretchX,L=g.stretchY,R=g.content;if(this._lazyInitEmptyStyle(),m instanceof tr||_a&&m instanceof _a){var N=h.browser.getImageData(m),Y=N.width,H=N.height,X=N.data;this.style.addImage(c,{data:new h.RGBAImage({width:Y,height:H},X),pixelRatio:b,stretchX:E,stretchY:L,content:R,sdf:w,version:0})}else{if(m.width===void 0||m.height===void 0)return this.fire(new h.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Z=m.width,at=m.height,tt=m.data,ht=m;this.style.addImage(c,{data:new h.RGBAImage({width:Z,height:at},new Uint8Array(tt)),pixelRatio:b,stretchX:E,stretchY:L,content:R,sdf:w,version:0,userImage:ht}),ht.onAdd&&ht.onAdd(this,c)}},l.prototype.updateImage=function(c,m){var g=this.style.getImage(c);if(!g)return this.fire(new h.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var b=m instanceof tr||_a&&m instanceof _a?h.browser.getImageData(m):m,w=b.width,E=b.height,L=b.data;if(w===void 0||E===void 0)return this.fire(new h.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(w!==g.data.width||E!==g.data.height)return this.fire(new h.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var R=!(m instanceof tr||_a&&m instanceof _a);g.data.replace(L,R),this.style.updateImage(c,g)},l.prototype.hasImage=function(c){return c?!!this.style.getImage(c):(this.fire(new h.ErrorEvent(new Error("Missing required image id"))),!1)},l.prototype.removeImage=function(c){this.style.removeImage(c)},l.prototype.loadImage=function(c,m){h.getImage(this._requestManager.transformRequest(c,h.ResourceType.Image),m)},l.prototype.listImages=function(){return this.style.listImages()},l.prototype.addLayer=function(c,m){return this._lazyInitEmptyStyle(),this.style.addLayer(c,m),this._update(!0)},l.prototype.moveLayer=function(c,m){return this.style.moveLayer(c,m),this._update(!0)},l.prototype.removeLayer=function(c){return this.style.removeLayer(c),this._update(!0)},l.prototype.getLayer=function(c){return this.style.getLayer(c)},l.prototype.setLayerZoomRange=function(c,m,g){return this.style.setLayerZoomRange(c,m,g),this._update(!0)},l.prototype.setFilter=function(c,m,g){return g===void 0&&(g={}),this.style.setFilter(c,m,g),this._update(!0)},l.prototype.getFilter=function(c){return this.style.getFilter(c)},l.prototype.setPaintProperty=function(c,m,g,b){return b===void 0&&(b={}),this.style.setPaintProperty(c,m,g,b),this._update(!0)},l.prototype.getPaintProperty=function(c,m){return this.style.getPaintProperty(c,m)},l.prototype.setLayoutProperty=function(c,m,g,b){return b===void 0&&(b={}),this.style.setLayoutProperty(c,m,g,b),this._update(!0)},l.prototype.getLayoutProperty=function(c,m){return this.style.getLayoutProperty(c,m)},l.prototype.setLight=function(c,m){return m===void 0&&(m={}),this._lazyInitEmptyStyle(),this.style.setLight(c,m),this._update(!0)},l.prototype.getLight=function(){return this.style.getLight()},l.prototype.setFeatureState=function(c,m){return this.style.setFeatureState(c,m),this._update()},l.prototype.removeFeatureState=function(c,m){return this.style.removeFeatureState(c,m),this._update()},l.prototype.getFeatureState=function(c){return this.style.getFeatureState(c)},l.prototype.getContainer=function(){return this._container},l.prototype.getCanvasContainer=function(){return this._canvasContainer},l.prototype.getCanvas=function(){return this._canvas},l.prototype._containerDimensions=function(){var c=0,m=0;return this._container&&(c=this._container.clientWidth||400,m=this._container.clientHeight||300),[c,m]},l.prototype._detectMissingCSS=function(){h.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&h.warnOnce("This page appears to be missing CSS declarations for Goong GL JS, which may cause the map to display incorrectly. Please ensure your page includes goong-js.css, as described in https://docs.goong.io/javascript/.")},l.prototype._setupContainer=function(){var c=this._container;c.classList.add("mapboxgl-map"),(this._missingCSSCanary=G.create("div","mapboxgl-canary",c)).style.visibility="hidden",this._detectMissingCSS();var m=this._canvasContainer=G.create("div","mapboxgl-canvas-container",c);this._interactive&&m.classList.add("mapboxgl-interactive"),this._canvas=G.create("canvas","mapboxgl-canvas",m),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var g=this._containerDimensions();this._resizeCanvas(g[0],g[1]);var b=this._controlContainer=G.create("div","mapboxgl-control-container",c),w=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(E){w[E]=G.create("div","mapboxgl-ctrl-"+E,b)})),this._container.addEventListener("scroll",this._onMapScroll,!1)},l.prototype._resizeCanvas=function(c,m){var g=h.browser.devicePixelRatio||1;this._canvas.width=g*c,this._canvas.height=g*m,this._canvas.style.width=c+"px",this._canvas.style.height=m+"px"},l.prototype._setupPainter=function(){var c=h.extend({},xt.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),m=this._canvas.getContext("webgl",c)||this._canvas.getContext("experimental-webgl",c);m?(this.painter=new qi(m,this.transform),h.webpSupported.testSupport(m)):this.fire(new h.ErrorEvent(new Error("Failed to initialize WebGL")))},l.prototype._contextLost=function(c){c.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new h.Event("webglcontextlost",{originalEvent:c}))},l.prototype._contextRestored=function(c){this._setupPainter(),this.resize(),this._update(),this.fire(new h.Event("webglcontextrestored",{originalEvent:c}))},l.prototype._onMapScroll=function(c){if(c.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},l.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},l.prototype._update=function(c){return this.style?(this._styleDirty=this._styleDirty||c,this._sourcesDirty=!0,this.triggerRepaint(),this):this},l.prototype._requestRenderFrame=function(c){return this._update(),this._renderTaskQueue.add(c)},l.prototype._cancelRenderFrame=function(c){this._renderTaskQueue.remove(c)},l.prototype._render=function(){var c,m=this,g=0,b=this.painter.context.extTimerQuery;this.listens("gpu-timing-frame")&&(c=b.createQueryEXT(),b.beginQueryEXT(b.TIME_ELAPSED_EXT,c),g=h.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run();var w=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var E=this.transform.zoom,L=h.browser.now();this.style.zoomHistory.update(E,L);var R=new h.EvaluationParameters(E,{now:L,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),N=R.crossFadingFactor();N===1&&N===this._crossFadingFactor||(w=!0,this._crossFadingFactor=N),this.style.update(R)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),gpuTiming:!!this.listens("gpu-timing-layer"),fadeDuration:this._fadeDuration}),this.fire(new h.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new h.Event("load"))),this.style&&(this.style.hasTransitions()||w)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Y=h.browser.now()-g;b.endQueryEXT(b.TIME_ELAPSED_EXT,c),setTimeout((function(){var X=b.getQueryObjectEXT(c,b.QUERY_RESULT_EXT)/1e6;b.deleteQueryEXT(c),m.fire(new h.Event("gpu-timing-frame",{cpuTime:Y,gpuTime:X}))}),50)}if(this.listens("gpu-timing-layer")){var H=this.painter.collectGpuTimers();setTimeout((function(){var X=m.painter.queryGpuTimers(H);m.fire(new h.Event("gpu-timing-layer",{layerTimes:X}))}),50)}return this._sourcesDirty||this._styleDirty||this._placementDirty||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&(this._fullyLoaded||(this._fullyLoaded=!0),this.fire(new h.Event("idle"))),this},l.prototype.remove=function(){this._hash&&this._hash.remove();for(var c=0,m=this._controls;c<m.length;c+=1)m[c].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.setStyle(null),h.window!==void 0&&(h.window.removeEventListener("resize",this._onWindowResize,!1),h.window.removeEventListener("online",this._onWindowOnline,!1));var g=this.painter.context.gl.getExtension("WEBGL_lose_context");g&&g.loseContext(),No(this._canvasContainer),No(this._controlContainer),No(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this.fire(new h.Event("remove"))},l.prototype.triggerRepaint=function(){var c=this;this.style&&!this._frame&&(this._frame=h.browser.frame((function(m){c._frame=null,c._render()})))},l.prototype._onWindowOnline=function(){this._update()},l.prototype._onWindowResize=function(c){this._trackResize&&this.resize({originalEvent:c})._update()},s.showTileBoundaries.get=function(){return!!this._showTileBoundaries},s.showTileBoundaries.set=function(c){this._showTileBoundaries!==c&&(this._showTileBoundaries=c,this._update())},s.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},s.showCollisionBoxes.set=function(c){this._showCollisionBoxes!==c&&(this._showCollisionBoxes=c,c?this.style._generateCollisionBoxes():this._update())},s.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},s.showOverdrawInspector.set=function(c){this._showOverdrawInspector!==c&&(this._showOverdrawInspector=c,this._update())},s.repaint.get=function(){return!!this._repaint},s.repaint.set=function(c){this._repaint!==c&&(this._repaint=c,this.triggerRepaint())},s.vertices.get=function(){return!!this._vertices},s.vertices.set=function(c){this._vertices=c,this._update()},l.prototype._setCacheLimits=function(c,m){h.setCacheLimits(c,m)},s.version.get=function(){return h.version},Object.defineProperties(l.prototype,s),l})(sh);function No(a){a.parentNode&&a.parentNode.removeChild(a)}var Iu={showCompass:!0,showZoom:!0,visualizePitch:!1},hn=function(a){var l=this;this.options=h.extend({},Iu,a),this._container=G.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(s){return s.preventDefault()})),this.options.showZoom&&(h.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(function(s){return l._map.zoomIn({},{originalEvent:s})})),G.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(function(s){return l._map.zoomOut({},{originalEvent:s})})),G.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(h.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(function(s){l.options.visualizePitch?l._map.resetNorthPitch({},{originalEvent:s}):l._map.resetNorth({},{originalEvent:s})})),this._compassIcon=G.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};function Pi(a,l,s){if(a=new h.LngLat(a.lng,a.lat),l){var c=new h.LngLat(a.lng-360,a.lat),m=new h.LngLat(a.lng+360,a.lat),g=s.locationPoint(a).distSqr(l);s.locationPoint(c).distSqr(l)<g?a=c:s.locationPoint(m).distSqr(l)<g&&(a=m)}for(;Math.abs(a.lng-s.center.lng)>180;){var b=s.locationPoint(a);if(b.x>=0&&b.y>=0&&b.x<=s.width&&b.y<=s.height)break;a.lng>s.center.lng?a.lng-=360:a.lng+=360}return a}hn.prototype._updateZoomButtons=function(){var a=this._map.getZoom();this._zoomInButton.disabled=a===this._map.getMaxZoom(),this._zoomOutButton.disabled=a===this._map.getMinZoom()},hn.prototype._rotateCompassArrow=function(){var a=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=a},hn.prototype.onAdd=function(a){return this._map=a,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new sn(a,{button:"left",element:this._compass}),G.addEventListener(this._compass,"mousedown",this._handler.onMouseDown),G.addEventListener(this._compass,"touchstart",this._handler.onMouseDown,{passive:!1}),this._handler.enable()),this._container},hn.prototype.onRemove=function(){G.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),G.removeEventListener(this._compass,"mousedown",this._handler.onMouseDown),G.removeEventListener(this._compass,"touchstart",this._handler.onMouseDown,{passive:!1}),this._handler.disable(),delete this._handler),delete this._map},hn.prototype._createButton=function(a,l){var s=G.create("button",a,this._container);return s.type="button",s.addEventListener("click",l),s},hn.prototype._setButtonTitle=function(a,l){var s=this._map._getUIString("NavigationControl."+l);a.title=s,a.setAttribute("aria-label",s)};var Da={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function La(a,l,s){var c=a.classList;for(var m in Da)c.remove("mapboxgl-"+s+"-anchor-"+m);c.add("mapboxgl-"+s+"-anchor-"+l)}var Or,gr=(function(a){function l(s,c){if(a.call(this),(s instanceof h.window.HTMLElement||c)&&(s=h.extend({element:s},c)),h.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=s&&s.anchor||"center",this._color=s&&s.color||"#3FB1CE",this._scale=s&&s.scale||1,this._draggable=s&&s.draggable||!1,this._state="inactive",this._rotation=s&&s.rotation||0,this._rotationAlignment=s&&s.rotationAlignment||"auto",this._pitchAlignment=s&&s.pitchAlignment&&s.pitchAlignment!=="auto"?s.pitchAlignment:this._rotationAlignment,s&&s.element)this._element=s.element,this._offset=h.Point.convert(s&&s.offset||[0,0]);else{this._defaultMarker=!0,this._element=G.create("div"),this._element.setAttribute("aria-label","Map marker");var m=G.createNS("http://www.w3.org/2000/svg","svg");m.setAttributeNS(null,"display","block"),m.setAttributeNS(null,"height","41px"),m.setAttributeNS(null,"width","27px"),m.setAttributeNS(null,"viewBox","0 0 27 41");var g=G.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"stroke","none"),g.setAttributeNS(null,"stroke-width","1"),g.setAttributeNS(null,"fill","none"),g.setAttributeNS(null,"fill-rule","evenodd");var b=G.createNS("http://www.w3.org/2000/svg","g");b.setAttributeNS(null,"fill-rule","nonzero");var w=G.createNS("http://www.w3.org/2000/svg","g");w.setAttributeNS(null,"transform","translate(3.0, 29.0)"),w.setAttributeNS(null,"fill","#000000");for(var E=0,L=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];E<L.length;E+=1){var R=L[E],N=G.createNS("http://www.w3.org/2000/svg","ellipse");N.setAttributeNS(null,"opacity","0.04"),N.setAttributeNS(null,"cx","10.5"),N.setAttributeNS(null,"cy","5.80029008"),N.setAttributeNS(null,"rx",R.rx),N.setAttributeNS(null,"ry",R.ry),w.appendChild(N)}var Y=G.createNS("http://www.w3.org/2000/svg","g");Y.setAttributeNS(null,"fill",this._color);var H=G.createNS("http://www.w3.org/2000/svg","path");H.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Y.appendChild(H);var X=G.createNS("http://www.w3.org/2000/svg","g");X.setAttributeNS(null,"opacity","0.25"),X.setAttributeNS(null,"fill","#000000");var Z=G.createNS("http://www.w3.org/2000/svg","path");Z.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),X.appendChild(Z);var at=G.createNS("http://www.w3.org/2000/svg","g");at.setAttributeNS(null,"transform","translate(6.0, 7.0)"),at.setAttributeNS(null,"fill","#FFFFFF");var tt=G.createNS("http://www.w3.org/2000/svg","g");tt.setAttributeNS(null,"transform","translate(8.0, 8.0)");var ht=G.createNS("http://www.w3.org/2000/svg","circle");ht.setAttributeNS(null,"fill","#000000"),ht.setAttributeNS(null,"opacity","0.25"),ht.setAttributeNS(null,"cx","5.5"),ht.setAttributeNS(null,"cy","5.5"),ht.setAttributeNS(null,"r","5.4999962");var ct=G.createNS("http://www.w3.org/2000/svg","circle");ct.setAttributeNS(null,"fill","#FFFFFF"),ct.setAttributeNS(null,"cx","5.5"),ct.setAttributeNS(null,"cy","5.5"),ct.setAttributeNS(null,"r","5.4999962"),tt.appendChild(ht),tt.appendChild(ct),b.appendChild(w),b.appendChild(Y),b.appendChild(X),b.appendChild(at),b.appendChild(tt),m.appendChild(b),m.setAttributeNS(null,"height",41*this._scale+"px"),m.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(m),this._offset=h.Point.convert(s&&s.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(function(ft){ft.preventDefault()})),this._element.addEventListener("mousedown",(function(ft){ft.preventDefault()})),La(this._element,this._anchor,"marker"),this._popup=null}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.addTo=function(s){return this.remove(),this._map=s,s.getCanvasContainer().appendChild(this._element),s.on("move",this._update),s.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},l.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),G.remove(this._element),this._popup&&this._popup.remove(),this},l.prototype.getLngLat=function(){return this._lngLat},l.prototype.setLngLat=function(s){return this._lngLat=h.LngLat.convert(s),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},l.prototype.getElement=function(){return this._element},l.prototype.setPopup=function(s){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),s){if(!("offset"in s.options)){var c=Math.sqrt(Math.pow(13.5,2)/2);s.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[c,-1*(24.6+c)],"bottom-right":[-c,-1*(24.6+c)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=s,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},l.prototype._onKeyPress=function(s){var c=s.code,m=s.charCode||s.keyCode;c!=="Space"&&c!=="Enter"&&m!==32&&m!==13||this.togglePopup()},l.prototype._onMapClick=function(s){var c=s.originalEvent.target,m=this._element;this._popup&&(c===m||m.contains(c))&&this.togglePopup()},l.prototype.getPopup=function(){return this._popup},l.prototype.togglePopup=function(){var s=this._popup;return s?(s.isOpen()?s.remove():s.addTo(this._map),this):this},l.prototype._update=function(s){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Pi(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var c="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?c="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(c="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var m="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?m="rotateX(0deg)":this._pitchAlignment==="map"&&(m="rotateX("+this._map.getPitch()+"deg)"),s&&s.type!=="moveend"||(this._pos=this._pos.round()),G.setTransform(this._element,Da[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+m+" "+c)}},l.prototype.getOffset=function(){return this._offset},l.prototype.setOffset=function(s){return this._offset=h.Point.convert(s),this._update(),this},l.prototype._onMove=function(s){this._pos=s.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new h.Event("dragstart"))),this.fire(new h.Event("drag"))},l.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new h.Event("dragend")),this._state="inactive"},l.prototype._addDragHandler=function(s){this._element.contains(s.originalEvent.target)&&(s.preventDefault(),this._positionDelta=s.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},l.prototype.setDraggable=function(s){return this._draggable=!!s,this._map&&(s?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},l.prototype.isDraggable=function(){return this._draggable},l.prototype.setRotation=function(s){return this._rotation=s||0,this._update(),this},l.prototype.getRotation=function(){return this._rotation},l.prototype.setRotationAlignment=function(s){return this._rotationAlignment=s||"auto",this._update(),this},l.prototype.getRotationAlignment=function(){return this._rotationAlignment},l.prototype.setPitchAlignment=function(s){return this._pitchAlignment=s&&s!=="auto"?s:this._rotationAlignment,this._update(),this},l.prototype.getPitchAlignment=function(){return this._pitchAlignment},l})(h.Evented),Ks={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0},$r=(function(a){function l(s){a.call(this),this.options=h.extend({},Ks,s),h.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.onAdd=function(s){var c;return this._map=s,this._container=G.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),c=this._setupUI,Or!==void 0?c(Or):h.window.navigator.permissions!==void 0?h.window.navigator.permissions.query({name:"geolocation"}).then((function(m){Or=m.state!=="denied",c(Or)})):(Or=!!h.window.navigator.geolocation,c(Or)),this._container},l.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(h.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),G.remove(this._container),this._map=void 0},l.prototype._isOutOfMapMaxBounds=function(s){var c=this._map.getMaxBounds(),m=s.coords;return c&&(m.longitude<c.getWest()||m.longitude>c.getEast()||m.latitude<c.getSouth()||m.latitude>c.getNorth())},l.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},l.prototype._onSuccess=function(s){if(this._isOutOfMapMaxBounds(s))return this._setErrorState(),this.fire(new h.Event("outofmaxbounds",s)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=s,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(s),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(s),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new h.Event("geolocate",s)),this._finish()},l.prototype._updateCamera=function(s){var c=new h.LngLat(s.coords.longitude,s.coords.latitude),m=s.coords.accuracy,g=this._map.getBearing(),b=h.extend({bearing:g},this.options.fitBoundsOptions);this._map.fitBounds(c.toBounds(m),b,{geolocateSource:!0})},l.prototype._updateMarker=function(s){s?this._userLocationDotMarker.setLngLat([s.coords.longitude,s.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},l.prototype._onError=function(s){if(this.options.trackUserLocation)if(s.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=c,this._geolocateButton.setAttribute("aria-label",c),this._geolocationWatchID!==void 0&&this._clearWatch()}else this._setErrorState();this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new h.Event("error",s)),this._finish()},l.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},l.prototype._setupUI=function(s){var c=this;if(this._container.addEventListener("contextmenu",(function(b){return b.preventDefault()})),this._geolocateButton=G.create("button","mapboxgl-ctrl-geolocate",this._container),G.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",s===!1){h.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var m=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=m,this._geolocateButton.setAttribute("aria-label",m)}else{var g=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=g,this._geolocateButton.setAttribute("aria-label",g)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=G.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new gr(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(b){var w=b.originalEvent&&b.originalEvent.type==="resize";b.geolocateSource||c._watchState!=="ACTIVE_LOCK"||w||(c._watchState="BACKGROUND",c._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),c._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),c.fire(new h.Event("trackuserlocationend")))}))},l.prototype.trigger=function(){if(!this._setup)return h.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new h.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new h.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new h.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}this._watchState==="OFF"&&this._geolocationWatchID!==void 0?this._clearWatch():this._geolocationWatchID===void 0&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=h.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else h.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},l.prototype._clearWatch=function(){h.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},l})(h.Evented),Sr={maxWidth:100,unit:"metric"},Ra=function(a){this.options=h.extend({},Sr,a),h.bindAll(["_onMove","setUnit"],this)};function fe(a,l,s){var c,m,g,b,w,E,L=s&&s.maxWidth||100,R=a._container.clientHeight/2,N=(c=a.unproject([0,R]),m=a.unproject([L,R]),g=Math.PI/180,b=c.lat*g,w=m.lat*g,E=Math.sin(b)*Math.sin(w)+Math.cos(b)*Math.cos(w)*Math.cos((m.lng-c.lng)*g),6371e3*Math.acos(Math.min(E,1)));if(s&&s.unit==="imperial"){var Y=3.2808*N;Y>5280?_e(l,L,Y/5280,a._getUIString("ScaleControl.Miles")):_e(l,L,Y,a._getUIString("ScaleControl.Feet"))}else s&&s.unit==="nautical"?_e(l,L,N/1852,a._getUIString("ScaleControl.NauticalMiles")):N>=1e3?_e(l,L,N/1e3,a._getUIString("ScaleControl.Kilometers")):_e(l,L,N,a._getUIString("ScaleControl.Meters"))}function _e(a,l,s,c){var m,g,b,w=(m=s,g=Math.pow(10,(""+Math.floor(m)).length-1),b=(b=m/g)>=10?10:b>=5?5:b>=3?3:b>=2?2:b>=1?1:(function(L){var R=Math.pow(10,Math.ceil(-Math.log(L)/Math.LN10));return Math.round(L*R)/R})(b),g*b),E=w/s;a.style.width=l*E+"px",a.innerHTML=w+c}Ra.prototype.getDefaultPosition=function(){return"bottom-left"},Ra.prototype._onMove=function(){fe(this._map,this._container,this.options)},Ra.prototype.onAdd=function(a){return this._map=a,this._container=G.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",a.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Ra.prototype.onRemove=function(){G.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Ra.prototype.setUnit=function(a){this.options.unit=a,fe(this._map,this._container,this.options)};var Ur=function(a){this._fullscreen=!1,a&&a.container&&(a.container instanceof h.window.HTMLElement?this._container=a.container:h.warnOnce("Full screen control 'container' must be a DOM element.")),h.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in h.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in h.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in h.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in h.window.document&&(this._fullscreenchange="MSFullscreenChange")};Ur.prototype.onAdd=function(a){return this._map=a,this._container||(this._container=this._map.getContainer()),this._controlContainer=G.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",h.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Ur.prototype.onRemove=function(){G.remove(this._controlContainer),this._map=null,h.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Ur.prototype._checkFullscreenSupport=function(){return!!(h.window.document.fullscreenEnabled||h.window.document.mozFullScreenEnabled||h.window.document.msFullscreenEnabled||h.window.document.webkitFullscreenEnabled)},Ur.prototype._setupUI=function(){var a=this._fullscreenButton=G.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);G.create("span","mapboxgl-ctrl-icon",a).setAttribute("aria-hidden",!0),a.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),h.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Ur.prototype._updateTitle=function(){var a=this._getTitle();this._fullscreenButton.setAttribute("aria-label",a),this._fullscreenButton.title=a},Ur.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Ur.prototype._isFullscreen=function(){return this._fullscreen},Ur.prototype._changeIcon=function(){(h.window.document.fullscreenElement||h.window.document.mozFullScreenElement||h.window.document.webkitFullscreenElement||h.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Ur.prototype._onClickFullscreen=function(){this._isFullscreen()?h.window.document.exitFullscreen?h.window.document.exitFullscreen():h.window.document.mozCancelFullScreen?h.window.document.mozCancelFullScreen():h.window.document.msExitFullscreen?h.window.document.msExitFullscreen():h.window.document.webkitCancelFullScreen&&h.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Fo={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Js=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),fn=(function(a){function l(s){a.call(this),this.options=h.extend(Object.create(Fo),s),h.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return a&&(l.__proto__=a),l.prototype=Object.create(a&&a.prototype),l.prototype.constructor=l,l.prototype.addTo=function(s){return this._map&&this.remove(),this._map=s,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new h.Event("open")),this},l.prototype.isOpen=function(){return!!this._map},l.prototype.remove=function(){return this._content&&G.remove(this._content),this._container&&(G.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new h.Event("close")),this},l.prototype.getLngLat=function(){return this._lngLat},l.prototype.setLngLat=function(s){return this._lngLat=h.LngLat.convert(s),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},l.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},l.prototype.getElement=function(){return this._container},l.prototype.setText=function(s){return this.setDOMContent(h.window.document.createTextNode(s))},l.prototype.setHTML=function(s){var c,m=h.window.document.createDocumentFragment(),g=h.window.document.createElement("body");for(g.innerHTML=s;c=g.firstChild;)m.appendChild(c);return this.setDOMContent(m)},l.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},l.prototype.setMaxWidth=function(s){return this.options.maxWidth=s,this._update(),this},l.prototype.setDOMContent=function(s){return this._createContent(),this._content.appendChild(s),this._createCloseButton(),this._update(),this._focusFirstElement(),this},l.prototype.addClassName=function(s){this._container&&this._container.classList.add(s)},l.prototype.removeClassName=function(s){this._container&&this._container.classList.remove(s)},l.prototype.setOffset=function(s){return this.options.offset=s,this._update(),this},l.prototype.toggleClassName=function(s){if(this._container)return this._container.classList.toggle(s)},l.prototype._createContent=function(){this._content&&G.remove(this._content),this._content=G.create("div","mapboxgl-popup-content",this._container)},l.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=G.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},l.prototype._onMouseUp=function(s){this._update(s.point)},l.prototype._onMouseMove=function(s){this._update(s.point)},l.prototype._onDrag=function(s){this._update(s.point)},l.prototype._update=function(s){var c=this,m=this._lngLat||this._trackPointer;if(this._map&&m&&this._content&&(this._container||(this._container=G.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=G.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(Y){return c._container.classList.add(Y)})),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Pi(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||s)){var g=this._pos=this._trackPointer&&s?s:this._map.project(this._lngLat),b=this.options.anchor,w=(function Y(H){if(H){if(typeof H=="number"){var X=Math.round(Math.sqrt(.5*Math.pow(H,2)));return{center:new h.Point(0,0),top:new h.Point(0,H),"top-left":new h.Point(X,X),"top-right":new h.Point(-X,X),bottom:new h.Point(0,-H),"bottom-left":new h.Point(X,-X),"bottom-right":new h.Point(-X,-X),left:new h.Point(H,0),right:new h.Point(-H,0)}}if(H instanceof h.Point||Array.isArray(H)){var Z=h.Point.convert(H);return{center:Z,top:Z,"top-left":Z,"top-right":Z,bottom:Z,"bottom-left":Z,"bottom-right":Z,left:Z,right:Z}}return{center:h.Point.convert(H.center||[0,0]),top:h.Point.convert(H.top||[0,0]),"top-left":h.Point.convert(H["top-left"]||[0,0]),"top-right":h.Point.convert(H["top-right"]||[0,0]),bottom:h.Point.convert(H.bottom||[0,0]),"bottom-left":h.Point.convert(H["bottom-left"]||[0,0]),"bottom-right":h.Point.convert(H["bottom-right"]||[0,0]),left:h.Point.convert(H.left||[0,0]),right:h.Point.convert(H.right||[0,0])}}return Y(new h.Point(0,0))})(this.options.offset);if(!b){var E,L=this._container.offsetWidth,R=this._container.offsetHeight;E=g.y+w.bottom.y<R?["top"]:g.y>this._map.transform.height-R?["bottom"]:[],g.x<L/2?E.push("left"):g.x>this._map.transform.width-L/2&&E.push("right"),b=E.length===0?"bottom":E.join("-")}var N=g.add(w[b]).round();G.setTransform(this._container,Da[b]+" translate("+N.x+"px,"+N.y+"px)"),La(this._container,b,"popup")}},l.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var s=this._container.querySelector(Js);s&&s.focus()}},l.prototype._onClose=function(){this.remove()},l})(h.Evented),_r={version:h.version,supported:xt,setRTLTextPlugin:h.setRTLTextPlugin,getRTLTextPluginStatus:h.getRTLTextPluginStatus,Map:Ys,NavigationControl:hn,GeolocateControl:$r,AttributionControl:ga,ScaleControl:Ra,FullscreenControl:Ur,Popup:fn,Marker:gr,Style:Ui,LngLat:h.LngLat,LngLatBounds:h.LngLatBounds,Point:h.Point,MercatorCoordinate:h.MercatorCoordinate,Evented:h.Evented,config:h.config,get accessToken(){return h.config.ACCESS_TOKEN},set accessToken(a){h.config.ACCESS_TOKEN=a},get baseApiUrl(){return h.config.API_URL},set baseApiUrl(a){h.config.API_URL=a},get workerCount(){return z.workerCount},set workerCount(a){z.workerCount=a},get maxParallelImageRequests(){return h.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(a){h.config.MAX_PARALLEL_IMAGE_REQUESTS=a},clearStorage:function(a){h.clearTileCache(a)},workerUrl:""};return _r})),$}))})(yd)),yd.exports}var f_=h_();const H_=Pm(f_),d_=Tt.createContext(null),Gd={didCatch:!1,error:null};class X_ extends Tt.Component{constructor(P){super(P),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=Gd}static getDerivedStateFromError(P){return{didCatch:!0,error:P}}resetErrorBoundary(){const{error:P}=this.state;if(P!==null){for(var q,I,$=arguments.length,rt=new Array($),h=0;h<$;h++)rt[h]=arguments[h];(q=(I=this.props).onReset)===null||q===void 0||q.call(I,{args:rt,reason:"imperative-api"}),this.setState(Gd)}}componentDidCatch(P,q){var I,$;(I=($=this.props).onError)===null||I===void 0||I.call($,P,q)}componentDidUpdate(P,q){const{didCatch:I}=this.state,{resetKeys:$}=this.props;if(I&&q.error!==null&&m_(P.resetKeys,$)){var rt,h;(rt=(h=this.props).onReset)===null||rt===void 0||rt.call(h,{next:$,prev:P.resetKeys,reason:"keys"}),this.setState(Gd)}}render(){const{children:P,fallbackRender:q,FallbackComponent:I,fallback:$}=this.props,{didCatch:rt,error:h}=this.state;let xt=P;if(rt){const G={error:h,resetErrorBoundary:this.resetErrorBoundary};if(typeof q=="function")xt=q(G);else if(I)xt=Tt.createElement(I,G);else if($!==void 0)xt=$;else throw h}return Tt.createElement(d_.Provider,{value:{didCatch:rt,error:h,resetErrorBoundary:this.resetErrorBoundary}},xt)}}function m_(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return T.length!==P.length||T.some((q,I)=>!Object.is(q,P[I]))}export{T_ as A,S_ as B,z_ as C,D_ as E,Z_ as F,R_ as H,ty as L,I_ as M,Gv as N,b_ as O,U_ as P,v_ as R,F_ as S,V_ as T,q_ as U,j_ as X,B_ as a,P_ as b,L_ as c,__ as d,fc as e,C_ as f,H_ as g,A_ as h,M_ as i,y_ as j,O_ as k,E_ as l,k_ as m,Dr as n,x_ as o,w_ as p,bv as q,Tt as r,N_ as s,g_ as t,Xm as u,X_ as v,G_ as z};
