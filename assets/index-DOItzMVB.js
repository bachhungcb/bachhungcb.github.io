import{j as e,P as te,M as ae,a as K,r as l,X as L,b as re,L as B,N as oe,u as E,T as ne,c as le,z as x,S as ie,E as F,d as I,R as ce,n as O,g as H,e as de,f as Z,C as me,h as ue,A as J,i as V,k as he,l as Y,m as ge,U as pe,o as fe,H as ee,B as xe,p as be,q as T,O as we,F as _e,s as ye,t as je,v as ve}from"./vendor-BpB0RXm0.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))d(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&d(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function d(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();const Ne=[{path:"/map",label:"map"},{path:"/list",label:"suggest_list"},{path:"/settings",label:"setting"}],G={phone:"0123.456.789",email:"contact@scheduler.com",address:"Phường Bách Khoa, Hai Bà Trưng, Hà Nội"},W=["https://images.unsplash.com/photo-1534438327276-14e5300c3a48?auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1517836357463-d25dfeac3438?auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1581009146145-b5ef050c2e1e?auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1571902943202-507ec2618e8f?auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1576678927484-cc907957088c?auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1583454110551-21f2fa2afe61?auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1517130038641-a774d04afb3c?auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1540497077202-7c8a3999166f?auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1593079831268-3381b0db4a77?auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1623874514711-0f321325f318?auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1556056504-5c7696c4c28d?auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1431324155629-1a6deb1dec8d?auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1551958219-acbc608c6377?auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1574629810360-7efbbe195018?auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1564687978103-511228eb1816?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8cyVDMyVBMm4lMjBiJUMzJUIzbmclMjAlQzQlOTElQzMlQTF8ZW58MHx8MHx8fDA%3D","https://images.unsplash.com/photo-1709089878099-df2b08d1e466?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8cyVDMyVBMm4lMjBiJUMzJUIzbmclMjAlQzQlOTElQzMlQTF8ZW58MHx8MHx8fDA%3D","https://images.unsplash.com/photo-1754940776796-57812fd7f88f?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTF8fHMlQzMlQTJuJTIwYiVDMyVCM25nJTIwJUM0JTkxJUMzJUExfGVufDB8fDB8fHww","https://images.unsplash.com/photo-1711937579586-32ecfa8fe62b?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTl8fHMlQzMlQTJuJTIwYiVDMyVCM25nJTIwJUM0JTkxJUMzJUExfGVufDB8fDB8fHww","https://plus.unsplash.com/premium_photo-1684713510655-e6e31536168d?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cyVDMyVBMm4lMjBiJUMzJUIzbmclMjAlQzQlOTElQzMlQTF8ZW58MHx8MHx8fDA%3D","https://images.unsplash.com/photo-1698466631717-c98321f7ea85?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8N3x8cyVDMyVBMm4lMjBiJUMzJUIzbmclMjAlQzQlOTElQzMlQTF8ZW58MHx8MHx8fDA%3D","https://images.unsplash.com/photo-1603988363607-e1e4a66962c6?auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1575052814086-f385e2e2ad1b?auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1518611012118-696072aa579a?auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1506126613408-eca07ce68773?auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1552196563-55cd4e45efb3?auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1602827114685-efbb2717da9f?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8eW9nYSUyMCUyNiUyMHBpYXRlcyUyMHBsYWNlc3xlbnwwfHwwfHx8MA%3D%3D","https://images.unsplash.com/photo-1599447421376-611783057464?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTV8fHlvZ2ElMjAlMjYlMjBwaWF0ZXMlMjBwbGFjZXN8ZW58MHx8MHx8fDA%3D","https://images.unsplash.com/photo-1661308411865-4fce7576bef8?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTJ8fHlvZ2ElMjAlMjYlMjBwaWF0ZXMlMjBwbGFjZXN8ZW58MHx8MHx8fDA%3D","https://images.unsplash.com/photo-1599447421376-611783057464?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTV8fHlvZ2ElMjAlMjYlMjBwaWF0ZXMlMjBwbGFjZXN8ZW58MHx8MHx8fDA%3D","https://images.unsplash.com/photo-1758599879559-efc4a3fb4243?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTR8fHlvZ2ElMjAlMjYlMjBwaWF0ZXMlMjBwbGFjZXN8ZW58MHx8MHx8fDA%3D","https://images.unsplash.com/photo-1476480862126-209bfaa8edc8?auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1461896836934-ffe607ba8211?auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1519331379826-f10be5486c6f?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8cGFya3xlbnwwfHwwfHx8MA%3D%3D","https://images.unsplash.com/photo-1561133211-6067fc8e7348?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8cGFya3xlbnwwfHwwfHx8MA%3D%3D","https://images.unsplash.com/photo-1605540827677-693bad36b91f?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTV8fHBhcmt8ZW58MHx8MHx8fDA%3D","https://media.istockphoto.com/id/2219287893/photo/young-adult-child-workout-outdoor-public-park-run-walk-hold-water-bottle-with-mature-middle.webp?a=1&b=1&s=612x612&w=0&k=20&c=QQJ7L3m_mok9Ldzsf5BfJyf4QtntIxV9hAIr8v6MxZE=","https://images.unsplash.com/photo-1651149704341-a8f5398bd7d0?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8bWFyYXRob25zJTIwZmllbGRzfGVufDB8fDB8fHww","https://media.istockphoto.com/id/624458084/photo/outdoors-stadium-runway-scenery.webp?a=1&b=1&s=612x612&w=0&k=20&c=7qTZaOAaNPt7FKv8Mj0mIZQTjJqk0GHHWkEJiYZlHFM=","https://media.istockphoto.com/id/2235457405/photo/sunset-at-the-running-track.webp?a=1&b=1&s=612x612&w=0&k=20&c=RrXL6_5mBtjq96thEe16Uh0aGBpYIZBPSWJ9hRl2b4o=","https://images.unsplash.com/photo-1765261371855-967aef597a9b?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8bWFyYXRob25zJTIwZmllbGRzfGVufDB8fDB8fHww","https://images.unsplash.com/photo-1576013551627-0cc20b96c2a7?auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1600965962102-9d260a71890d?auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1519315901367-f34ff9154487?auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1530549387789-4c1017266635?auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1575424909138-46b05e5919ec?auto=format&fit=crop&w=1000&q=80","https://plus.unsplash.com/premium_photo-1676638836435-8c03501bb959?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8c3dpbW1pbmclMjBwb29sfGVufDB8fDB8fHww","https://images.unsplash.com/photo-1576610616656-d3aa5d1f4534?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OHx8c3dpbW1pbmclMjBwb29sfGVufDB8fDB8fHww","https://images.unsplash.com/photo-1575429198097-0414ec08e8cd?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTJ8fHN3aW1taW5nJTIwcG9vbHxlbnwwfHwwfHx8MA%3D%3D","https://images.unsplash.com/photo-1557459325-b6733cbeae9c?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8c3dpbW1pbmclMjBwb29sc3xlbnwwfHwwfHx8MA%3D%3D","https://images.unsplash.com/photo-1669613357541-1b7321bb273d?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTV8fHN3aW1taW5nJTIwcG9vbHN8ZW58MHx8MHx8fDA%3D","https://images.unsplash.com/photo-1626721105368-a69248e93b32?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTF8fGJhZG1pbnRvbiUyMGNvdXJ0fGVufDB8fDB8fHww","https://media.istockphoto.com/id/654106838/photo/man-playing-badminton.webp?a=1&b=1&s=612x612&w=0&k=20&c=iLNK-2hWvj4BmM4hlaQcQ1Emo8VrREHZ8fFINwzEh40=","https://images.unsplash.com/photo-1723633236252-eb7badabb34c?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MzZ8fGJhZG1pbnRvbiUyMGNvdXJ0fGVufDB8fDB8fHww","https://images.unsplash.com/photo-1732955365693-fbd795199803?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NDV8fGJhZG1pbnRvbiUyMGNvdXJ0fGVufDB8fDB8fHww","https://images.unsplash.com/photo-1717659487323-7783a99bcf61?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NzN8fGJhZG1pbnRvbiUyMGNvdXJ0fGVufDB8fDB8fHww","https://images.unsplash.com/photo-1599474924187-334a4ae5bd3c?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NzR8fGJhZG1pbnRvbiUyMGNvdXJ0fGVufDB8fDB8fHww","https://plus.unsplash.com/premium_photo-1709049359083-d1d666912035?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8ODd8fGJhZG1pbnRvbiUyMGNvdXJ0fGVufDB8fDB8fHww","https://images.unsplash.com/photo-1595220427358-8cf2ce3d7f89?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTl8fGJhZG1pbnRvbnxlbnwwfHwwfHx8MA%3D%3D","https://images.unsplash.com/photo-1733141731755-272381a17c59?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NDJ8fGJhZG1pbnRvbnxlbnwwfHwwfHx8MA%3D%3D","https://images.unsplash.com/photo-1626721105368-a69248e93b32?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8YmFkbWludG9ufGVufDB8fDB8fHww"],X=[{label:"gym",trans:"Gym"},{label:"yoga",trans:"Yoga"},{label:"pilates",trans:"Pilates"},{label:"crossfit",trans:"CrossFit"},{label:"boxing",trans:"Boxing"},{label:"running",trans:"Running"},{label:"swimming",trans:"Swimming"},{label:"cycling",trans:"Cycling"},{label:"bouldering",trans:"Bouldering"},{label:"golf",trans:"Golf"},{label:"badminton",trans:"Badminton"},{label:"tennis",trans:"Tennis"},{label:"table_tennis",trans:"Table Tennis"},{label:"basketball",trans:"Basketball"},{label:"soccer",trans:"Soccer"},{label:"volleyball",trans:"Volleyball"}],ke=()=>e.jsx("div",{className:"bg-[#3313E5] text-white text-xs sm:text-sm py-3 sm:py-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 flex flex-wrap items-center gap-3 sm:gap-6 justify-between sm:justify-end",children:[e.jsxs("div",{className:"flex items-center gap-1 min-w-[140px]",children:[e.jsx(te,{size:14}),e.jsx("span",{className:"truncate",children:G.phone})]}),e.jsxs("div",{className:"flex items-center gap-1 min-w-[160px]",children:[e.jsx(ae,{size:14}),e.jsx("span",{className:"truncate",children:G.email})]}),e.jsxs("div",{className:"flex items-center gap-1 min-w-[180px]",children:[e.jsx(K,{size:14}),e.jsx("span",{className:"truncate",children:G.address})]})]})}),Me="/assets/logo-BgUTnML6.png",Se="/assets/error-DEbg1VBj.png",Pe="/assets/default_avatar-CvL5DkTl.png",Ce={vi:{welcome:"Chào mừng đến với dự án FreeTime Spots",login:"Đăng nhập",email:"Địa chỉ Email",password:"Mật khẩu",confirm_password:"Xác nhận mật khẩu",forgot_password:"Quên mật khẩu?",reset_password:"Đặt lại mật khẩu",reset_password_failed:"Đặt lại mật khẩu thất bại",new_password:"Mật khẩu mới",change_password:"Đổi mật khẩu",register:"Đăng ký",don_t_have_account:"Chưa có tài khoản?",already_have_account:"Đã có tài khoản?",please_enter_email:"Vui lòng nhập địa chỉ email liên kết với tài khoản của bạn.",otp_note:"Mã OTP sẽ được gửi đến địa chỉ email đã đăng ký của bạn.",get_otp:"Lấy mã OTP",get_otp_failed:"Lấy mã OTP thất bại",invalid_otp:"Mã OTP không hợp lệ",home:"Trang chủ",schedule:"Lịch trình",map:"Bản đồ",my_page:"Trang của tôi",check_email:"Vui lòng kiểm tra email của bạn",enter_otp_sent_to:a=>`Nhập mã OTP đã gửi đến ${a}`,verify:"Xác minh",did_not_receive_code:"Không nhận được mã?",resend_code:"Gửi lại mã",enter_new_password:"Nhập mật khẩu mới của bạn",remember_password:"Đã nhớ mật khẩu? ",change_password_success:"Đổi mật khẩu thành công",change_password_failed:"Đổi mật khẩu thất bại",change_password_process_success:"Quá trình đặt lại mật khẩu hoàn tất thành công",password_not_match:"Mật khẩu xác nhận không khớp với mật khẩu mới",back_to_login:"Quay lại đăng nhập",where_you_go:"Bạn sẽ đi đâu? ",more:"Xem thêm",less:"Thu gọn",gym:"Gym",yoga:"Yoga",pilates:"Pilates",crossfit:"Crossfit",boxing:"Boxing",running:"Chạy bộ",swimming:"Bơi lội",cycling:"Đạp xe",bouldering:"Leo núi trong nhà",golf:"Golf",badminton:"Cầu lông",tennis:"Tennis",table_tennis:"Bóng bàn",basketball:"Bóng rổ",soccer:"Bóng đá",volleyball:"Bóng chuyền",suggest_list:"Danh sách gợi ý",order:"Thứ tự",search:"Tìm kiếm",type:"Thể Loại",distance:"Khoảng cách",from_work:"Từ chỗ làm",from_home:"Từ nhà",view_details:"Chi tiết",address_suggestion:"Gợi ý địa chỉ",place_name:"Tên địa điểm",address:"Địa chỉ",add_suggestion:"Thêm gợi ý",location_details:"Chi tiết địa điểm",opening_hours:"Giờ mở cửa",personal_info:"Thông tin cá nhân",system_config:"Cấu hình hệ thống",general_info:"Thông tin chung",home_address:"Địa chỉ nhà",office_address:"Địa chỉ văn phòng",security_and_account:"Bảo mật & Tài khoản",general_settings:"Cài đặt chung",setting:"Cài đặt",language:"Ngôn ngữ",sign_out:"Đăng xuất",confirm:"Xác nhận",username:"Tên đăng nhập",actions:"Hành động",edit:"Sửa",delete:"Xóa",server_error:"Đã xảy ra lỗi máy chủ",sending:"Đang gửi...",error_creating_filter_place:"Lỗi khi tạo địa điểm lọc",confirm_delete:"Bạn có chắc chắn muốn xóa không?",delete_filter_place_success:"Xóa địa điểm lọc thành công",delete_filter_place_error:"Lỗi khi xóa địa điểm lọc",otp_sent_to_email:"OTP đã được gửi đến email của bạn!",email_not_registered:"Địa chỉ email này chưa được đăng ký",too_many_requests:"Quá nhiều yêu cầu. Vui lòng thử lại sau",check_internet_connection:"Vui lòng kiểm tra kết nối internet",enter_6_digit_otp:"Vui lòng nhập mã OTP gồm 6 chữ số",otp_verification_success:"Xác minh OTP thành công!",otp_expired:"OTP đã hết hạn. Vui lòng gửi lại",otp_invalid:"OTP không hợp lệ. Vui lòng thử lại",otp_verification_failed:"Xác minh OTP thất bại",authenticating:"Đang xác thực...",please_fill_all_fields:"Vui lòng điền vào tất cả các trường",login_success:"Đăng nhập thành công",login_failed:"Đăng nhập thất bại",cant_get_current_location:"Không thể lấy vị trí hiện tại.",cant_find_location:"Không thể tìm thấy vị trí.",cant_find_activity:a=>`Không tìm thấy địa điểm ${a} nào quanh khu vực này.`,get_place_details_error:"Không thể lấy chi tiết địa điểm.",getting_place_details:"Đang lấy chi tiết địa điểm...",mon_to_sun:"Thứ Hai - Chủ Nhật",password_min_length:"Mật khẩu phải có ít nhất 6 ký tự",register_success:"Đăng ký thành công",register_failed:"Đăng ký thất bại",session_invalid:"Phiên đăng nhập không hợp lệ. Vui lòng bắt đầu lại.",strong_password:"Mật khẩu phải bao gồm số, chữ cái và ký tự đặc biệt.",include_alphabets:"Bao gồm chữ cái",include_numbers:"Bao gồm số",include_special_characters:"Bao gồm ký tự đặc biệt (!@#$%^&*)",password_match:"Mật khẩu khớp nhau",reseting_password:"Đang đặt lại mật khẩu...",cant_get_user_info:"Không thể lấy thông tin người dùng.",user_profile_updated_success:"Cập nhật hồ sơ thành công",user_profile_updated_failed:"Cập nhật hồ sơ thất bại",please_select_image:"Vui lòng chọn một hình ảnh",image_max_size:"Vui lòng chọn hình ảnh dưới 5MB",error_getting_filter_place:"Lỗi khi lấy địa điểm lọc",error_getting_suggestion_places:"Lỗi khi lấy danh sách gợi ý",searching_places:"Đang tìm kiếm địa điểm...",please_select_filter_place:"Vui lòng chọn một địa điểm",no_suggestions:"Không có gợi ý nào",error_getting_user_list:"Lỗi khi lấy danh sách người dùng",error_updating_user_profile:"Lỗi khi cập nhật hồ sơ người dùng",error_deleting_user:"Lỗi khi xóa người dùng",delete_user_success:"Xóa người dùng thành công",getting_user_list:"Đang lấy danh sách người dùng...",no_name:"Chưa có tên",need_login:"Bạn cần đăng nhập để truy cập trang này.",page_not_found:"Không tìm thấy trang",go_back:"Quay lại",page_not_found_message:"Trang bạn đang tìm kiếm không tồn tại hoặc có thể đã bị di chuyển hoặc xóa.",loading_data:"Đang tải dữ liệu..."},en:{welcome:"Welcome to the FreeTime Spots project",login:"Login",email:"Email Address",password:"Password",confirm_password:"Confirm Password",forgot_password:"Forgot Password?",reset_password:"Reset Password",reset_password_failed:"Reset Password Failed",new_password:"New Password",change_password:"Change Password",register:"Register",don_t_have_account:"Don't have an account?",already_have_account:"Already have an account?",please_enter_email:"Please enter the email address associated with your account.",otp_note:"An OTP code will be sent to your registered email address.",get_otp:"Get OTP Code",get_otp_failed:"Failed to get OTP code",invalid_otp:"Invalid OTP",home:"Home",schedule:"Schedule",map:"Map",my_page:"My Page",check_email:"Please check your email",enter_otp_sent_to:a=>`Enter the OTP code sent to ${a}`,verify:"Verify",did_not_receive_code:"Did not receive the code?",resend_code:"Resend Code",enter_new_password:"Enter your new password",remember_password:"Remembered your password? ",change_password_success:"Password changed successfully",change_password_failed:"Password change failed",change_password_process_success:"Password reset process completed successfully",password_not_match:"Confirm password does not match the new password",back_to_login:"Back to Login",where_you_go:"Where are you going? ",more:"Show more",less:"Show less",gym:"Gym",yoga:"Yoga",pilates:"Pilates",crossfit:"CrossFit",boxing:"Boxing",running:"Running",swimming:"Swimming",cycling:"Cycling",bouldering:"Bouldering",golf:"Golf",badminton:"Badminton",tennis:"Tennis",table_tennis:"Table Tennis",basketball:"Basketball",soccer:"Soccer",volleyball:"Volleyball",suggest_list:"Suggestion List",order:"Order",search:"Search",type:"Type",distance:"Distance",from_work:"From Work",from_home:"From Home",view_details:"Details",address_suggestion:"Address Suggestion",place_name:"Place Name",address:"Address",add_suggestion:"Add Suggestion",location_details:"Location Details",opening_hours:"Opening Hours",personal_info:"Personal Information",system_config:"System Configuration",general_info:"General Information",home_address:"Home Address",office_address:"Office Address",security_and_account:"Security & Account",general_settings:"General Settings",setting:"Setting",language:"Language",sign_out:"Sign Out",confirm:"Confirm",username:"Username",actions:"Actions",edit:"Edit",delete:"Delete",server_error:"A server error has occurred",sending:"Sending...",error_creating_filter_place:"Error creating filter place",confirm_delete:"Are you sure you want to delete?",delete_filter_place_success:"Delete filter place successfully",delete_filter_place_error:"Error deleting filter place",otp_sent_to_email:"OTP has been sent to your email!",email_not_registered:"This email address is not registered",too_many_requests:"Too many requests. Please try again later",check_internet_connection:"Please check your internet connection",enter_6_digit_otp:"Please enter the 6-digit OTP code",otp_verification_success:"OTP verification successful!",otp_expired:"OTP has expired. Please resend",otp_invalid:"Invalid OTP. Please try again",otp_verification_failed:"OTP verification failed",authenticating:"Authenticating...",please_fill_all_fields:"Please fill in all fields",login_success:"Login successful",login_failed:"Login failed",cant_get_current_location:"Can't get current location.",cant_find_location:"Can't find location.",cant_find_activity:a=>`No ${a} places found around this area.`,get_place_details_error:"Can't get place details.",getting_place_details:"Getting place details...",mon_to_sun:"Monday - Sunday",password_min_length:"Password must be at least 6 characters long",register_success:"Registration successful",register_failed:"Registration failed",session_invalid:"Session is invalid. Please start over.",strong_password:"Password must include numbers, letters, and special characters.",include_alphabets:"Include alphabets",include_numbers:"Include numbers",include_special_characters:"Include special characters (!@#$%^&*)",password_match:"Passwords match",reseting_password:"Resetting Password...",cant_get_user_info:"Can't get user information.",user_profile_updated_success:"User profile updated successfully",user_profile_updated_failed:"User profile update failed",please_select_image:"Please select an image",image_max_size:"Please select an image under 5MB",error_getting_filter_place:"Error getting filter place",error_getting_suggestion_places:"Error getting suggestion list",searching_places:"Searching places...",please_select_filter_place:"Please select a place",no_suggestions:"No suggestions available",error_getting_user_list:"Error getting user list",error_updating_user_profile:"Error updating user profile",error_deleting_user:"Error deleting user",delete_user_success:"User deleted successfully",getting_user_list:"Getting user list...",no_name:"No name",need_login:"You need to log in to access this page.",page_not_found:"Page Not Found",go_back:"Go back",page_not_found_message:"The page you are looking for does not exist or may have been moved or deleted.",loading_data:"Loading data..."},jp:{welcome:"FreeTime Spotsプロジェクトへようこそ",login:"ログイン",email:"メールアドレス",password:"パスワード",confirm_password:"パスワード確認",forgot_password:"パスワードをお忘れの方?",reset_password:"パスワードの再設定",reset_password_failed:"パスワードの再設定に失敗しました",new_password:"新しいパスワード",change_password:"パスワードを変更する",register:"新規登録",don_t_have_account:"アカウントをお持ちでない方?",already_have_account:"既にアカウントをお持ちですか？",please_enter_email:"アカウントにご登録のメールアドレスを入力してください。",otp_note:"ご登録のメールアドレス宛に、認証コード（OTP）を送信します。",get_otp:"OTPコードを取得する",get_otp_failed:"OTPコードの取得に失敗しました",invalid_otp:"無効なOTPです",home:"ホーム",schedule:"スケジュール",map:"マップ",my_page:"マイページ",check_email:"メールをご確認ください",enter_otp_sent_to:a=>`${a}に送信した認証コードを入力してください。`,verify:"認証する",did_not_receive_code:"認証コードが届かない場合?",resend_code:"認証コードを再送信",enter_new_password:"新しいパスワードを入力してください",remember_password:"パスワードを思い出しましたか？ ",change_password_success:"パスワードの変更が完了しました",change_password_failed:"パスワードの変更に失敗しました",change_password_process_success:"パスワードの再設定が正常に完了しました",password_not_match:"確認用パスワードが新しいパスワードと一致しません",back_to_login:"ログインページへ戻る",where_you_go:"どこへ行きますか? ",more:"もっと見る",less:"閉じる",gym:"ジム",yoga:"ヨガ",pilates:"ピラティス",crossfit:"クロスフィット",boxing:"ボクシング",running:"ランニング",swimming:"プール",cycling:"サイクリング",bouldering:"ボルダリング",golf:"ゴルフ",badminton:"バドミントン",tennis:"テニス",table_tennis:"卓球",basketball:"バスケ",soccer:"サッカー",volleyball:"バレーボール",suggest_list:"提案リスト",order:"順番",search:"検索",type:"タイプ",distance:"距離",from_work:"職場から",from_home:"自宅から",view_details:"細",address_suggestion:"住所の提案",place_name:"場所の名前",address:"住所",add_suggestion:"提案を追加",location_details:"場所の詳細",opening_hours:"営業時間",personal_info:"パーソナル情報",system_config:"システムコンフィギュレーション",general_info:"総合案内",home_address:"ホームアドレス",office_address:"事務所",security_and_account:"セキュリティとアカウント",general_settings:"一般設定",setting:"設定",language:"言語",sign_out:"サインアウト",confirm:"コンファーム",username:"ユーザー名",actions:"アクション",edit:"編集",delete:"削除",server_error:"サーバーエラーが発生しました",sending:"送信中...",error_creating_filter_place:"フィルタプレースの作成エラー",confirm_delete:"本当に削除しますか？",delete_filter_place_success:"フィルタプレースの削除に成功しました",delete_filter_place_error:"フィルタプレースの削除エラー",otp_sent_to_email:"OTPをメールに送信しました！",email_not_registered:"このメールアドレスは登録されていません",too_many_requests:"リクエストが多すぎます。しばらくお待ちください",check_internet_connection:"インターネット接続を確認してください",enter_6_digit_otp:"6桁のOTPコードを入力してください",otp_verification_success:"OTP認証に成功しました！",otp_expired:"OTPの有効期限が切れました。再送信してください",otp_invalid:"無効なOTPです。もう一度お試しください",otp_verification_failed:"OTPの認証に失敗しました",authenticating:"認証中...",please_fill_all_fields:"すべてのフィールドを入力してください",login_success:"ログイン成功しました",login_failed:"ログインに失敗しました",cant_get_current_location:"現在地を取得できません。",cant_find_location:"場所が見つかりません。",cant_find_activity:a=>`このエリアで${a}のアクティビティが見つかりません。`,get_place_details_error:"場所の詳細を取得できません。",getting_place_details:"場所の詳細を取得しています...",mon_to_sun:"月曜日 - 日曜日",password_min_length:"パスワードは6文字以上である必要があります",register_success:"登録成功しました",register_failed:"登録に失敗しました",session_invalid:"セッションが無効です。最初からやり直してください。",strong_password:"パスワードは数字、文字、特殊文字を含める必要があります。",include_alphabets:"アルファベットを含む",include_numbers:"数字を含む",include_special_characters:"特殊文字を含む (!@#$%^&*)",password_match:"パスワードが一致します",reseting_password:"パスワードをリセットしています...",cant_get_user_info:"ユーザー情報を取得できません。",user_profile_updated_success:"ユーザープロフィールが正常に更新されました",user_profile_updated_failed:"ユーザープロフィールの更新に失敗しました",please_select_image:"画像を選択してください",image_max_size:"5MB以下の画像を選択してください",error_getting_filter_place:"フィルタプレースの取得エラー",error_getting_suggestion_places:"提案リストの取得エラー",searching_places:"場所を検索しています...",please_select_filter_place:"場所を選択してください",no_suggestions:"利用可能な提案はありません",error_getting_user_list:"ユーザーリストの取得エラー",error_updating_user_profile:"ユーザープロフィールの更新エラー",error_deleting_user:"ユーザーの削除エラー",delete_user_success:"ユーザーの削除に成功しました",getting_user_list:"ユーザーリストを取得しています...",no_name:"名前なし",need_login:"このページにアクセスするにはログインが必要です。",page_not_found:"ページが見つかりません",go_back:"戻る",page_not_found_message:"お探しのページは存在しないか、移動または削除された可能性があります。",loading_data:"データを読み込み中..."}},se=l.createContext(),Te=({children:a})=>{const[t,r]=l.useState("en"),d=s=>Ce[t][s]||s;return e.jsx(se.Provider,{value:{lang:t,setLang:r,t:d},children:a})},S=()=>l.useContext(se),De=()=>{const{t:a,lang:t,setLang:r}=S(),[d,s]=l.useState(!1),o=l.useMemo(()=>!!sessionStorage.getItem("authToken"),[]),i=Ne.filter(c=>c.path!=="/mypage"),p=c=>i.map(m=>e.jsx(oe,{to:m.path,className:({isActive:h})=>`transition-colors duration-200 ${h?"text-indigo-600 font-bold":"text-gray-700 hover:text-indigo-600"}`,onClick:c,children:a(m.label)},m.path));return e.jsxs("header",{className:"border-b border-gray-200 bg-white",children:[e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 h-16 flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[o&&e.jsx("button",{type:"button",className:"lg:hidden p-2 rounded-md border border-gray-200 hover:bg-gray-50 transition",onClick:()=>s(c=>!c),"aria-label":"Toggle navigation",children:d?e.jsx(L,{size:22}):e.jsx(re,{size:22})}),e.jsxs(B,{to:"/map",className:"flex items-center gap-2 group",children:[e.jsx("img",{src:Me,alt:"logo",className:"w-10 h-10 sm:w-12 sm:h-12"}),e.jsx("span",{className:"text-lg sm:text-xl font-bold text-indigo-600 whitespace-nowrap",children:"FreeTime Spots"})]})]}),o&&e.jsx("nav",{className:"hidden lg:flex items-center gap-8 text-sm font-medium",children:p()}),e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("label",{className:"text-xs text-gray-600 hidden sm:inline",htmlFor:"lang-select",children:a("language")}),e.jsxs("select",{id:"lang-select",value:t,onChange:c=>r(c.target.value),className:"border border-gray-200 rounded-md px-2 py-1 text-sm bg-white focus:outline-none focus:ring-2 focus:ring-indigo-200 focus:border-indigo-400",children:[e.jsx("option",{value:"vi",children:"VI"}),e.jsx("option",{value:"en",children:"EN"}),e.jsx("option",{value:"jp",children:"JP"})]}),o&&e.jsx(B,{to:"/settings",className:"w-10 h-10 rounded-full bg-gray-300 overflow-hidden border border-gray-200 hover:ring-2 hover:ring-indigo-400 transition",children:e.jsx("img",{src:Pe,alt:"User",className:"w-full h-full object-cover"})})]})]}),o&&d&&e.jsx("div",{className:"lg:hidden border-t border-gray-200 bg-white shadow-sm animate-slideDown",children:e.jsx("nav",{className:"max-w-6xl mx-auto px-4 sm:px-6 py-4 flex flex-col gap-3 text-sm font-medium",children:p(()=>s(!1))})})]})},A="https://itss-be-0cm5.onrender.com/api/v1",P={FILTER_PLACES:"/FilterPlace",GYM:{SEARCH:"/Gym/search",SEARCH_ADVANCED:"/Gym/search-advanced",PLACE_DETAIL:a=>`/Gym/${a}`},AUTH:{REGISTER:"/Auth/register",LOGIN:"/Auth/login",RESET_PASSWORD_MAIL:"/Auth/reset-password-mail",VALIDATE_TOKEN:"/Auth/validate-token",RESET_PASSWORD:"/Auth/reset-password",CHANGE_PASSWORD:"/Auth/change-password"},USERS:{LIST:"/User",USER:a=>`/User/${a}`}},Ae=async(a,t)=>{try{const r=await fetch(`${A}${P.AUTH.REGISTER}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!r.ok){const s=await r.text();let o=t("register_failed");try{o=JSON.parse(s).message||t("register_failed")}catch{}throw new Error(o)}return await r.json()}catch(r){throw r}},Ee=async(a,t)=>{try{const r=await fetch(`${A}${P.AUTH.LOGIN}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!r.ok){const s=await r.text();let o=t("login_failed");try{o=JSON.parse(s).message||o}catch{}throw new Error(o)}return await r.json()}catch(r){throw r}},He=async(a,t)=>{try{const r=await fetch(`${A}${P.AUTH.RESET_PASSWORD_MAIL}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})});if(!r.ok){const d=await r.text();let s=t("get_otp_failed");try{s=JSON.parse(d).message||s}catch{}throw new Error(s)}return!0}catch(r){throw r}},Be=async(a,t)=>{try{const r=await fetch(`${A}${P.AUTH.VALIDATE_TOKEN}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:a})});if(!r.ok){const d=await r.text();let s=t("invalid_otp");try{s=JSON.parse(d).message||s}catch{}throw new Error(s)}return!0}catch(r){throw r}},ze=async(a,t)=>{try{const r=await fetch(`${A}${P.AUTH.RESET_PASSWORD}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!r.ok){const d=await r.text();let s=t("reset_password_failed");try{s=JSON.parse(d).message||s}catch{}throw new Error(s)}return!0}catch(r){throw r}},Le=({filters:a=[],onAddClick:t,selectedAddress:r,onSelectFilter:d,onDeleteSucess:s})=>{const o=E(),{t:i}=S(),p=async c=>{if(window.confirm(i("confirm_delete")))try{(await fetch(`https://itss-be-0cm5.onrender.com/api/v1${P.FILTER_PLACES}?filterPlaceId=${c}`,{method:"DELETE"})).ok&&(x.success(i("delete_filter_place_success")),s())}catch(h){console.error("Error deleting filter place:",h),x.error(h.message||"error deleting filter place"),o("/")}};return e.jsxs("aside",{className:"w-full lg:w-1/4 xl:w-1/5 space-y-6 shrink-0 h-fit bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[e.jsx("h2",{className:"font-bold text-lg text-gray-700",children:i("order")}),e.jsx("div",{className:"space-y-3",children:a.map((c,m)=>e.jsxs("div",{className:"flex items-center justify-between group cursor-pointer",onClick:()=>d(c.address),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"location_filter",className:"w-4 h-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",checked:r===c.address,onChange:()=>d(c.address)}),e.jsx("span",{className:"text-gray-600 text-sm",children:c.name})]}),e.jsx(ne,{onClick:()=>p(c.id),size:16,className:"text-red-400 opacity-0 group-hover:opacity-100 transition cursor-pointer"})]},c.id||m))}),e.jsx("button",{onClick:t,className:"w-full py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-400 flex items-center justify-center hover:border-indigo-500 hover:text-indigo-500 transition",children:e.jsx(le,{size:20})})]})},Oe=({spot:a})=>{const t=E(),{t:r}=S(),d=l.useMemo(()=>{const o=String(a.osmId||"default");let i=0;for(let p=0;p<o.length;p++)i=o.charCodeAt(p)+((i<<5)-i);return Math.abs(i)%W.length},[a.osmId]),s=()=>{t(`/list/${a.osmId}`)};return e.jsxs("div",{className:"bg-gray-300/50 p-0 flex flex-col md:flex-row h-auto md:h-48 rounded shadow-sm overflow-hidden mb-4",children:[e.jsx("div",{className:"w-full md:w-1/3 h-48 md:h-full bg-gray-400",children:e.jsx("img",{src:W[d],alt:a.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 p-4 relative flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:a.name}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-800 font-medium pr-2",children:a.address}),e.jsxs("div",{className:"text-gray-800 font-medium pr-2 wrap-break-word mt-1",children:[r("type"),":",e.jsx("br",{}),Array.isArray(a.sports)?a.sports.join(", "):a.sports]})]}),e.jsxs("div",{className:"text-gray-700 space-y-1 text-xs md:text-sm",children:[e.jsx("p",{children:e.jsxs("span",{className:"font-bold",children:[r("distance"),":"]})}),e.jsxs("p",{children:[r("from_work"),": ",(a.distanceInMeters/1e3).toFixed(2)," km"]})]})]})]}),e.jsx("div",{className:"flex justify-end mt-2",children:e.jsx("button",{className:"bg-transparent border border-gray-600 text-gray-700 px-6 py-1 rounded-full text-sm hover:bg-gray-700 hover:text-white transition",onClick:s,children:r("view_details")})})]})]})},$=()=>e.jsxs("div",{className:"bg-gray-300/50 p-0 flex flex-col md:flex-row h-auto md:h-48 rounded shadow-sm overflow-hidden mb-4",children:[e.jsx("div",{className:"w-full md:w-1/3 h-48 md:h-full skeleton"}),e.jsxs("div",{className:"flex-1 p-4 flex flex-col justify-between gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 w-40 skeleton"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 w-52 skeleton"}),e.jsx("div",{className:"h-3 w-44 skeleton"}),e.jsx("div",{className:"h-3 w-36 skeleton"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 w-32 skeleton"}),e.jsx("div",{className:"h-3 w-28 skeleton"}),e.jsx("div",{className:"h-3 w-24 skeleton"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("div",{className:"h-8 w-24 rounded-full skeleton"})})]})]}),Fe=({isOpen:a,onClose:t,onSuccess:r,userId:d})=>{const[s,o]=l.useState(""),[i,p]=l.useState(""),c=E(),{t:m}=S();if(!a)return null;const h=async()=>{try{await fetch(`https://itss-be-0cm5.onrender.com/api/v1${P.FILTER_PLACES}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:d,name:s,address:i})}),t(),r(),o(""),p("")}catch(w){console.error("Error creating filter place:",w),x.error(w.message||m("error_creating_filter_place")),c("/")}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 animate-fadeIn",onClick:t,children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-sm p-6 relative animate-scaleIn",onClick:w=>w.stopPropagation(),children:[e.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(L,{size:24})}),e.jsx("h2",{className:"text-xl font-bold text-center text-gray-800 mb-6",children:m("address_suggestion")}),e.jsxs("form",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:m("place_name")}),e.jsx("input",{type:"text",value:s,onChange:w=>o(w.target.value),placeholder:"家",className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:m("address")}),e.jsx("input",{type:"text",value:i,onChange:w=>p(w.target.value),placeholder:"10, Dan Phuong, Ha Noi",className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition"})]}),e.jsx("div",{className:"pt-2",children:e.jsx("button",{type:"button",onClick:h,className:"w-full border border-blue-500 text-blue-500 py-2 rounded-lg hover:bg-blue-50",children:m("add_suggestion")})})]})]})})};function Q(){const a=sessionStorage.getItem("authToken");if(!a)return null;try{return JSON.parse(atob(a.split(".")[1])).id}catch(t){return console.error("Failed to decode token:",t),null}}const Ie=()=>{const[a,t]=l.useState(!1),[r,d]=l.useState([]),[s,o]=l.useState([]),[i,p]=l.useState([]),[c,m]=l.useState(null),[h,w]=l.useState(!1),{t:g}=S(),f=Q(),n=l.useCallback(async()=>{try{const j=await(await fetch(`https://itss-be-0cm5.onrender.com/api/v1${P.FILTER_PLACES}?userId=${f}`)).json();d(j)}catch(N){console.error("Error fetching FilterPlace:",N),x.error(N.message||g("error_getting_filter_place"))}},[f,g]),u=async N=>{if(N){w(!0);try{const k=await(await fetch(`https://itss-be-0cm5.onrender.com/api/v1${P.GYM.SEARCH_ADVANCED}?originAddress=${encodeURIComponent(N)}`)).json();o(k.data||[]),p(k.data||[])}catch(j){console.error(j),x.error(j.message||g("error_getting_suggestion_places"))}finally{w(!1)}}};l.useEffect(()=>{n()},[n]);const b=N=>{m(N),N&&u(N)},v=N=>{const j=s.filter(k=>k?.name.toLowerCase().includes(N.toLowerCase())||k?.address.toLowerCase().includes(N.toLowerCase())||k?.sports.some(y=>y.toLowerCase().includes(N.toLowerCase())));p(j)},M=()=>h?e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsx($,{}),e.jsx($,{}),e.jsx($,{})]}):c?i.length===0?e.jsx("div",{className:"flex-1 flex justify-center mt-20 text-gray-500",children:(s.length===0,g("no_suggestions"))}):e.jsx("div",{className:"flex-1 overflow-y-auto pr-1 sm:pr-2 space-y-4 max-h-[60vh] md:max-h-[70vh] min-h-80",children:i.map(N=>e.jsx(Oe,{spot:N},N.id))}):e.jsx("div",{className:"flex-1 flex justify-center mt-20 text-gray-500",children:g("please_select_filter_place")});return e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-12 py-6 md:py-8",children:[e.jsx(Fe,{isOpen:a,onClose:()=>t(!1),onSuccess:n,userId:f}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 md:mb-8 border-b border-gray-200 pb-4 gap-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-700",children:g("suggest_list")}),e.jsxs("div",{className:"relative mt-4 md:mt-0 w-full md:w-64",children:[e.jsx("input",{type:"text",placeholder:g("search"),className:"w-full border-b border-gray-300 py-1 px-2 focus:outline-none focus:border-indigo-500 text-sm bg-transparent",onChange:N=>{v(N.target.value)}}),e.jsx(ie,{className:"absolute right-2 top-1 text-gray-400",size:16})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 lg:gap-8",children:[e.jsx(Le,{filters:r,onAddClick:()=>t(!0),selectedAddress:c,onSelectFilter:b,onDeleteSucess:n}),M()]})]})};function Re(){const a=E(),{t}=S(),[r,d]=l.useState({fullName:"",userName:"",email:"",phone:"",password:"",confirmPassword:"",avatarUrl:"",bio:""}),[s,o]=l.useState(!1),[i,p]=l.useState(!1),[c,m]=l.useState(!1),[h,w]=l.useState(""),g=n=>{const{name:u,value:b}=n.target;d(v=>({...v,[u]:b}))},f=async n=>{n.preventDefault(),w("");const{email:u,password:b,confirmPassword:v}=r;if(!u||!b||!v){w(t("please_fill_all_fields"));return}if(b!==v){w(t("password_not_match"));return}if(b.length<6){w(t("password_min_length"));return}try{m(!0),await Ae(r,t),x.success(t("register_success")),a("/"),d({fullName:"",userName:"",email:"",phone:"",password:"",confirmPassword:"",avatarUrl:"",bio:""})}catch(M){w(M.message||t("register_failed")),x.error(M.message||t("register_failed"))}finally{m(!1)}};return e.jsx("div",{className:"min-h-screen bg-white flex flex-col",children:e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-start md:justify-center px-4 pt-6 pb-12 md:pt-12",children:[e.jsx("div",{className:"mb-12 text-center",children:e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t("welcome")})}),e.jsxs("div",{className:"w-full max-w-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 text-center mb-8",children:t("register")}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("email")}),e.jsx("input",{name:"email",type:"email",disabled:c,value:r.email,onChange:g,placeholder:"maihuylong@gmail.com",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("password")}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{name:"password",type:s?"text":"password",value:r.password,disabled:c,onChange:g,placeholder:"••••••••",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent pr-10"}),e.jsx("button",{type:"button",onClick:()=>o(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:s?e.jsx(F,{size:20}):e.jsx(I,{size:20})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("confirm_password")}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{name:"confirmPassword",type:i?"text":"password",value:r.confirmPassword,disabled:c,onChange:g,placeholder:"••••••••",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent pr-10"}),e.jsx("button",{type:"button",onClick:()=>p(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:i?e.jsx(F,{size:20}):e.jsx(I,{size:20})})]})]}),h&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:h}),e.jsx("button",{type:"submit",disabled:c,className:"w-full bg-linear-to-r from-blue-500 to-purple-500 text-white font-semibold py-3 rounded-lg hover:shadow-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:t(c?"sending":"register")})]}),e.jsxs("p",{className:"text-center text-gray-600 text-sm mt-6",children:[t("already_have_account")," ",e.jsx(B,{to:"/",className:"text-blue-500 hover:text-blue-700 font-medium",children:t("login")})]})]})]})})}function Ue(){const a=E(),{t}=S(),[r,d]=l.useState({email:"",password:""}),[s,o]=l.useState(!1),[i,p]=l.useState(!1),[c,m]=l.useState(""),h=g=>{const{name:f,value:n}=g.target;d(u=>({...u,[f]:n}))},w=async g=>{g.preventDefault(),m("");const{email:f,password:n}=r;if(!f||!n){m(t("please_fill_all_fields"));return}try{p(!0);const u=await Ee(r,t);x.success(t("login_success")),u&&u.token&&sessionStorage.setItem("authToken",u.token),a("/map")}catch(u){m(u.message||t("login_failed")),x.error(u.message||t("login_failed"))}finally{p(!1)}};return e.jsx("div",{className:"min-h-screen bg-white flex flex-col",children:e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-start md:justify-center px-4 pt-6 pb-12 md:pt-12",children:[e.jsx("div",{className:"mb-12 text-center",children:e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t("welcome")})}),e.jsxs("div",{className:"w-full max-w-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 text-center mb-8",children:t("login")}),e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("email")}),e.jsx("input",{name:"email",type:"email",disabled:i,value:r.email,onChange:h,placeholder:"maihuylong@gmail.com",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("password")}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{name:"password",type:s?"text":"password",value:r.password,disabled:i,onChange:h,placeholder:"••••••••",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent pr-10"}),e.jsx("button",{type:"button",onClick:()=>o(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:s?e.jsx(F,{size:20}):e.jsx(I,{size:20})})]})]}),e.jsx("div",{className:"text-right",children:e.jsx(B,{to:"/forgot-password",className:"text-sm text-blue-500 hover:text-blue-700",children:t("forgot_password")})}),c&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:c}),e.jsx("button",{type:"submit",disabled:i,className:"w-full bg-linear-to-r from-blue-500 to-purple-500 text-white font-semibold py-3 rounded-lg hover:shadow-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:t(i?"authenticating":"login")})]}),e.jsxs("p",{className:"text-center text-gray-600 text-sm mt-6",children:[t("don_t_have_account")," ",e.jsx(B,{to:"/register",className:"text-blue-500 hover:text-blue-700 font-medium",children:t("register")})]})]})]})})}const qe=()=>{const[a,t]=l.useState([]),[r,d]=l.useState(!0),[s,o]=l.useState(1),[i,p]=l.useState(0),[c]=l.useState(10),{t:m}=S(),[h,w]=l.useState(null),[g,f]=l.useState({userName:"",email:"",fullName:"",bio:"",phone:"",avatarUrl:"",homeAddress:"",workAddress:""}),n=async y=>{d(!0);try{const _=new URLSearchParams({pageNumber:y,pageSize:c}).toString(),D=await fetch(`${A}${P.USERS.LIST}?${_}`);if(!D.ok){const z=await D.text();let q=m("error_getting_user_list");try{q=JSON.parse(z).message||m("error_getting_user_list")}catch{q=z||m("error_getting_user_list")}throw new Error(q)}const C=await D.json();t(C.data||[]),p(C.totalPages||1)}catch(_){console.error("Fetch error:",_),O.error(m("error_getting_user_list"))}finally{d(!1)}};l.useEffect(()=>{n(s)},[s]);const u=(y,_)=>{y.preventDefault(),w(_.id),f({userName:_.userName||"",email:_.email||"",fullName:_.fullName||"",bio:_.bio||"",phone:_.phone||"",avatarUrl:_.avatarUrl||"",workAddress:_.workAddress||"",homeAddress:_.homeAddress||""})},b=y=>{const _=y.target.getAttribute("name"),D=y.target.value;f(C=>({...C,[_]:D}))},v=()=>{w(null)},M=async y=>{try{const _=await fetch(`${A}${P.USERS.USER(y)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(!_.ok){const C=await _.text();let z=m("error_updating_user_profile");try{z=JSON.parse(C).message||m("error_updating_user_profile")}catch{z=C||m("error_updating_user_profile")}throw new Error(z)}const D=a.map(C=>C.id===y?{...C,...g}:C);t(D),w(null),O.success(m("user_profile_updated_success"))}catch(_){console.log("Update error:",_),O.error(m("error_updating_user_profile"))}},N=async y=>{if(window.confirm(m("confirm_delete")))try{const _=await fetch(`${A}${P.USERS.USER(y)}`,{method:"DELETE"});if(!_.ok){const D=await _.text();let C=m("error_deleting_user");try{C=JSON.parse(D).message||m("error_deleting_user")}catch{C=D||m("error_deleting_user")}throw new Error(C)}O.success(m("delete_user_success")),n(s)}catch(_){console.log("Delete error:",_),O.error(m("error_deleting_user"))}},j=y=>{y>=1&&y<=i&&o(y)},k=()=>{const y=[];for(let _=1;_<=i;_++)y.push(_);return e.jsx("div",{className:"flex justify-center mt-6",children:e.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm bg-white","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>j(s-1),disabled:s===1,className:`relative inline-flex items-center rounded-l-md px-3 py-2 text-blue-500 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 ${s===1?"cursor-not-allowed text-gray-300":""}`,children:[e.jsx("span",{className:"sr-only",children:"Previous"}),"«"]}),y.map(_=>e.jsx("button",{onClick:()=>j(_),className:`relative inline-flex items-center px-4 py-2 text-sm font-semibold ring-1 ring-inset ring-gray-300 focus:z-20 focus:outline-offset-0 
                        ${s===_?"z-10 bg-blue-50 text-blue-600":"text-blue-500 hover:bg-gray-50"}`,children:_},_)),e.jsxs("button",{onClick:()=>j(s+1),disabled:s===i,className:`relative inline-flex items-center rounded-r-md px-3 py-2 text-blue-500 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 ${s===i?"cursor-not-allowed text-gray-300":""}`,children:[e.jsx("span",{className:"sr-only",children:"Next"}),"»"]})]})})};return r&&a.length===0?e.jsx("div",{className:"p-10 text-center",children:m("getting_user_list")}):e.jsx("div",{className:"p-10 bg-white max-h-screen font-sans",children:e.jsxs("div",{className:"w-full max-w-7xl mx-auto",children:[e.jsx("form",{children:e.jsxs("table",{className:"w-full border-collapse mb-6",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-100 bg-gray-50/50",children:[e.jsx("th",{className:"py-3 px-4 text-left text-xs font-bold text-gray-600 uppercase w-1/3",children:m("username")}),e.jsx("th",{className:"py-3 px-4 text-left text-xs font-bold text-gray-600 uppercase w-1/3",children:m("email")}),e.jsx("th",{className:"py-3 px-4 text-center text-xs font-bold text-gray-600 uppercase w-1/3",children:m("actions")})]})}),e.jsx("tbody",{children:a.map(y=>e.jsx(ce.Fragment,{children:h===y.id?e.jsxs("tr",{className:"bg-blue-50",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsx("input",{type:"text",required:!0,name:"userName",value:g.userName,onChange:b,className:"w-full px-2 py-1 border border-blue-300 rounded text-sm"})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("input",{type:"email",required:!0,name:"email",value:g.email,onChange:b,className:"w-full px-2 py-1 border border-blue-300 rounded text-sm"})}),e.jsx("td",{className:"py-4 px-4 text-center",children:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx("button",{type:"button",onClick:()=>M(y.id),className:"bg-green-600 text-white text-xs px-3 py-1.5 rounded",children:"Save"}),e.jsx("button",{type:"button",onClick:v,className:"bg-gray-400 text-white text-xs px-3 py-1.5 rounded",children:"Cancel"})]})})]}):e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"py-4 px-4 text-sm font-medium text-gray-800",children:y.userName||e.jsx("span",{className:"text-gray-400 italic",children:m("no_name")})}),e.jsx("td",{className:"py-4 px-4 text-sm text-gray-600",children:y.email}),e.jsx("td",{className:"py-4 px-4 text-center",children:e.jsxs("div",{className:"flex justify-center gap-3",children:[e.jsx("button",{type:"button",onClick:_=>u(_,y),className:"bg-blue-600 hover:bg-blue-700 text-white text-xs py-1.5 px-4 rounded",children:m("edit")}),e.jsx("button",{type:"button",onClick:()=>N(y.id),className:"bg-red-700 hover:bg-red-800 text-white text-xs py-1.5 px-4 rounded",children:m("delete")})]})})]})},y.id))})]})}),k()]})})},Ge=({onSearch:a,onActivityClick:t})=>{const[r,d]=l.useState(!1),[s,o]=l.useState(""),[i,p]=l.useState(null),{t:c}=S(),m=r?X:X.slice(0,6),h=g=>{g.key==="Enter"&&a(s)},w=g=>{p(g.label),t(g.trans)};return e.jsxs("div",{className:`bg-gray-100 rounded-3xl p-6 lg:p-8 shadow-inner flex flex-col items-center transition-all duration-500 ease-in-out ${r?"h-full":"h-auto"}`,children:[e.jsxs("div",{className:"w-full max-w-sm flex flex-col gap-6 h-full",children:[e.jsxs("div",{className:"w-full bg-white rounded-xl p-4 flex items-center shadow-sm hover:shadow-md transition-shadow shrink-0",children:[e.jsx(K,{className:"text-red-500 w-6 h-6 mr-3 fill-current shrink-0"}),e.jsx("input",{type:"text",placeholder:c("where_you_go"),className:"w-full outline-none text-gray-600 font-medium placeholder-blue-300 bg-transparent",value:s,onChange:g=>o(g.target.value),onKeyDown:h})]}),e.jsx("div",{className:`grid grid-cols-1 sm:grid-cols-2 gap-4 w-full transition-all duration-500 ${r?"overflow-y-auto flex-1 pr-2 custom-scrollbar":"overflow-hidden"}`,children:m.map((g,f)=>e.jsx("button",{onClick:()=>w(g),className:`transition-all text-white font-bold py-4 rounded-xl shadow-md text-sm md:text-base flex justify-center items-center animate-fadeIn ${i===g.label?"bg-blue-700 ring-2 ring-yellow-400 scale-105":"bg-blue-500 hover:bg-blue-600 active:bg-blue-700"}`,children:c(g.label)},f))}),!r&&e.jsx("div",{className:"flex justify-center mt-2 shrink-0",children:e.jsx("button",{onClick:()=>d(!0),className:"bg-blue-800 hover:bg-blue-900 text-white text-sm font-bold py-3 px-12 rounded-full shadow-lg transition-transform transform hover:scale-105",children:c("more")})}),r&&e.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 text-sm mt-2 shrink-0",children:c("less")})]}),e.jsx("style",{children:".custom-scrollbar::-webkit-scrollbar { width: 6px; } .custom-scrollbar::-webkit-scrollbar-track { background: transparent; } .custom-scrollbar::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 20px; } @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } } .animate-fadeIn { animation: fadeIn 0.3s ease-out forwards; }"})]})},$e="3KNA0vBlH118Xu5fsFFG2QtginCvio5SoGlITmiL",R="LWoll8bukaXAeKrOV6SkFA2oaycLy2E0JG64WEQ1";H.accessToken=$e;const We=()=>{const a=l.useRef(null),t=l.useRef(null),r=l.useRef([]),d=l.useRef(null),s=l.useRef(null),[o,i]=l.useState(null),p=E(),{t:c}=S(),m=l.useCallback((f,n)=>{t.current||(t.current=new H.Map({container:a.current,style:"https://tiles.goong.io/assets/goong_map_web.json",center:[f,n],zoom:13}),t.current.addControl(new H.NavigationControl,"top-right"),s.current=new H.Marker({color:"red"}).setLngLat([f,n]).setPopup(new H.Popup().setHTML("Your location")).addTo(t.current),i({lat:n,lng:f}),setTimeout(()=>{t.current&&t.current.resize()},100))},[]);l.useEffect(()=>{if(a.current)return navigator.geolocation?navigator.geolocation.getCurrentPosition(f=>{const{longitude:n,latitude:u}=f.coords;m(n,u)},f=>{console.error("Geolocation error:",f),x.error(c("cant_get_current_location")),m(105.85,21.02)},{enableHighAccuracy:!0}):(x.error("Trình duyệt không hỗ trợ định vị."),m(105.85,21.02)),()=>{t.current&&(t.current.remove(),t.current=null)}},[m]),l.useEffect(()=>{const f=()=>{t.current&&t.current.resize()};return window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]);const h=l.useCallback((f,n,u,b)=>{if(!t.current)return;const v=new H.Popup({offset:25}).setHTML(b),M=new H.Marker({color:"#3B82F6"}).setLngLat([f,n]).setPopup(v).addTo(t.current),N=M.getElement();N.style.cursor="pointer",N.addEventListener("click",()=>{const j=encodeURIComponent("node"),k={place_id:u.place_id,name:u.name,address:u.formatted_address,sports:u.types};p(`/list/${j}/${u.place_id}`,{state:{existingData:k}})}),r.current.push(M)},[p]),w=async f=>{if(f.trim())try{const n=`https://rsapi.goong.io/Place/AutoComplete?api_key=${R}&input=${encodeURIComponent(f)}`,b=await(await fetch(n)).json();if(b.predictions?.[0]){const v=b.predictions[0].place_id,M=`https://rsapi.goong.io/Place/Detail?api_key=${R}&place_id=${v}`,j=await(await fetch(M)).json(),{lat:k,lng:y}=j.result.geometry.location;i({lat:k,lng:y}),d.current&&d.current.remove(),r.current.forEach(D=>D.remove()),r.current=[];const _=`<b>${j.result.name}</b><br/>${j.result.formatted_address}`;d.current=new H.Marker({color:"orange"}).setLngLat([y,k]).setPopup(new H.Popup({offset:25}).setHTML(_)).addTo(t.current),t.current.flyTo({center:[y,k],zoom:15,essential:!0})}else x.error(c("cant_find_location"))}catch(n){console.error(n),x.error(c("cant_find_location"))}},g=async f=>{if(!t.current)return;r.current.forEach(u=>u.remove()),r.current=[];const n=o||{lat:t.current.getCenter().lat,lng:t.current.getCenter().lng};try{const u=`https://rsapi.goong.io/Place/AutoComplete?api_key=${R}&location=${n.lat},${n.lng}&input=${encodeURIComponent(f)}`,v=await(await fetch(u)).json();if(v.predictions?.length>0){const M=v.predictions.slice(0,5);(await Promise.all(M.map(async j=>(await(await fetch(`https://rsapi.goong.io/Place/Detail?api_key=${R}&place_id=${j.place_id}`)).json()).result))).forEach(j=>{if(!j?.geometry)return;const{lat:k,lng:y}=j.geometry.location,_=`<b>${j.name}</b><br/>${j.formatted_address}`;h(y,k,j,_)})}else x.error(c("cant_find_activity")(f))}catch(u){console.error(u)}};return e.jsxs("div",{className:"min-h-screen bg-white px-4 sm:px-6 lg:px-20 py-8 md:py-12 font-sans",children:[e.jsx("div",{className:"mb-6",children:e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:c("map")})}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 lg:gap-8",children:[e.jsx("div",{className:"w-full lg:w-2/3 xl:w-3/4 relative rounded-lg overflow-hidden border border-gray-200 shadow-sm",children:e.jsx("div",{ref:a,className:"w-full h-80 sm:h-[420px] md:h-[520px] lg:h-[640px]"})}),e.jsx("div",{className:"w-full lg:w-1/3 xl:w-1/4 shrink-0",children:e.jsx(Ge,{onSearch:w,onActivityClick:g})})]})]})},Ze=()=>{const{type:a,id:t}=de(),r=E(),d=Z(),[s,o]=l.useState(d.state?.existingData||null),[i,p]=l.useState(0),[c,m]=l.useState(!1),{t:h}=S(),[w]=l.useState(()=>[...W].sort(()=>.5-Math.random()).slice(0,5)),g=l.useMemo(()=>s?.imageUrls?.length>0?s.imageUrls:w,[s,w]),f=async()=>{try{m(!0);const b=`${a}/${t}`,v=encodeURIComponent(b),M=await fetch(`${A}${P.GYM.PLACE_DETAIL(v)}`);if(!M.ok){const j=await M.text();let k=h("get_place_details_error");try{k=JSON.parse(j).message||k}catch{k=j||k}throw new Error(k)}const N=await M.json();o(N.data)}catch(b){console.error("Error fetching spot detail:",b),x.error(h("get_place_details_error"))}finally{m(!1)}};l.useEffect(()=>{s||f()},[]);const n=()=>{g.length<=1||p(b=>b===g.length-1?0:b+1)},u=()=>{g.length<=1||p(b=>b===0?g.length-1:b-1)};return c?e.jsx("div",{className:"p-10 text-center",children:h("getting_place_details")}):e.jsxs("div",{className:"max-w-6xl mx-auto p-6 md:p-10 bg-white max-h-screen font-sans text-gray-800",children:[e.jsx("h1",{className:"text-2xl font-bold mb-8 text-gray-900",children:h("location_details")}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-10",children:[e.jsx("div",{className:"w-full md:w-1/2 relative group select-none",children:e.jsxs("div",{className:"aspect-4/3 w-full overflow-hidden rounded-lg shadow-sm relative bg-gray-100",children:[e.jsx("div",{className:"flex h-full transition-transform duration-500 ease-out",style:{transform:`translateX(-${i*100}%)`},children:g.map((b,v)=>e.jsx("img",{src:b,alt:`Slide ${v}`,className:"min-w-full h-full object-cover",onError:M=>{M.target.src="https://placehold.co/600x400?text=No+Image"}},v))}),g.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:u,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/30 p-2 rounded-full hover:bg-black/50 transition opacity-0 group-hover:opacity-100 cursor-pointer z-10",children:e.jsx(me,{className:"text-white w-6 h-6"})}),e.jsx("button",{onClick:n,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/30 p-2 rounded-full hover:bg-black/50 transition opacity-0 group-hover:opacity-100 cursor-pointer z-10",children:e.jsx(ue,{className:"text-white w-6 h-6"})}),e.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2 z-10",children:g.map((b,v)=>e.jsx("button",{onClick:()=>p(v),className:`h-1.5 rounded-full transition-all duration-300 shadow-sm ${v===i?"w-8 bg-white":"w-2 bg-white/60 hover:bg-white"}`},v))})]})]})}),e.jsxs("div",{className:"w-full md:w-1/2 flex flex-col",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-2",children:s?.name}),e.jsx("p",{className:"text-gray-400 text-lg mb-6",children:s?.address||s?.description}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed mb-6",children:s?.description}),e.jsxs("div",{className:"mb-8 font-bold text-gray-800",children:[h("type")," : ",s?.sports?.join("、 ")]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 border-t border-gray-100 pt-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-bold text-gray-800 mb-2",children:[h("distance")," :"]}),e.jsx("div",{className:"text-xs text-gray-600 space-y-1",children:e.jsxs("p",{children:[h("from_work"),":"," ",s?.distanceInMeters?(s.distanceInMeters/1e3).toFixed(2):0," ","km"]})})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("h4",{className:"font-bold text-gray-800 mb-2",children:[h("opening_hours")," :"]}),e.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[e.jsx("p",{children:s?.openingHours?.days||h("mon_to_sun")}),e.jsx("p",{children:s?.openingHours?.time||"05:00 - 22:00"})]}),e.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(s?.address||s?.name||"")}`,target:"_blank",rel:"noreferrer",className:"absolute right-0 bottom-0 block w-10 h-10 hover:opacity-80 transition",children:e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/a/aa/Google_Maps_icon_%282020%29.svg",alt:"Google Map",className:"w-full h-full object-contain"})})]})]})]})]}),e.jsx("div",{className:"mt-20",children:e.jsx("button",{onClick:()=>r(-1),className:"bg-[#333333] text-white text-sm px-8 py-2 rounded-md hover:bg-black transition shadow-md",children:"Back"})})]})},Je=()=>{const[a,t]=l.useState(""),[r,d]=l.useState(!1),s=E(),{t:o}=S(),i=m=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m),p=l.useCallback(async m=>{if(m.preventDefault(),!a.trim()){x.error(o("please_enter_email"));return}if(!i(a)){x.error(o("please_enter_email"));return}d(!0);try{await He(a,o),x.success(o("otp_sent_to_email")),s("/get-otp",{state:{email:a}})}catch(h){h.response?.status===404?x.error(o("email_not_registered")):h.response?.status===429?x.error(o("too_many_requests")):h.response?.status===500?x.error(o("server_error")):navigator.onLine?x.error(h.message||o("server_error")):x.error(o("check_internet_connection"))}finally{d(!1)}},[a,s,o]),c=m=>{t(m.target.value.trim())};return e.jsx("div",{className:"min-h-screen bg-white flex flex-col",children:e.jsx("div",{className:"flex-1 flex flex-col items-center justify-start md:justify-center px-4 pt-6 pb-12 md:pt-12",children:e.jsxs("div",{className:"w-full max-w-lg",children:[e.jsx("button",{onClick:()=>s(-1),className:"mb-6 text-gray-600 hover:text-gray-900 transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500 rounded-lg p-1","aria-label":o("back_to_login"),disabled:r,children:e.jsx(J,{size:24})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2 text-center",children:o("reset_password")}),e.jsx("p",{className:"text-gray-500 mb-8 text-center",children:o("please_enter_email")}),e.jsxs("form",{onSubmit:p,className:"space-y-6",noValidate:!0,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:o("email")}),e.jsx("input",{id:"email",type:"email",value:a,disabled:r,onChange:c,placeholder:"example@gmail.com",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed transition-colors",required:!0,"aria-required":"true","aria-disabled":r,autoComplete:"email"})]}),e.jsx("div",{className:"text-gray-700 text-sm",children:o("otp_note")}),e.jsx("button",{type:"submit",disabled:r||!a,className:"w-full bg-linear-to-r from-blue-500 to-purple-500 text-white font-semibold py-3 rounded-lg hover:shadow-lg hover:from-blue-600 hover:to-purple-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:shadow-none focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2","aria-label":o(r?"sending":"get_otp"),children:o(r?"sending":"get_otp")})]}),e.jsxs("p",{className:"text-center text-gray-600 text-sm mt-6",children:[o("don_t_have_account")," ",e.jsx(B,{to:"/register",className:"text-blue-500 hover:text-blue-700 font-medium transition-colors focus:outline-none focus:underline",children:o("register")})]})]})})})},Ve=()=>{const a=E(),r=Z().state?.email,[d,s]=l.useState(["","","","","",""]),[o,i]=l.useState(!1),p=l.useRef([]),{t:c}=S();l.useEffect(()=>{r||(x.error(c("email_not_registered")),a("/forgot-password"))},[r,a,c]),l.useEffect(()=>{p.current[0]?.focus()},[]);const m=l.useCallback((n,u)=>{if(u&&isNaN(u))return;const b=[...d];b[n]=u,s(b),u!==""&&n<5&&p.current[n+1]?.focus()},[d]),h=l.useCallback((n,u)=>{u.key==="Backspace"&&!d[n]&&n>0||u.key==="ArrowLeft"&&n>0?p.current[n-1]?.focus():u.key==="ArrowRight"&&n<5&&p.current[n+1]?.focus()},[d]),w=l.useCallback(n=>{n.preventDefault();const u=n.clipboardData.getData("text").slice(0,6);if(/^\d+$/.test(u)){const b=u.split("").concat(["","","","","",""]).slice(0,6);s(b);const v=Math.min(u.length,5);p.current[v]?.focus()}},[]),g=l.useCallback(async n=>{n.preventDefault();const u=d.join("");if(u.length!==6){x.error(c("enter_6_digit_otp"));return}i(!0);try{await Be(u,c),x.success(c("otp_verification_success")),a("/reset-password",{state:{email:r,otp:u}})}catch(b){b.message.includes("expired")?x.error(c("otp_expired")):b.message.includes("invalid")?x.error(c("otp_invalid")):navigator.onLine?x.error(b.message||c("otp_verification_failed")):x.error(c("check_internet_connection")),s(["","","","","",""]),p.current[0]?.focus()}finally{i(!1)}},[d,r,a,c]),f=d.every(n=>n!=="");return r?e.jsx("div",{className:"min-h-screen bg-white flex flex-col",children:e.jsx("div",{className:"flex-1 flex flex-col items-center justify-start md:justify-center px-4 pt-6 pb-12 md:pt-12",children:e.jsxs("div",{className:"w-full max-w-lg",children:[e.jsx("button",{onClick:()=>a(-1),className:"mb-6 text-gray-600 hover:text-gray-900 transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500 rounded-lg p-1","aria-label":c("back_to_login"),disabled:o,children:e.jsx(J,{size:24})}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-3 text-center",children:c("check_email")}),e.jsx("p",{className:"text-gray-500 mb-10 text-center leading-relaxed text-sm md:text-base",children:e.jsx("span",{className:"font-medium text-gray-700",children:c("enter_otp_sent_to")(r)})}),e.jsxs("form",{onSubmit:g,className:"space-y-8",children:[e.jsx("div",{className:"flex flex-wrap justify-center gap-2 sm:gap-3 md:gap-4",children:d.map((n,u)=>e.jsx("input",{ref:b=>p.current[u]=b,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:n,disabled:o,onChange:b=>m(u,b.target.value),onKeyDown:b=>h(u,b),onPaste:w,className:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 text-center text-2xl font-bold border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 disabled:bg-gray-100 disabled:cursor-not-allowed transition-colors","aria-label":`OTP桁${u+1}`,"aria-required":"true",autoComplete:"off"},u))}),e.jsx("button",{type:"submit",disabled:o||!f,className:"w-full bg-linear-to-r from-blue-500 to-purple-500 text-white font-semibold py-3 rounded-lg hover:shadow-lg hover:from-blue-600 hover:to-purple-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:shadow-none focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2","aria-label":c(o?"authenticating":"verify"),children:c(o?"authenticating":"verify")})]})]})})}):null},Ye=()=>{const a=E(),t=Z(),{email:r,otp:d}=t.state||{},[s,o]=l.useState(""),[i,p]=l.useState(""),[c,m]=l.useState(!1),[h,w]=l.useState(!1),[g,f]=l.useState(!1),{t:n}=S(),[u,b]=l.useState({minLength:!1,hasNumber:!1,hasLetter:!1,hasSpecial:!1});l.useEffect(()=>{(!r||!d)&&(x.error(n("session_invalid")),a("/forgot-password"))},[r,d,a,n]),l.useEffect(()=>{b({minLength:s.length>=8,hasNumber:/\d/.test(s),hasLetter:/[a-zA-Z]/.test(s),hasSpecial:/[!@#$%^&*(),.?":{}|<>]/.test(s)})},[s]);const v=Object.values(u).every(Boolean),M=s&&i&&s===i,N=l.useCallback(async j=>{if(j.preventDefault(),s.length<6){x.error(n("password_min_length"));return}if(!v){x.error(n("strong_password"));return}if(s!==i){x.error(n("password_not_match"));return}f(!0);try{await ze({token:d,password:s,confirmPassword:i},n),x.success(n("change_password_success")),a("/password-changed")}catch(k){k.response?.status===400?x.error(n("otp_verification_failed")):k.response?.status===429?x.error(n("too_many_requests")):navigator.onLine?x.error(k.message||n("change_password_failed")):x.error(n("check_internet_connection"))}finally{f(!1)}},[r,d,s,i,v,a,n]);return!r||!d?null:e.jsx("div",{className:"min-h-screen bg-white flex flex-col",children:e.jsx("div",{className:"flex-1 flex flex-col items-center justify-start md:justify-center px-4 pt-6 pb-12 md:pt-12",children:e.jsxs("div",{className:"w-full max-w-lg",children:[e.jsx("button",{onClick:()=>a(-1),className:"mb-6 text-gray-600 hover:text-gray-900 transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500 rounded-lg p-1","aria-label":"前のページに戻る",disabled:g,children:e.jsx(J,{size:24})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2 text-center",children:n("enter_new_password")}),e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:n("new_password")}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",type:c?"text":"password",value:s,disabled:g,onChange:j=>o(j.target.value),placeholder:"••••••••",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent pr-10 disabled:bg-gray-100 disabled:cursor-not-allowed transition-colors",required:!0,"aria-required":"true","aria-invalid":s&&!v,"aria-describedby":"password-requirements",autoComplete:"new-password"}),e.jsx("button",{type:"button",onClick:()=>m(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none focus:text-gray-900","aria-label":c?"パスワードを隠す":"パスワードを表示",disabled:g,children:c?e.jsx(F,{size:20}):e.jsx(I,{size:20})})]}),s&&e.jsxs("div",{id:"password-requirements",className:"mt-3 space-y-2",children:[e.jsx(U,{met:u.minLength,text:n("password_min_length")}),e.jsx(U,{met:u.hasLetter,text:n("include_alphabets")}),e.jsx(U,{met:u.hasNumber,text:n("include_numbers")}),e.jsx(U,{met:u.hasSpecial,text:n("include_special_characters")})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:n("confirm_password")}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"confirmPassword",type:h?"text":"password",value:i,disabled:g,onChange:j=>p(j.target.value),placeholder:"••••••••",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent pr-10 disabled:bg-gray-100 disabled:cursor-not-allowed transition-colors",required:!0,"aria-required":"true","aria-invalid":i&&!M,autoComplete:"new-password"}),e.jsx("button",{type:"button",onClick:()=>w(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none focus:text-gray-900","aria-label":h?"パスワードを隠す":"パスワードを表示",disabled:g,children:h?e.jsx(F,{size:20}):e.jsx(I,{size:20})})]}),i&&e.jsx("div",{className:"mt-2",children:M?e.jsxs("p",{className:"text-sm text-green-600 flex items-center gap-1",children:[e.jsx(V,{size:16}),n("password_match")]}):e.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[e.jsx(L,{size:16}),n("password_not_match")]})})]}),e.jsx("button",{type:"submit",disabled:g||!v||!M,className:"w-full bg-linear-to-r from-blue-500 to-purple-500 text-white font-semibold py-3 rounded-lg hover:shadow-lg hover:from-blue-600 hover:to-purple-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:shadow-none focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2","aria-label":n(g?"reseting_password":"reset_password"),children:n(g?"reseting_password":"reset_password")})]}),e.jsxs("p",{className:"text-center text-gray-600 text-sm mt-6",children:[n("remember_password")," ",e.jsx(B,{to:"/",className:"text-blue-500 hover:text-blue-700 font-medium transition-colors focus:outline-none focus:underline",children:n("login")})]})]})})})},U=({met:a,text:t})=>e.jsxs("div",{className:`flex items-center gap-2 text-sm ${a?"text-green-600":"text-gray-500"}`,children:[a?e.jsx(V,{size:16}):e.jsx(L,{size:16}),e.jsx("span",{children:t})]}),Qe=()=>{const a=E(),{t}=S();return e.jsx("div",{className:"min-h-screen bg-white flex flex-col",children:e.jsx("div",{className:"flex-1 flex flex-col items-center justify-start md:justify-center px-4 pt-6 pb-12 md:pt-12",children:e.jsxs("div",{className:"w-full max-w-lg text-center",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center animate-bounce-slow",children:e.jsx(he,{className:"w-12 h-12 text-green-600"})})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2 text-center",children:t("change_password_success")}),e.jsx("p",{className:"text-gray-500 mb-8 text-center",children:t("change_password_process_success")}),e.jsx("button",{onClick:()=>a("/"),className:"w-full bg-linear-to-r from-blue-500 to-purple-500 text-white font-semibold py-3 rounded-lg hover:shadow-lg transition-all duration-200",children:t("back_to_login")})]})})})},Xe=({userData:a,onSave:t})=>{const[r,d]=l.useState(!1),[s,o]=l.useState({...a}),{t:i}=S();l.useEffect(()=>{a&&o({...a})},[a]);const p=h=>{const{name:w,value:g}=h.target;o(f=>({...f,[w]:g}))},c=()=>{o({...a}),d(!1)},m=()=>{t(s),d(!1)};return e.jsxs("div",{className:"animate-fadeIn flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8 border-b pb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-700",children:i("personal_info")}),!r&&e.jsx("button",{onClick:()=>d(!0),className:"text-gray-400 hover:text-indigo-600 transition p-1",children:e.jsx(Y,{size:20})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[{label:i("email"),name:"email"},{label:i("home_address"),name:"homeAddress"},{label:i("office_address"),name:"workAddress"}].map(h=>e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500",children:h.label}),e.jsx("input",{type:"text",name:h.name,readOnly:!r,value:s[h.name]||"",onChange:p,className:`w-full border rounded-lg px-4 py-2.5 outline-none transition-all ${r?"border-indigo-300 bg-white ring-2 ring-indigo-50 shadow-sm":"border-gray-200 bg-gray-50 text-gray-700"}`})]},h.name))}),r&&e.jsxs("div",{className:"flex justify-center space-x-3 pt-6  animate-slideInUp",children:[e.jsxs("button",{onClick:c,className:"flex items-center border border-red-300 text-red-500 px-8 py-2.5 rounded-full hover:bg-red-50 hover:border-red-400 transition-all duration-200 font-medium active:scale-95",children:[e.jsx(L,{size:18}),e.jsx("span",{children:i("cancel")})]}),e.jsxs("button",{onClick:m,className:"flex items-center border border-green-300 text-green-500 px-8 py-2.5 rounded-full hover:bg-green-50 hover:border-green-400 transition-all duration-200 font-medium active:scale-95",children:[e.jsx(V,{size:18}),e.jsx("span",{children:i("save")})]})]})]})},Ke=({isOpen:a,onClose:t})=>{const r=Q(),[d,s]=l.useState({oldPassword:"",newPassword:"",confirmNewPassword:""}),[o,i]=l.useState(!1),{t:p}=S();if(!a)return null;const c=h=>{s({...d,[h.target.name]:h.target.value})},m=async h=>{if(h.preventDefault(),d.newPassword!==d.confirmNewPassword){x.error(p("password_not_match"));return}i(!0);const w={id:r,...d};try{(await fetch(`${A}${P.AUTH.CHANGE_PASSWORD}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)})).ok?(x.success(p("change_password_success")),s({oldPassword:"",newPassword:"",confirmNewPassword:""}),t()):x.error(p("change_password_failed"))}catch(g){console.error("Error:",g),x.error(p("server_error"))}finally{i(!1)}};return ge.createPortal(e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center p-4 animate-fadeIn",style:{zIndex:9999},onClick:t,children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-sm overflow-hidden animate-scaleIn relative p-6",onClick:h=>h.stopPropagation(),children:[e.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(L,{size:24})}),e.jsx("h2",{className:"text-xl font-bold text-center text-gray-800 mb-6",children:p("change_password")}),e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:p("password")}),e.jsx("input",{type:"password",name:"oldPassword",value:d.oldPassword,disabled:o,required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition",placeholder:"••••••••••••",onChange:c})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:p("new_password")}),e.jsx("input",{type:"password",name:"newPassword",value:d.newPassword,disabled:o,required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition",placeholder:"••••••••••••",onChange:c})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:p("confirm_password")}),e.jsx("input",{type:"password",name:"confirmNewPassword",value:d.confirmNewPassword,disabled:o,required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition",placeholder:"••••••••••••",onChange:c})]}),e.jsx("div",{className:"pt-2",children:e.jsx("button",{type:"submit",disabled:o,className:"w-full border border-blue-500 text-blue-500 py-2 rounded-lg hover:bg-blue-50 font-bold transition-all disabled:opacity-50 active:scale-95",children:p(o?"sending":"confirm")})})]})]})}),document.body)},es=()=>{const[a,t]=l.useState(!1),{lang:r,setLang:d,t:s}=S(),o=()=>{sessionStorage.removeItem("authToken"),window.location.href="/"};return e.jsxs("div",{className:"max-w-4xl mx-auto p-8 space-y-12 animate-fadeIn",children:[e.jsxs("section",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-700",children:s("security_and_account")}),e.jsx("button",{onClick:()=>t(!0),className:"text-gray-400 hover:text-indigo-600 transition p-1",children:e.jsx(Y,{size:22})})]}),e.jsxs("div",{className:"max-w-sm space-y-1",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500",children:s("password")}),e.jsx("input",{type:"password",readOnly:!0,value:"********************",className:"w-full border border-gray-200 rounded-lg px-4 py-2.5 bg-gray-50 tracking-widest outline-none text-gray-400"})]})]}),e.jsxs("section",{children:[e.jsx("div",{className:"flex justify-between items-center mb-6 border-b pb-2",children:e.jsx("h3",{className:"text-lg font-bold text-gray-700",children:s("general_settings")})}),e.jsxs("div",{className:"max-w-sm space-y-1",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500",children:s("language")}),e.jsxs("select",{value:r,onChange:i=>d(i.target.value),className:"w-full border border-gray-200 rounded-lg px-4 py-2.5 bg-white focus:ring-2 focus:ring-indigo-100 focus:border-indigo-400 outline-none transition cursor-pointer",children:[e.jsx("option",{value:"vi",children:"Vietnamese"}),e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"jp",children:"日本語"})]})]})]}),e.jsx("div",{className:"pt-6 flex justify-center",children:e.jsx("button",{className:"border border-red-300 text-red-500 px-16 py-2.5 rounded-full hover:bg-red-50 hover:border-red-400 transition-all duration-200 font-medium active:scale-95",onClick:o,children:s("sign_out")})}),e.jsx(Ke,{isOpen:a,onClose:()=>t(!1)})]})},ss=()=>e.jsxs("div",{className:"max-w-6xl mx-auto mt-6 md:mt-10 flex flex-col lg:flex-row px-4 sm:px-6 pb-16 gap-10",children:[e.jsxs("aside",{className:"w-full lg:w-1/3 flex flex-col items-center text-center gap-3",children:[e.jsx("div",{className:"w-32 h-32 rounded-full skeleton"}),e.jsx("div",{className:"h-4 w-32 skeleton"}),e.jsx("div",{className:"h-3 w-40 skeleton"})]}),e.jsxs("section",{className:"w-full lg:w-2/3 lg:ml-12",children:[e.jsxs("div",{className:"flex space-x-2 mb-4",children:[e.jsx("div",{className:"h-10 w-28 skeleton rounded-md"}),e.jsx("div",{className:"h-10 w-32 skeleton rounded-md"})]}),e.jsxs("div",{className:"bg-white p-8 rounded-lg border border-gray-200 shadow-sm space-y-4",children:[e.jsx("div",{className:"h-4 w-44 skeleton"}),e.jsx("div",{className:"h-3 w-full skeleton"}),e.jsx("div",{className:"h-3 w-5/6 skeleton"}),e.jsx("div",{className:"h-3 w-4/6 skeleton"}),e.jsx("div",{className:"h-3 w-1/2 skeleton"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-2",children:[e.jsx("div",{className:"h-10 skeleton rounded"}),e.jsx("div",{className:"h-10 skeleton rounded"}),e.jsx("div",{className:"h-10 skeleton rounded"}),e.jsx("div",{className:"h-10 skeleton rounded"})]})]})]})]}),ts=()=>{const[a,t]=l.useState("personal"),[r,d]=l.useState(null),[s,o]=l.useState(!0),{t:i}=S(),p=l.useRef(null),c=Q(),m=l.useCallback(async()=>{try{const f=await fetch(`${A}${P.USERS.USER(c)}`);if(f.ok){const n=await f.json();d(n)}}catch(f){x.error(i("cant_get_user_info")),console.error("error in fetchUserData: ",f)}finally{o(!1)}},[c,i]);l.useEffect(()=>{m()},[m]);const h=async f=>{try{(await fetch(`${A}${P.USERS.USER(c)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)})).ok?(d(f),x.success(i("user_profile_updated_success"))):x.error(i("user_profile_update_failed"))}catch(n){console.error("error in update user: ",n),x.error(i("server_error"))}},w=f=>{const n=f.target.files[0];if(!n)return;if(!n.type.startsWith("image/")){x.error(i("please_select_image"));return}if(n.size>5*1024*1024){x.error(i("image_max_size"));return}const u=new FileReader;u.onloadend=()=>{const b=u.result;h({...r,avatarUrl:b})},u.readAsDataURL(n)},g=()=>{p.current.click()};return s?e.jsx(ss,{}):e.jsxs("div",{className:"max-w-6xl mx-auto mt-6 md:mt-10 flex flex-col lg:flex-row px-4 sm:px-6 pb-16 gap-10",children:[e.jsx("input",{type:"file",ref:p,onChange:w,accept:"image/*",className:"hidden"}),e.jsxs("aside",{className:"w-full lg:w-1/3 flex flex-col items-center text-center",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-full flex items-center justify-center border-2 border-gray-100 shadow-sm overflow-hidden",children:r?.avatarUrl?e.jsx("img",{src:r.avatarUrl,alt:"Avatar",className:"w-full h-full object-cover"}):e.jsx(pe,{size:50,className:"text-gray-400"})}),e.jsx("button",{onClick:g,className:"absolute top-0 -right-2 bg-white p-1.5 rounded-full shadow-md border border-gray-200 hover:bg-indigo-50 hover:text-indigo-600 transition-all",children:e.jsx(Y,{size:20})})]}),e.jsx("h2",{className:"mt-4 font-bold text-xl text-gray-800",children:r?.userName||"N/A"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[i("email"),": ",r?.email]})]}),e.jsxs("section",{className:"w-full lg:w-2/3 lg:ml-12",children:[e.jsxs("div",{className:"flex space-x-1 mb-0 overflow-x-auto",children:[e.jsx("button",{onClick:()=>t("personal"),className:`px-5 py-2.5 flex items-center space-x-2 rounded-t-lg transition-all duration-200 ${a==="personal"?"bg-white border-t border-l border-r border-gray-200 font-semibold text-indigo-700":"bg-gray-200 text-gray-500 hover:bg-gray-300"}`,children:e.jsx("span",{children:i("personal_info")})}),e.jsx("button",{onClick:()=>t("system"),className:`px-5 py-2.5 rounded-t-lg transition-all duration-200 ${a==="system"?"bg-white border-t border-l border-r border-gray-200 font-semibold text-indigo-700":"bg-gray-200 text-gray-500 hover:bg-gray-300"}`,children:e.jsx("span",{children:i("system_config")})})]}),e.jsx("div",{className:"bg-white p-8 rounded-b-lg rounded-tr-lg border border-gray-200 shadow-sm min-h-[400px]",children:a==="personal"?e.jsx(Xe,{userData:r,onSave:h},r?.id||"loading"):e.jsx(es,{})})]})]})},as=({children:a})=>{const t=sessionStorage.getItem("authToken"),{t:r}=S();return t?a:(x.error(r("need_login")),e.jsx(fe,{to:"/"}))},rs=()=>{const a=E(),{t}=S();return e.jsx("div",{className:"min-h-screen bg-white flex flex-col",children:e.jsx("div",{className:"flex-1 flex flex-col items-center justify-start md:justify-center px-4 pt-8 pb-12 md:pt-12",children:e.jsxs("div",{className:"w-full max-w-lg text-center",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-9xl font-extrabold text-transparent bg-clip-text bg-linear-to-r from-blue-500 to-purple-500",children:"404"}),e.jsx("div",{className:"h-1.5 w-20 bg-linear-to-r from-blue-500 to-purple-500 mx-auto rounded-full mt-2"})]}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:t("page_not_found")}),e.jsx("p",{className:"text-gray-500 mb-10",children:t("page_not_found_message")}),e.jsx("div",{className:"flex flex-col gap-4",children:e.jsxs("button",{onClick:()=>a(-1),className:"w-full bg-linear-to-r from-blue-500 to-purple-500 text-white font-semibold py-3 rounded-lg hover:shadow-lg transition-all duration-200 flex items-center justify-center gap-2",children:[e.jsx(ee,{size:20}),t("go_back")]})})]})})})};function os(){return e.jsx(Te,{children:e.jsx(xe,{children:e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsxs("div",{className:"sticky top-0 z-20 shadow-sm",children:[e.jsx(ke,{}),e.jsx(De,{})]}),e.jsxs("div",{className:"flex-1 bg-gray-50",children:[e.jsxs(be,{children:[e.jsxs(T,{element:e.jsx(as,{children:e.jsx(we,{})}),children:[e.jsx(T,{path:"/list",element:e.jsx(Ie,{})}),e.jsx(T,{path:"/list/:type/:id",element:e.jsx(Ze,{})}),e.jsx(T,{path:"/users",element:e.jsx(qe,{})}),e.jsx(T,{path:"/map",element:e.jsx(We,{})}),e.jsx(T,{path:"/settings",element:e.jsx(ts,{})})]}),e.jsx(T,{path:"/",element:e.jsx(Ue,{})}),e.jsx(T,{path:"/register",element:e.jsx(Re,{})}),e.jsx(T,{path:"/forgot-password",element:e.jsx(Je,{})}),e.jsx(T,{path:"/get-otp",element:e.jsx(Ve,{})}),e.jsx(T,{path:"/reset-password",element:e.jsx(Ye,{})}),e.jsx(T,{path:"/password-changed",element:e.jsx(Qe,{})}),e.jsx(T,{path:"*",element:e.jsx(rs,{})})]}),e.jsx(_e,{})]})]})})})}const ns=()=>{const a=()=>{window.location.href="/"},t=()=>{window.location.reload()};return e.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-lg w-full text-center space-y-6",children:[e.jsxs("div",{className:"relative mx-auto w-64 h-64 mb-6",children:[e.jsx("img",{src:Se,alt:"Sports Error",className:"w-full h-full object-contain opacity-90 drop-shadow-xl animate-bounce-slow"}),e.jsx("div",{className:"absolute -bottom-4 left-1/2 -translate-x-1/2 w-32 h-4 bg-black/10 rounded-[50%] blur-md"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-5xl md:text-6xl font-extrabold tracking-tight",style:{color:"#3313E5"},children:"Oops!"}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Something went wrong."}),e.jsx("p",{className:"text-gray-500 text-lg max-w-sm mx-auto leading-relaxed",children:"An unexpected error has occurred. Please try again later or return to the home page."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mt-8",children:[e.jsx("button",{onClick:t,className:"w-full sm:w-auto px-8 py-3 rounded-xl border-2 border-gray-200 text-gray-600 font-bold hover:bg-gray-100 hover:border-gray-300 transition-all flex items-center justify-center gap-2",children:e.jsx(ye,{size:20})}),e.jsxs("button",{onClick:a,style:{backgroundColor:"#3313E5"},className:"w-full sm:w-auto px-8 py-3 rounded-xl text-white font-bold shadow-lg hover:opacity-90 hover:scale-105 transition-all transform flex items-center justify-center gap-2",children:[e.jsx(ee,{size:20}),"Back to Home Page"]})]})]})})};je.createRoot(document.getElementById("root")).render(e.jsx(ve,{FallbackComponent:ns,children:e.jsx(l.StrictMode,{children:e.jsx(os,{})})}));
